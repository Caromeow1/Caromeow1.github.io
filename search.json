[{"title":"Unityè¿›é˜¶ï¼šUGUIæ¡†æ¶çš„æ­å»º","path":"/2023/09/25/Unityè¿›é˜¶ï¼šUGUIæ¡†æ¶çš„æ­å»º/","content":"å‘ç°äº†ä¸€ç¯‡å¾ˆå¥½çš„UIæ¡†æ¶ï¼Œå­¦ä¹ ä¸€ä¸‹ï¼ŒæŒ‰ç…§è‡ªå·±çš„ç†è§£åˆ†äº«å‡ºæ¥ åŸæ–‡ï¼šã€Unityã€‘æ¸¸æˆUIæ¡†æ¶ï¼ˆåŸºäºUGUIï¼‰_unity uguiæ¡†æ¶_Torta_twoçš„åšå®¢-CSDNåšå®¢ è¿è¡Œæ•ˆæœï¼š åŸºæœ¬æ¶æ„ï¼š å…·ä½“å®ç°ï¼š å¦‚ä½•ä½¿ç”¨ï¼š","tags":["Unity","UGUIæ¡†æ¶"]},{"title":"Unityå°åŠŸèƒ½ï¼šç®€æ˜“èƒŒåŒ…çš„å®ç°","path":"/2023/09/23/Unityå°åŠŸèƒ½ï¼šç®€æ˜“èƒŒåŒ…çš„å®ç°/","content":"æƒ³å­¦ä¹ ä¸€ä¸ªèƒŒåŒ…åŠŸèƒ½çš„å®ç°ï¼Œåœ¨Bç«™çœ‹äº†å‡ ä¸ªè§†é¢‘ï¼Œæ„Ÿè§‰éƒ½æœ‰ä¸ç¬¦åˆè‡ªå·±ä¹ æƒ¯çš„éƒ¨åˆ†ï¼Œäºæ˜¯æŠŠå„å®¶ç»“åˆèµ·æ¥ï¼Œè‡ªå·±ç¢ç£¨äº†ä¸€ä¸ªï¼Œç›®å‰åªæœ‰ç®€é™‹çš„åŠŸèƒ½ï¼Œè¿˜æœ‰å¾…å®Œå–„ ï¼ˆä»Šå¤©ç”¨äº†ä¸€ä¸‹Riderï¼ŒçœŸçš„å¥½ç”¨ï¼Œååˆ†äººæ€§åŒ–ï¼Œæ¯”å¦‚æ‰“å¤§æ‹¬å·è‡ªåŠ¨ä¼šæŠŠåé¢çš„å†…å®¹æ¡†èµ·æ¥ï¼Œä»£ç æ•´ç†ä¼šåˆ é™¤å¤šä½™è¡Œï¼Œé¢œè‰²ä¹Ÿæ¯”VSå¥½çœ‹ï¼Œæ„Ÿè§‰æ•²ä»£ç çš„é€Ÿåº¦ç¬é—´å˜å¿«ï¼Œç‹ ç‹ æ»´ç”¨èµ·æ¥ï¼ï¼‰ æ•ˆæœæ¼”ç¤ºï¼š åˆ¶ä½œæ€è·¯ï¼š æ•´ä½“é€»è¾‘ï¼š ç‰©å“è¢«æ‹¾å– ğŸ‘‰ è°ƒç”¨æ‹¾å–è€…çš„PickUpæ–¹æ³• ğŸ‘‰ è°ƒç”¨æ‹¾å–è€…èƒŒåŒ…çš„AddItemæ–¹æ³•ï¼Œå°†è¯¥ç‰©ä½“åŠ å…¥åˆ°åˆ—è¡¨ä¸­ ğŸ‘‰ æ›´æ–°èƒŒåŒ…ä¸­çš„å¯¹åº”æ ¼å­ ç‚¹å‡»ä¸¢å¼ƒç‰©å“ ğŸ‘‰ ç‰©ä½“åˆ—è¡¨å‡å»å¯¹åº”æ•°é‡ï¼Œå‡å®Œå°±ç§»é™¤è¯¥ç‰©å“ ğŸ‘‰ æ›´æ–°æ ¼å­ ï¼ˆå½“ç„¶è¿˜æœ‰å„ç§é€»è¾‘åˆ¤æ–­ï¼‰ è®¾è®¡èƒŒåŒ…ç±»ï¼š å…ˆç®€å•å†™ä¸€ä¸‹èƒŒåŒ…é¢æ¿çš„æ‰“å¼€å…³é—­é€»è¾‘ 1234567891011121314151617181920212223242526272829private void InventoryControl()&#123; if (Input.GetKeyDown(KeyCode.I))// æŒ‰ä¸‹ I é”®æ—¶ &#123; // å¦‚æœæ¸¸æˆæ˜¯è¿è¡ŒçŠ¶æ€ï¼Œæš‚åœæ¸¸æˆï¼Œæ‰“å¼€èœå• if (!GameManager.instance.isPause) &#123; Pause(); &#125; else // å¦‚æœæ¸¸æˆæ˜¯æš‚åœçŠ¶æ€ï¼Œå…³é—­èœå•ï¼Œç»§ç»­æ¸¸æˆ &#123; Resume(); &#125; &#125;&#125;private void Pause()&#123; inventoryMenu.SetActive(true); Time.timeScale = 0f; GameManager.instance.isPause = true;&#125;private void Resume()&#123; inventoryMenu.SetActive(false); Time.timeScale = 1f; GameManager.instance.isPause = false;&#125; ç”¨ä¸‰ä¸ªåˆ—è¡¨å­˜å‚¨ç©å®¶æ‰€æ‹¥æœ‰ç‰©å“çš„ä¿¡æ¯ï¼ˆå­—å…¸åœ¨ç›‘è§†å™¨çª—å£çœ‹ä¸åˆ°ï¼Œä¸å¤ªå¥½è°ƒè¯•æ‰€ä»¥æ²¡ä½¿ç”¨ï¼‰ 123public List&lt;Item&gt; items = new List&lt;Item&gt;(); // ç©å®¶æŒæœ‰çš„ç‰©å“public List&lt;int&gt; itemNums = new List&lt;int&gt;(); // æ¯ä¸ªç‰©å“å¯¹åº”çš„æ•°é‡public List&lt;int&gt; itemIndex = new List&lt;int&gt;(); // æ¯ä¸ªç‰©å“å¯¹åº”çš„èƒŒåŒ…æ ¼å­çš„ç´¢å¼• åŠ å…¥äº†èƒŒåŒ…æ ¼å­ç´¢å¼•ä¸»è¦æ˜¯æƒ³åé¢å®ç°æ‹–æ‹½æ¢ä½çš„åŠŸèƒ½ï¼ˆå…ˆæŒ–å‘ï¼‰ å¾€èƒŒåŒ…ä¸­åŠ å…¥ç‰©å“ å¦‚æœèƒŒåŒ…ä¸­å·²ç»æœ‰è¿™ä¸ªç‰©å“ï¼Œå¢åŠ è¿™ä¸ªç‰©å“çš„æ•°é‡ï¼Œæ²¡æœ‰çš„è¯å†å¼€æ–°çš„ä½ç½®å­˜æ”¾ï¼Œå› ä¸ºèƒŒåŒ…é¢æ¿çš„æ ¼å­ä½ç½®å’Œç‰©å“åˆ—è¡¨çš„å­˜æ”¾é¡ºåºå¹¶ä¸ä¸€æ ·ï¼Œæ‰€ä»¥éœ€è¦å•ç‹¬åˆ¤æ–­ï¼Œéå†å¯»æ‰¾ç©ºçš„æ ¼å­ï¼Œç„¶åæ›´æ–°æ ¼å­çš„ä¿¡æ¯ï¼ŒåŒæ—¶ç‰©å“ä¹Ÿéœ€è¦çŸ¥é“è‡ªå·±å­˜æ”¾åœ¨å“ªä¸ªæ ¼å­é‡Œï¼Œå­˜æ”¾å®Œæ¯•åï¼Œåˆ¤æ–­èƒŒåŒ…æ˜¯å¦æ»¡äº†ï¼ˆæ ¼å­çš„æ•°é‡ä¸ºèƒŒåŒ…å®¹é‡ï¼‰ï¼ŒèƒŒåŒ…æ»¡äº†åå†æ‹¾å–ç‰©å“çš„é€»è¾‘åˆ¤æ–­åœ¨ CanPicked ç±»ä¸­å¤„ç†ï¼Œè¿›ä¸æ¥è¿™é‡Œ 1234567891011121314151617181920212223public void AddItem(Item item, int itemNum)&#123; if (items.Contains(item)) // å¦‚æœèƒŒåŒ…å­˜åœ¨è¯¥ç‰©å“ &#123; itemNums[items.IndexOf(item)] += itemNum; // è¯¥ç‰©å“æ•°é‡å¢åŠ  slots[itemIndex[items.IndexOf(item)]].Show(item, itemNums[items.IndexOf(item)]); // æ›´æ–°è¯¥ç‰©å“å¯¹åº”çš„èƒŒåŒ…æ ¼å­ &#125; else // å¦‚æœèƒŒåŒ…ä¸å­˜åœ¨è¯¥ç‰©å“ &#123; items.Add(item); // ç©å®¶æŒæœ‰ç‰©å“åˆ—è¡¨é‡Œå¢åŠ è¯¥ç‰©å“ä¿¡æ¯å’Œæ•°é‡ itemNums.Add(itemNum); foreach (Slot slot in slots) // å¯»æ‰¾ç©ºçš„èƒŒåŒ…æ ¼ï¼Œå°†ç‰©å“ä¿¡æ¯æ”¾å…¥ &#123; if (!slot.isNull) continue; itemIndex.Add(slot.index); slot.Show(item, itemNums[items.IndexOf(item)]); slot.isNull = false; break; &#125; if (items.Count == slots.Length) isFull = true; &#125;&#125; ï¼ˆå†™å®Œä¹‹åå‘ç°ä¸€ä¸ªå‘ï¼Œå°±æ˜¯åŠ å…¥ç‰©å“ä¸ä¸€å®šæ˜¯åœ¨åœ°ä¸Šæ‹¾å–ï¼Œæ¯”å¦‚NPCçš„ä»»åŠ¡å¥–åŠ±ï¼Œè¿™æ—¶å€™å°±éœ€è¦å†æ¬¡åˆ¤æ–­èƒŒåŒ…æ»¡äº†æ²¡æœ‰ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œä»¥åå†å®ç°ä¸€ä¸‹ç±»å†…åˆ¤æ–­ï¼‰ ç§»é™¤èƒŒåŒ…ä¸­çš„ç‰©å“ ç§»é™¤ç‰©å“çš„æ“ä½œæ˜¯ç‚¹å‡»èƒŒåŒ…æ ¼å­å³ä¸Šè§’çš„ Ã— ï¼Œç‚¹å‡»ä¸€æ¬¡ç§»é™¤æŒ‡å®šæ•°é‡ï¼Œæš‚æ—¶ä¸º1 å¦‚æœèƒŒåŒ…ä¸­å­˜åœ¨è¿™ä¸ªç‰©å“ï¼Œä¸”æ•°é‡å¤šäºè¦ç§»é™¤çš„æ•°é‡ï¼Œå°±åªéœ€æŠŠç‰©å“æ•°é‡å‡ä¸€ä¸‹ï¼›å¦‚æœæ•°é‡åˆšå¥½ç›¸ç­‰ï¼Œå°±ç›´æ¥ç§»é™¤è¿™ä¸ªç‰©å“ï¼Œå¦‚æœæ•°é‡ä¸è¶³ç›´æ¥æŠ¥æé†’ã€‚ç§»é™¤ç‰©å“ä¹Ÿå¯èƒ½ä¸é€šè¿‡èœå•ï¼Œæ¯”å¦‚å‡ºå”®ç»™å•†äººï¼Œæ‰€ä»¥ä¹Ÿæœ‰èƒŒåŒ…ä¸­ä¸å­˜åœ¨è¿™ä¸ªç‰©å“çš„å¯èƒ½ åŒæ—¶ä¸è¦å¿˜äº†æ›´æ–°æ ¼å­ä¿¡æ¯ 123456789101112131415161718192021222324252627public void RemoveItem(Item item, int itemNum)&#123; if (items.Contains(item)) // å¦‚æœèƒŒåŒ…å­˜åœ¨è¯¥ç‰©å“ &#123; if (itemNums[items.IndexOf(item)] &gt; itemNum) // èƒŒåŒ…é‡Œè¯¥ç‰©å“æ•°é‡å¤šäºéœ€è¦ç§»é™¤çš„æ•°é‡ &#123; itemNums[items.IndexOf(item)] -= itemNum; slots[itemIndex[items.IndexOf(item)]].Show(item, itemNums[items.IndexOf(item)]); // æ›´æ–°å¯¹åº”çš„èƒŒåŒ…æ ¼å­ &#125; else if (itemNums[items.IndexOf(item)] == itemNum) // èƒŒåŒ…é‡Œè¯¥ç‰©å“æ•°é‡ç­‰äºéœ€è¦ç§»é™¤çš„æ•°é‡ &#123; slots[itemIndex[items.IndexOf(item)]].Hide(); // ç‰©å“å¯¹åº”çš„èƒŒåŒ…æ ¼å­æ¸…ç©º itemIndex.RemoveAt(items.IndexOf(item)); itemNums.RemoveAt(items.IndexOf(item)); items.Remove(item); isFull = false; // å½“å‰æ ¼å­ç‰©å“ç§»é™¤å®Œæ¯•ï¼ŒèƒŒåŒ…å°±å¤šäº†ä¸€ä¸ªç©ºæ ¼å­ &#125; else if (itemNums[items.IndexOf(item)] &lt; itemNum) // èƒŒåŒ…é‡Œè¯¥ç‰©å“æ•°é‡ä¸è¶³ &#123; Debug.Log(&quot;æ²¡æœ‰è¶³å¤Ÿçš„ç‰©å“&quot;); &#125; &#125; else // å¦‚æœèƒŒåŒ…ä¸å­˜åœ¨è¯¥ç‰©å“ &#123; Debug.Log(&quot;ä½ æ²¡æœ‰æŒæœ‰è¯¥ç‰©å“&quot;); &#125;&#125; èƒŒåŒ…æœ‰äº†ï¼Œè§’è‰²å°±å¯ä»¥æ‹¿ä¸Šè‡ªå·±çš„èƒŒåŒ…å•¦ï¼ˆä½†æ˜¯å› ä¸ºæ˜¯æ–°æ‰‹èƒŒåŒ…ï¼Œæ‰€ä»¥åªæœ‰ä¸‰æ ¼ï¼‰ 1private InventoryManager myInventory; ç©å®¶è§’è‰²ç±»ä¸»è¦æ˜¯æ¡èµ·å’Œä¸¢æ‰ç‰©å“çš„æ–¹æ³•ï¼Œè™½ç„¶å¯èƒ½ä¸éœ€è¦é€šè¿‡ç©å®¶ç±»ï¼ˆåæ¥æƒ³äº†ä¸€ä¸‹å¿…é¡»é€šè¿‡ç©å®¶ç±»ï¼Œå› ä¸ºç©å®¶çš„èƒŒåŒ…è‡ªå·±æ‹¿ç€è‡ªå·±æ‰èƒ½æ§åˆ¶ï¼Œä»å…¶ä»–åœ°æ–¹æ§åˆ¶çš„ä¸æ˜¯ç©å®¶çš„èƒŒåŒ…ï¼‰ 123456789public void PickUpItem(Item item, int itemNum)&#123; myInventory.AddItem(item, itemNum);&#125;public void ThrowAwayItem(Item item, int itemNum)&#123; myInventory.RemoveItem(item, itemNum);&#125; ç§»é™¤ç‰©å“çš„æŒ‰é’®é€»è¾‘ä¹Ÿå†™åœ¨ç©å®¶ç±»ä¸­ï¼Œå› ä¸ºç‚¹å‡»æŒ‰é’®è¿™ä¸ªåŠ¨ä½œä¹Ÿæ˜¯ç©å®¶åšå‡ºçš„å˜› 12345public void OnClickCloseButton()&#123; GameObject currentButton = EventSystem.current.currentSelectedGameObject; // è·å–å½“å‰ç‚¹å‡»åˆ°çš„æŒ‰é’® ThrowAwayItem(currentButton.GetComponentInParent&lt;Slot&gt;().currentItem, 1);&#125; Slotæ ¼å­ç±» æ„Ÿè§‰å†™çš„ç¨å¾®æœ‰ç‚¹éº»çƒ¦ï¼Œä¸è¿‡èƒ½è¿è¡Œå°±æ˜¯æœ€å¥½çš„ä»£ç  ä¸€äº›æ ¼å­çš„ä¿¡æ¯ï¼š ï¼ˆindexéœ€è¦åœ¨ç›‘è§†å™¨é¢æ¿è‡ªå·±å¡«å†™ï¼‰ 123456public bool isNull;// è¯¥æ ¼å­ç›®å‰æ˜¯å¦ä¸ºç©ºpublic Image itemImage;public Text itemNumText;public Button closeButton;public int index;// è¯¥æ ¼å­åœ¨æ•´ä¸ªèƒŒåŒ…ä¸­çš„ä½ç½®public Item currentItem;// æ”¹æ ¼å­å½“å‰å­˜å‚¨çš„æ˜¯å“ªä¸ªç‰©å“ æ˜¾ç¤ºï¼ˆæ›´æ–°ï¼‰æ ¼å­ï¼š éšè—æ ¼å­ï¼ˆç›´æ¥éšè—äº†æ‰€ä»¥é‡Œé¢çš„å›¾ç‰‡æ•°å­—å•¥çš„æ²¡æ”¹ä¹Ÿæ— æ‰€è°“å•¦ï¼‰ï¼š 123456789public void Hide()&#123; itemImage.gameObject.SetActive(false); itemNumText.gameObject.SetActive(false); closeButton.gameObject.SetActive(false); currentItem = null; isNull = true;&#125; Itemç±» åˆ›å»ºç»§æ‰¿ ScriptableObject çš„ Item ç±»ï¼Œç”¨è¿™ä¸ªç±»åˆ›å»ºå‡ºä¸€ä¸ªä¸ªç‰©ä½“ 1234public string itemName;// ç‰©ä½“åå­—public string itemDes;// ç‰©ä½“æè¿°public Sprite itemSprite;// ç‰©ä½“å›¾ç‰‡public int itemPrice;// ç‰©ä½“ä»·æ ¼ CanBePickedç±»æŒ‚è½½åœ¨åœºæ™¯ä¸­çš„æ¯ä¸ªå¯æ‹¾å–ç‰©ä½“ä¸Š ç”¨æ¥å¤„ç†è¢«ç©å®¶è§¦ç¢°åˆ°æ—¶çš„é€»è¾‘ 12345678910111213141516private void OnTriggerEnter2D(Collider2D collision)&#123; if (collision.CompareTag(&quot;Player&quot;)) &#123; if (collision.GetComponent&lt;InventoryManager&gt;().isFull &amp;&amp; !collision.GetComponent&lt;InventoryManager&gt;().items.Contains(item)) &#123; Debug.Log(&quot;èƒŒåŒ…å·²ç»çˆ†æ»¡äº†&quot;); &#125; else &#123; gameObject.SetActive(false); collision.GetComponent&lt;PlayerController&gt;().PickUpItem(item, itemNum); &#125; &#125;&#125; ä¸å®šæ—¶ç»§ç»­æ›´æ–°ï¼Œç›®å‰æŒ–çš„å‘æœ‰ï¼š é¼ æ ‡æ”¾ç½®æ˜¾ç¤ºç‰©å“æè¿° é¼ æ ‡ç‚¹å‡»ç‰©å“å¼¹å‡ºæ¡†ï¼Œåˆ†åˆ«æœ‰é€‰æ‹©æ•°é‡ä¸¢å¼ƒã€ä½¿ç”¨ ç‰©å“æ‹–æ‹½ å®Œæ•´ä»£ç ï¼š Item.csä¸€ä¸ªç»§æ‰¿äº†ScriptableObjectçš„ç‰©å“ç±»ï¼Œå­˜å‚¨äº†ä¸€äº›ç‰©å“çš„ä¿¡æ¯ï¼Œç”¨æ¥åˆ›å»ºå‡ºå„ä¸ªä¸åŒçš„ç‰©å“ 12345678[CreateAssetMenu(menuName = &quot;Item&quot;, fileName = &quot;New Item&quot;)] public class Item : ScriptableObject &#123; public string itemName;// ç‰©ä½“åå­— public string itemDes;// ç‰©ä½“æè¿° public Sprite itemSprite;// ç‰©ä½“å›¾ç‰‡ public int itemPrice;// ç‰©ä½“ä»·æ ¼ &#125; Slot.csèƒŒåŒ…èœå•é‡Œçš„æ¯ä¸€ä¸ªæ ¼å­éƒ½æŒ‚è½½äº†Slotç±»ï¼Œæ˜¾ç¤ºå‡ºè¯¥æ ¼å­çš„ä¸€äº›ä¿¡æ¯ï¼Œå¹¶æä¾›äº†æ˜¾ç¤ºï¼ˆåˆ·æ–°ï¼‰æˆ–éšè—æ ¼å­å†…ç‰©å“çš„æ–¹æ³• 12345678910111213141516171819202122232425262728293031public class Slot : MonoBehaviour &#123; public bool isNull;// è¯¥æ ¼å­ç›®å‰æ˜¯å¦ä¸ºç©º public Image itemImage; public Text itemNumText; public Button closeButton; public int index;// è¯¥æ ¼å­åœ¨æ•´ä¸ªèƒŒåŒ…ä¸­çš„ä½ç½® public Item currentItem;// æ”¹æ ¼å­å½“å‰å­˜å‚¨çš„æ˜¯å“ªä¸ªç‰©å“ public void Show(Item item, int itemNum) &#123; itemImage.sprite = item.itemSprite; itemNumText.text = itemNum.ToString(); itemImage.gameObject.SetActive(true); itemNumText.gameObject.SetActive(true); closeButton.gameObject.SetActive(true); currentItem = item; &#125; public void Hide() &#123; itemImage.gameObject.SetActive(false); itemNumText.gameObject.SetActive(false); closeButton.gameObject.SetActive(false); currentItem = null; isNull = true; &#125; &#125; CanBePicked.csæŒ‚åœ¨åœ¨åœºæ™¯ä¸­çš„å•ä¸ªç‰©å“ä¸Šï¼Œä½¿ç‰©å“å¯ä»¥è¢«ç©å®¶æ‹¾å– 12345678910111213141516171819202122public class CanBePicked : MonoBehaviour &#123; public Item item; public int itemNum; private void OnTriggerEnter2D(Collider2D collision) &#123; if (collision.CompareTag(&quot;Player&quot;)) &#123; if (collision.GetComponent&lt;InventoryManager&gt;().isFull &amp;&amp; !collision.GetComponent&lt;InventoryManager&gt;().items.Contains(item)) &#123; Debug.Log(&quot;èƒŒåŒ…å·²ç»çˆ†æ»¡äº†&quot;); &#125; else &#123; gameObject.SetActive(false); collision.GetComponent&lt;PlayerController&gt;().PickUpItem(item, itemNum); &#125; &#125; &#125; &#125; GameManager.cså®ç°å•ä¾‹æ¨¡å¼ï¼Œç”¨æ¥æ§åˆ¶æ¸¸æˆçš„çŠ¶æ€ï¼Œç›®å‰åªæœ‰ isPause æ§åˆ¶æ˜¯å¦æš‚åœï¼ˆæ˜¾ç¤ºèƒŒåŒ…å³ä¸ºæš‚åœï¼‰ 12345678910111213141516171819202122public class GameManager : MonoBehaviour &#123; public static GameManager instance; public bool isPause; private void Awake() &#123; if (instance == null) &#123; instance = this; &#125; else &#123; if (instance != this) &#123; Destroy((gameObject)); &#125; &#125; DontDestroyOnLoad(gameObject); &#125; &#125; InventoryManager.csèƒŒåŒ…ç±»ï¼Œæ‹¥æœ‰äº†è¯¥ç±»çš„ç‰©ä½“å³ä¸ºæ‹¥æœ‰äº†è‡ªå·±çš„èƒŒåŒ… 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104public class InventoryManager : MonoBehaviour &#123; public GameObject inventoryMenu; public List&lt;Item&gt; items = new List&lt;Item&gt;(); // ç©å®¶æŒæœ‰çš„ç‰©å“ public List&lt;int&gt; itemNums = new List&lt;int&gt;(); // æ¯ä¸ªç‰©å“å¯¹åº”çš„æ•°é‡ public List&lt;int&gt; itemIndex = new List&lt;int&gt;(); // æ¯ä¸ªç‰©å“å¯¹åº”çš„èƒŒåŒ…æ ¼å­çš„ç´¢å¼• public Slot[] slots; // èƒŒåŒ…ä¸­æ˜¾ç¤ºçš„ç‰©å“æ ¼å­ public bool isFull; private void Start() &#123; inventoryMenu.SetActive(false); &#125; private void Update() &#123; InventoryControl(); &#125; private void InventoryControl() &#123; if (Input.GetKeyDown(KeyCode.Escape)) &#123; // å¦‚æœæ¸¸æˆæ˜¯è¿è¡ŒçŠ¶æ€ï¼Œæš‚åœæ¸¸æˆï¼Œæ‰“å¼€èœå• if (!GameManager.instance.isPause) &#123; Pause(); &#125; else // å¦‚æœæ¸¸æˆæ˜¯æš‚åœçŠ¶æ€ï¼Œå…³é—­èœå•ï¼Œç»§ç»­æ¸¸æˆ &#123; Resume(); &#125; &#125; &#125; private void Pause() &#123; inventoryMenu.SetActive(true); Time.timeScale = 0f; GameManager.instance.isPause = true; &#125; private void Resume() &#123; inventoryMenu.SetActive(false); Time.timeScale = 1f; GameManager.instance.isPause = false; &#125; public void AddItem(Item item, int itemNum) &#123; if (items.Contains(item)) // å¦‚æœèƒŒåŒ…å­˜åœ¨è¯¥ç‰©å“ &#123; itemNums[items.IndexOf(item)] += itemNum; // è¯¥ç‰©å“æ•°é‡å¢åŠ  slots[itemIndex[items.IndexOf(item)]].Show(item, itemNums[items.IndexOf(item)]); // æ›´æ–°è¯¥ç‰©å“å¯¹åº”çš„èƒŒåŒ…æ ¼å­ &#125; else // å¦‚æœèƒŒåŒ…ä¸å­˜åœ¨è¯¥ç‰©å“ &#123; items.Add(item); // ç©å®¶æŒæœ‰ç‰©å“åˆ—è¡¨é‡Œå¢åŠ è¯¥ç‰©å“ä¿¡æ¯å’Œæ•°é‡ itemNums.Add(itemNum); foreach (Slot slot in slots) // å¯»æ‰¾ç©ºçš„èƒŒåŒ…æ ¼ï¼Œå°†ç‰©å“ä¿¡æ¯æ”¾å…¥ &#123; if (!slot.isNull) continue; itemIndex.Add(slot.index); slot.Show(item, itemNums[items.IndexOf(item)]); slot.isNull = false; break; &#125; if (items.Count == slots.Length) isFull = true; &#125; &#125; public void RemoveItem(Item item, int itemNum) &#123; if (items.Contains(item)) // å¦‚æœèƒŒåŒ…å­˜åœ¨è¯¥ç‰©å“ &#123; if (itemNums[items.IndexOf(item)] &gt; itemNum) // èƒŒåŒ…é‡Œè¯¥ç‰©å“æ•°é‡å¤šäºéœ€è¦ç§»é™¤çš„æ•°é‡ &#123; itemNums[items.IndexOf(item)] -= itemNum; slots[itemIndex[items.IndexOf(item)]].Show(item, itemNums[items.IndexOf(item)]); // æ›´æ–°å¯¹åº”çš„èƒŒåŒ…æ ¼å­ &#125; else if (itemNums[items.IndexOf(item)] == itemNum) // èƒŒåŒ…é‡Œè¯¥ç‰©å“æ•°é‡ç­‰äºéœ€è¦ç§»é™¤çš„æ•°é‡ &#123; slots[itemIndex[items.IndexOf(item)]].Hide(); // ç‰©å“å¯¹åº”çš„èƒŒåŒ…æ ¼å­æ¸…ç©º itemIndex.RemoveAt(items.IndexOf(item)); itemNums.RemoveAt(items.IndexOf(item)); items.Remove(item); isFull = false; // å½“å‰æ ¼å­ç‰©å“ç§»é™¤å®Œæ¯•ï¼ŒèƒŒåŒ…å°±å¤šäº†ä¸€ä¸ªç©ºæ ¼å­ &#125; else if (itemNums[items.IndexOf(item)] &lt; itemNum) // èƒŒåŒ…é‡Œè¯¥ç‰©å“æ•°é‡ä¸è¶³ &#123; Debug.Log(&quot;æ²¡æœ‰è¶³å¤Ÿçš„ç‰©å“&quot;); &#125; &#125; else // å¦‚æœèƒŒåŒ…ä¸å­˜åœ¨è¯¥ç‰©å“ &#123; Debug.Log(&quot;ä½ æ²¡æœ‰æŒæœ‰è¯¥ç‰©å“&quot;); &#125; &#125; &#125; PlayerController.cs12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849public class PlayerController : MonoBehaviour &#123; private float horizontal; private float vertical; public float speed; public InventoryManager myInventory; private void Update() &#123; Move(); &#125; private void Move() &#123; horizontal = Input.GetAxisRaw(&quot;Horizontal&quot;); vertical = Input.GetAxisRaw(&quot;Vertical&quot;); transform.Translate(new Vector2(horizontal * speed * Time.deltaTime, vertical * speed * Time.deltaTime)); transform.localScale = horizontal switch &#123; &gt; 0 =&gt; new Vector3(0.8f, 0.8f, 0.8f), &lt; 0 =&gt; new Vector3(-0.8f, 0.8f, 0.8f), _ =&gt; transform.localScale &#125;; &#125; /// &lt;summary&gt; /// æ¡èµ·ç‰©å“ /// &lt;/summary&gt; /// &lt;param name=&quot;item&quot;&gt;æ¡èµ·çš„ç‰©å“&lt;/param&gt; /// &lt;param name=&quot;itemNum&quot;&gt;æ¡èµ·çš„ç‰©å“æ•°é‡&lt;/param&gt; public void PickUpItem(Item item, int itemNum) &#123; myInventory.AddItem(item, itemNum); &#125; public void ThrowAwayItem(Item item, int itemNum) &#123; myInventory.RemoveItem(item, itemNum); &#125; public void OnClickCloseButton() &#123; GameObject currentButton = EventSystem.current.currentSelectedGameObject;// è·å–å½“å‰ç‚¹å‡»åˆ°çš„æŒ‰é’® ThrowAwayItem(currentButton.GetComponentInParent&lt;Slot&gt;().currentItem, 1); &#125; &#125;","tags":["Unity","èƒŒåŒ…"]},{"title":"Unityå°åŠŸèƒ½ï¼šéšæœºæ’­æ”¾åˆ—è¡¨ä¸­çš„æ­Œæ›²","path":"/2023/09/16/Unityå°åŠŸèƒ½ï¼šéšæœºæ’­æ”¾åˆ—è¡¨ä¸­çš„æ­Œæ›²/","content":"æ ¸å¿ƒæ€æƒ³ä¸ºï¼šè®°å½•æš‚æ—¶æ²¡æœ‰æ’­æ”¾çš„æ­Œæ›²ï¼Œæ¯æ¬¡æ’­æ”¾å®Œæ¯•åä»ä¸­éšæœºæŠ½å–ä¸€é¦–è¿›è¡Œæ’­æ”¾ï¼Œå¹¶å°†è¿™é¦–æ­Œä»æœªæ’­æ”¾åˆ—è¡¨ç§»é™¤ï¼Œæ‰€æœ‰æ­Œæ›²éƒ½æ’­æ”¾ä¸€éåï¼Œå¡«å……æœªæ’­æ”¾åˆ—è¡¨ é¦–å…ˆå‡†å¤‡å‡ é¦–æ­Œï¼Œå¹¶å­˜å…¥æ­Œæ›²æ•°ç»„ å£°æ˜ä¸€ä¸ªæ•´å½¢å˜é‡ï¼Œè®°å½•å½“å‰æ’­æ”¾æ­Œæ›²åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡ï¼Œå£°æ˜ä¸€ä¸ªåˆ—è¡¨ï¼Œè®°å½•æš‚æ—¶æœªæ’­æ”¾æ­Œæ›²çš„ä¸‹æ ‡ å¹¶å¯¹åˆ—è¡¨è¿›è¡Œåˆå§‹åŒ– éšæœºä»æœªæ’­æ”¾åˆ—è¡¨ä¸­é€‰å–ä¸€ä¸ªå€¼ï¼Œä½œä¸ºå°†è¦æ’­æ”¾çš„æ­Œæ›²ï¼Œå¹¶ä»æœªæ’­æ”¾åˆ—è¡¨ä¸­ç§»é™¤ å‡†å¤‡å®Œæ¯•ï¼Œå¼€å§‹æ’­æ”¾éŸ³ä¹ï¼Œé€šè¿‡åç¨‹çš„ yield return new WaitForSeconds æ¨¡æ‹Ÿæ­Œæ›²æ’­æ”¾å®Œæ¯•åˆ‡æ­Œ åˆ«å¿˜äº†æŠŠå‡†å¤‡å¥½çš„æ­Œæ‹–è¿›æ­Œæ›²æ•°ç»„ä¸­ å®Œæ•´ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061using System.Collections;using System.Collections.Generic;using UnityEngine;public class AudioManager : PersistentSingleton&lt;AudioManager&gt;&#123; public AudioSource bGMPlayer;// è·å–æ’­æ”¾å™¨ public AudioClip[] bGMClips;// æ­Œæ›²éŸ³é¢‘æ•°ç»„ public int index;// æ­£åœ¨æ’­æ”¾çš„æ­Œæ›²åœ¨æ•°ç»„ä¸­çš„ä½ç½® public List&lt;int&gt; unPlayedIndex;// æš‚æ—¶æœªæ’­æ”¾æ­Œæ›²çš„index private void Start() &#123; InitiaList(); StartCoroutine(ChangeBGMCoroutine()); &#125; /// &lt;summary&gt; /// åˆå§‹åŒ–æœªæ’­æ”¾æ­Œæ›²åˆ—è¡¨ï¼Œé»˜è®¤æ‰€æœ‰æ­Œæ›²å‡æœªæ’­æ”¾ï¼Œåˆ—è¡¨å¡«å……æ»¡ /// &lt;/summary&gt; private void InitiaList() &#123; unPlayedIndex = new List&lt;int&gt;(bGMClips.Length); for (int i = 0; i &lt; unPlayedIndex.Capacity; i++) &#123; unPlayedIndex.Add(i); &#125; &#125; /// &lt;summary&gt; /// éšæœºé€‰å–æœªæ’­æ”¾åˆ—è¡¨ä¸­çš„ä¸€ä¸ªindexå€¼ /// &lt;/summary&gt; private void ChangeIndex() &#123; if (unPlayedIndex.Count == 0) &#123; InitiaList(); &#125; index = unPlayedIndex[Random.Range(0, unPlayedIndex.Count)]; // é€‰å–ä¹‹åï¼Œä»åˆ—è¡¨ä¸­ç§»é™¤å½“å‰indexå€¼ unPlayedIndex.Remove(index); &#125; /// &lt;summary&gt; /// åˆ‡æ­Œåç¨‹ï¼Œæ­Œæ›²æ’­æ”¾å®Œæ¯•ä¹‹åï¼Œéšæœºé€‰å–ä¸€é¦–æ­Œç»§ç»­æ’­æ”¾ /// &lt;/summary&gt; /// &lt;returns&gt;&lt;/returns&gt; IEnumerator ChangeBGMCoroutine() &#123; while (true) &#123; bGMPlayer.Stop(); ChangeIndex(); bGMPlayer.clip = bGMClips[index]; bGMPlayer.Play(); // ç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œè¯¥æ—¶é—´ä¸ºæ­Œæ›²é•¿åº¦ï¼Œç­‰å¾…ç»“æŸå³ä¸ºæ­Œæ›²æ’­æ”¾å®Œæ¯• yield return new WaitForSeconds(bGMPlayer.clip.length); &#125; &#125;&#125;","tags":["Unity","å°åŠŸèƒ½","éšæœºæ’­æ”¾"]},{"title":"Unityï¼šUGUIåŸºç¡€","path":"/2023/09/13/Unityï¼šUGUIåŸºç¡€/","content":"Canvasä¸ä¸‰ç§ç”»å¸ƒæ¸²æŸ“æ¨¡å¼Canvasç®€ä»‹Canvasç”»å¸ƒæ˜¯æ‰¿è½½æ‰€æœ‰UIå…ƒç´ çš„åŒºåŸŸã€‚Canvaså®é™…ä¸Šæ˜¯ä¸€ä¸ªæŒ‚è½½ç€Canvasç»„ä»¶çš„æ¸¸æˆå¯¹è±¡ã€‚æ‰€æœ‰çš„UIå…ƒç´ éƒ½å¿…é¡»æ˜¯Canvasçš„å­å¯¹è±¡ã€‚æˆ‘ä»¬åˆ›å»ºä»»ä½•ä¸€ä¸ªUIå…ƒç´ æ—¶ï¼Œå¦‚æœåœºæ™¯ä¸­æ²¡æœ‰Canvasç”»å¸ƒï¼Œå°±ä¼šè‡ªåŠ¨åˆ›å»ºç”»å¸ƒï¼Œå¹¶ä¸”å°†æ–°å…ƒç´ ç½®äºå…¶ä¸‹ã€‚ Canvasç”»å¸ƒå‚æ•° RenderModeScreen Space-Overlayæ¨¡å¼Screen Space-Overlayï¼ˆå±å¹•ç©ºé—´-è¦†ç›–ï¼‰çš„ç”»å¸ƒä¼šå¡«æ»¡æ•´ä¸ªå±å¹•ç©ºé—´ï¼Œå¹¶å°†ç”»å¸ƒä¸‹é¢çš„æ‰€æœ‰çš„UIå…ƒç´ ç½®äºå±å¹•çš„æœ€ä¸Šå±‚ï¼Œæˆ–è€…è¯´ç”»å¸ƒçš„ç”»é¢æ°¸è¿œâ€œè¦†ç›–â€å…¶ä»–æ™®é€šçš„3Dç”»é¢ï¼Œå¦‚æœå±å¹•å°ºå¯¸è¢«æ”¹å˜ï¼Œç”»å¸ƒå°†è‡ªåŠ¨æ”¹å˜å°ºå¯¸æ¥åŒ¹é…å±å¹•ï¼Œå¦‚ä¸‹å›¾æ•ˆæœï¼š ï¼ˆåœ¨æ­¤æ¨¡å¼ä¸‹ï¼Œè™½ç„¶åœ¨Canvaså‰æ”¾ç½®äº†3Däººç‰©ï¼Œä½†æ˜¯åœ¨Gameçª—å£ä¸­å¹¶ä¸èƒ½è§‚å¯Ÿåˆ°3Däººç‰©ï¼‰ Screen Space-Overlayæ¨¡å¼çš„ç”»å¸ƒæœ‰ Pixel Perfect å’Œ Sort Layer ä¸¤ä¸ªå‚æ•°ï¼š ï¼ˆ1ï¼‰Pixel Perfectï¼šåªæœ‰RenderModeä¸ºScreenç±»å‹æ—¶æ‰æœ‰çš„é€‰é¡¹ã€‚ä½¿UIå…ƒç´ åƒç´ å¯¹åº”ï¼Œæ•ˆæœå°±æ˜¯è¾¹ç¼˜æ¸…æ™°ä¸æ¨¡ç³Šã€‚ ï¼ˆ2ï¼‰Sort Layer: Sort Layeræ˜¯UGUIä¸“ç”¨çš„è®¾ç½®ï¼Œç”¨æ¥æŒ‡ç¤ºç”»å¸ƒçš„æ·±åº¦ã€‚ Screen Space-Cameraæ¨¡å¼ Screen Space-Cameraï¼ˆå±å¹•ç©ºé—´-æ‘„å½±æœºæ¨¡å¼ï¼‰å’ŒScreen Space-Overlayæ¨¡å¼ç±»ä¼¼ï¼Œç”»å¸ƒä¹Ÿæ˜¯å¡«æ»¡æ•´ä¸ªå±å¹•ç©ºé—´ï¼Œå¦‚æœå±å¹•å°ºå¯¸æ”¹å˜ï¼Œç”»å¸ƒä¹Ÿä¼šè‡ªåŠ¨æ”¹å˜å°ºå¯¸æ¥åŒ¹é…å±å¹•ã€‚æ‰€ä¸åŒçš„æ˜¯ï¼Œåœ¨è¯¥æ¨¡å¼ä¸‹ï¼Œç”»å¸ƒä¼šè¢«æ”¾ç½®åˆ°æ‘„å½±æœºå‰æ–¹ã€‚åœ¨è¿™ç§æ¸²æŸ“æ¨¡å¼ä¸‹ï¼Œç”»å¸ƒçœ‹èµ·æ¥ ç»˜åˆ¶åœ¨ä¸€ä¸ªä¸æ‘„å½±æœºå›ºå®šè·ç¦»çš„å¹³é¢ä¸Šã€‚æ‰€æœ‰çš„UIå…ƒç´ éƒ½ç”±è¯¥æ‘„å½±æœºæ¸²æŸ“ï¼Œå› æ­¤æ‘„å½±æœºçš„è®¾ç½®ä¼šå½±å“åˆ°UIç”»é¢ã€‚åœ¨æ­¤æ¨¡å¼ä¸‹ï¼ŒUIå…ƒç´ æ˜¯ç”±perspectiveä¹Ÿå°±æ˜¯è§†è§’è®¾å®šçš„ï¼Œè§†è§’å¹¿åº¦ç”±Filed of Viewè®¾ç½®ã€‚ è¿™ç§æ¨¡å¼å¯ä»¥ç”¨æ¥å®ç°åœ¨UIä¸Šæ˜¾ç¤º3Dæ¨¡å‹çš„éœ€æ±‚ï¼Œæ¯”å¦‚å¾ˆå¤šMMOæ¸¸æˆä¸­çš„æŸ¥çœ‹äººç‰©è£…å¤‡çš„ç•Œé¢ï¼Œå¯èƒ½å±å¹•çš„å·¦ä¾§æœ‰ä¸€ä¸ªè¿åŠ¨çš„3Däººç‰©ï¼Œå·¦ä¾§æ˜¯ä¸€äº›UIå…ƒç´ ã€‚é€šè¿‡è®¾ç½®Screen Space-Cameraæ¨¡å¼å°±å¯ä»¥å®ç°ä¸Šè¿°çš„éœ€æ±‚ï¼Œæ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š å®ƒæ¯”Screen Space-Overlayæ¨¡å¼çš„ç”»å¸ƒå¤šäº†ä¸‹é¢å‡ ä¸ªå‚æ•°ï¼š ï¼ˆ1ï¼‰Render Cameraï¼šæ¸²æŸ“æ‘„åƒæœº ï¼ˆ2ï¼‰Plane Distanceï¼šç”»å¸ƒè·ç¦»æ‘„åƒæœºçš„è·ç¦» ï¼ˆ3ï¼‰Sorting Layerï¼šSorting Layeræ˜¯UGUIä¸“ç”¨çš„è®¾ç½®ï¼Œç”¨æ¥æŒ‡ç¤ºç”»å¸ƒçš„æ·±åº¦ã€‚å¯ä»¥é€šè¿‡ç‚¹å‡»è¯¥æ çš„é€‰é¡¹ï¼Œåœ¨ä¸‹æ‹‰èœå•ä¸­ç‚¹å‡»â€œAdd Sorting Layerâ€æŒ‰é’®è¿›å…¥æ ‡ç­¾å’Œå±‚çš„è®¾ç½®ç•Œé¢ï¼Œæˆ–è€…ç‚¹å‡»å¯¼èˆªèœå•-&gt;edit-&gt;Project Settings-&gt;Tags and Layersè¿›å…¥è¯¥é¡µé¢ã€‚ å¯ä»¥ç‚¹å‡»â€œ+â€æ·»åŠ Layerï¼Œæˆ–è€…ç‚¹å‡»â€œ-â€åˆ é™¤Layerã€‚ç”»å¸ƒæ‰€ä½¿ç”¨çš„Sorting Layerè¶Šæ’åœ¨ä¸‹é¢ï¼Œæ˜¾ç¤ºçš„ä¼˜å…ˆçº§ä¹Ÿå°±è¶Šé«˜ã€‚ ï¼ˆ4ï¼‰Order in Layer:åœ¨ç›¸åŒçš„Sort Layerä¸‹çš„ç”»å¸ƒæ˜¾ç¤ºå…ˆåé¡ºåºã€‚æ•°å­—è¶Šé«˜ï¼Œæ˜¾ç¤ºçš„ä¼˜å…ˆçº§ä¹Ÿå°±è¶Šé«˜ã€‚ World Spaceæ¨¡å¼ World Spaceå³ä¸–ç•Œæ§ä»¶æ¨¡å¼ã€‚åœ¨æ­¤æ¨¡å¼ä¸‹ï¼Œç”»å¸ƒè¢«è§†ä¸ºä¸åœºæ™¯ä¸­å…¶ä»–æ™®é€šæ¸¸æˆå¯¹è±¡æ€§è´¨ç›¸åŒçš„ç±»ä¼¼äºä¸€å¼ é¢ç‰‡ï¼ˆPlaneï¼‰çš„æ¸¸æˆç‰©ä½“ã€‚ç”»å¸ƒçš„å°ºå¯¸å¯ä»¥é€šè¿‡RectTransformè®¾ç½®ï¼Œæ‰€æœ‰çš„UIå…ƒç´ å¯èƒ½ä½äºæ™®é€š3Dç‰©ä½“çš„å‰é¢æˆ–è€…åé¢æ˜¾ç¤ºã€‚å½“UIä¸ºåœºæ™¯çš„ä¸€éƒ¨åˆ†æ—¶ï¼Œ å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ¨¡å¼ã€‚ å®ƒæœ‰ä¸€ä¸ªå•ç‹¬çš„å‚æ•°Event Cameraï¼Œç”¨æ¥æŒ‡å®šæ¥å—äº‹ä»¶çš„æ‘„åƒæœºï¼Œå¯ä»¥é€šè¿‡ç”»å¸ƒä¸Šçš„GraphicRaycasterç»„ä»¶å‘å°„å°„çº¿äº§ç”Ÿäº‹ä»¶ã€‚ è¿™ç§æ¨¡å¼å¯ä»¥ç”¨æ¥å®ç°è·Ÿéšäººç‰©ç§»åŠ¨çš„è¡€æ¡æˆ–è€…åç§°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š æˆ‘ä»¬é€šè¿‡ä¸‹é¢çš„è¡¨æ ¼å¯ä»¥å¯¹æ¯”ä¸€ä¸‹ä¸‰ç§æ¸²æŸ“æ¨¡å¼çš„åŒºåˆ«ï¼š æ¸²æŸ“æ¨¡å¼ ç”»å¸ƒå¯¹åº”å±å¹• æ‘„åƒæœº åƒç´ å¯¹åº” é€‚åˆç±»å‹ Screen Space-Overlay æ˜¯ ä¸éœ€è¦ å¯é€‰ 2D UI Screen Space-Camera æ˜¯ éœ€è¦ å¯é€‰ 2D UI World Space å¦ éœ€è¦ ä¸å¯é€‰ 3D UI ä½¿UIè·Ÿéšå±å¹•åˆ†è¾¨ç‡å˜åŒ–è‡ªé€‚åº”ä¸ºä»€ä¹ˆéœ€è¦UIè‡ªé€‚åº” åœºæ™¯1ï¼šæ‰‹æœºéœ€è¦å†ç«–å±ä¸æ¨ªå±ä¹‹é—´åˆ‡æ¢ï¼Œè¿™æ ·é€‚åº”ç«–å±çš„UIå…ƒç´ çš„ä½ç½®ï¼Œæœªå¿…é€‚åº”æ¨ªå± åœºæ™¯2ï¼šå³ä½¿éƒ½é‡‡ç”¨æ¨ªå±æ¨¡å¼ï¼Œæ‰‹æœºçš„æ¨ªçºµæ¯”ä¸åŒï¼Œæœ‰çš„æ˜¯2140x1080ï¼Œæœ‰çš„æ˜¯2400x1080ï¼Œæœ‰çš„æ˜¯1920x1080ï¼Œç­‰ç­‰â€¦ åœºæ™¯3ï¼šå³ä½¿éƒ½é‡‡ç”¨ç›¸åŒæ¨ªçºµæ¯”ï¼Œä½†å±å¹•åˆ†è¾¨ç‡ä¸åŒï¼Œä¾‹å¦‚ï¼š1920x1080ä¸2560x1440 Canvas Scaler ç»„ä»¶ä¸­çš„å‚æ•°ï¼šUI Scale Mode ä¸€ã€Constant Pixel Sizeåƒç´ å¤§å°å§‹ç»ˆä¸å˜ï¼Œå³ä¸€ä¸ª100100çš„å›¾ç‰‡åœ¨ä»»ä½•çš„åˆ†è¾¨ç‡ä¸‹éƒ½å ç”¨100100çš„åƒç´ ã€‚ç®€å•æ¯”è¾ƒå¥½ç†è§£ã€‚Scale Factoræ˜¯è¡¨ç¤ºç¼©æ”¾å€æ•°ã€‚æ¯”å¦‚æ˜¯2æ—¶ï¼Œå³å°†ä¸Šé¢å›¾ç‰‡æ•´ä½“æ˜¯ç¼©æ”¾ä¸¤å€æ˜¯ä¸å˜å½¢çš„ã€‚ äºŒã€Scale With Screen Sizeè¿™ç§æ¨¡å¼åº”ç”¨åœºæ™¯å¤šä¸€ç‚¹ã€‚é¦–å…ˆé€ä¸ªè¯´æ˜ä¸‹ï¼š 1ï¼‰Reference Resolutionæ˜¯å¼€å‘æ—¶çš„åˆ†è¾¨ç‡ã€‚ä»¥åç¼©æ”¾å°±å‚è€ƒå®ƒã€‚ 2ï¼‰Screen Match ModeåˆåŒ…å«ä¸‰ç§æ¨¡å¼ Match Width Or Heightï¼šä¸‹é¢åŒ…å«ä¸€ä¸ªMachtå±æ€§ï¼Œå½“å¤„äºæœ€å·¦è¾¹æ—¶ï¼Œå±å¹•é«˜åº¦å¯¹äºUIå¤§å°å®Œå…¨æ²¡æœ‰ä»»ä½•å½± å“ï¼Œåªæœ‰å®½åº¦ä¼šå¯¹UIå¤§å°äº§ç”Ÿå½±å“ã€‚å‡è®¾å®½åº¦ä¸ºReference Resolutionå®½åº¦çš„xå€ï¼Œåˆ™UIæ•´ä½“ç¼©æ”¾ä¸ºReference Resolutionè®¾ç½®å‚æ•°çš„xå€ã€‚ä¹Ÿå°±æ˜¯è¯´åªæœ‰å®½åº¦ç­‰äºReference Resolutionå®½åº¦æ—¶ï¼Œæ‰èƒ½åšåˆ°pixel perfectï¼Œå¦åˆ™åƒç´ å°±ä¼šæœ‰æ‹‰ä¼¸ ï¼Œå½“å¤„äºæœ€å³è¾¹æ—¶ï¼Œä¸ä¸Šè¿°æƒ…å†µæ­£å¥½ç›¸åï¼Œå†³å®šæ•´ä½“ç¼©æ”¾å€¼çš„æ˜¯é«˜åº¦ï¼Œè€Œå®½åº¦åˆ™æ²¡æœ‰ä»»ä½•å½±å“ ï¼Œå¤„äºä¸­é—´æŸå¤„æ—¶ï¼Œå¯¹ä¸Šè¿°ä¸¤è€…çš„å½±å“è¿›è¡Œæƒé‡åŠ æˆ ã€‚æ‰€ä»¥ä¸€èˆ¬æˆ‘ä»¬éƒ½æŠŠå…¶æ”¾åœ¨0.5çš„ä½ç½®ï¼ˆ0.618ä¹Ÿå¾ˆèˆ’æœå“¦ï¼‰ã€‚ Expand ç¼©æ”¾ä¸å‰ªåˆ‡ï¼šå½“å±å¹•åˆ†è¾¨ç‡ä¸è®¾å®šä¸åŒæ—¶ï¼Œé€‰æ‹©å˜åŒ–è¾ƒå°çš„ä¸€ä¸ªæ–¹å‘ï¼ˆæ¨ªå‘è¿˜æ˜¯çºµå‘ï¼‰ï¼Œè¿›è¡Œç¼©æ”¾æ˜¾ç¤ºï¼Œå®ƒä¼šä¿è¯è®¾è®¡æ—¶åˆ†è¾¨ç‡èƒ½æ˜¾ç¤ºå‡ºæ¥çš„ç¼©æ”¾åä¾ç„¶èƒ½æ˜¾ç¤ºå‡ºæ¥ã€‚ Shrink ç¼©æ”¾å‰ªåˆ‡ï¼šå½“å±å¹•åˆ†è¾¨ç‡ä¸è®¾å®šä¸åŒæ—¶ï¼Œé€‰æ‹©å˜åŒ–è¾ƒå¤§çš„ä¸€ä¸ªæ–¹å‘ï¼ˆæ¨ªå‘è¿˜æ˜¯çºµå‘ï¼‰è¿›è¡Œç¼©æ”¾æ˜¾ç¤ºï¼Œå¯¹äºè¶…å‡ºçš„éƒ¨åˆ†å‰ªåˆ‡ä¸æ˜¾ç¤ºã€‚ ä¸‰ã€Constant Physical Sizeä¿æŒç‰©ç†ä¸Šä¸å˜çš„æ–¹å¼ï¼Œè¿™ä¸ªåº”ç”¨åœºæ™¯è¾ƒå°‘ï¼Œå…·ä½“æ˜¯è¿™æ ·çš„ï¼Œæ¯”å¦‚ä½ ç”µè„‘åˆ†è¾¨ç‡æ˜¯ 10002000è€Œä½ çš„æ‰‹æœºåˆ†è¾¨ç‡ä¹Ÿæ˜¯10002000ã€‚è™½ç„¶ç”µè„‘å±å¹•æ¯”æ‰‹æœºå±å¹•å¤§çš„å¤šï¼Œä½†æ˜¯ä»–ä»¬æœ€åæ˜¾ç¤ºå‡ºæ¥å›¾ç‰‡çš„ç‰©ç†å¤§å°æ˜¯ä¸€æ ·çš„ã€‚ å®ä¾‹æ¼”ç¤ºç›®æ ‡ï¼š è§’è½çš„å››ä¸ªæŒ‰é’®åœ¨ä»»ä½•åˆ†è¾¨ç‡éƒ½èƒ½æ­£å¸¸æ˜¾ç¤º Hierarchyå¸ƒå±€ï¼š Canvasç»„ä»¶è®¾ç½®ï¼š Imageçš„Rect Transformç»„ä»¶è®¾ç½®ï¼š Buttonç»„ä»¶Rect Transformç»„ä»¶è®¾ç½®ï¼š æ•ˆæœå±•ç¤ºï¼š 1920 x 1080ï¼š 800 x 600ï¼š 1080 x 1920ï¼š","tags":["Unity","UGUI"]},{"title":"å¤šçº§æ¸è¿œçº¹ç†Mipmap","path":"/2023/09/13/å¤šçº§æ¸è¿œçº¹ç†Mipmap/","content":"ç™¾åº¦ç™¾ç§‘ MIPæ¥æºäºæ‹‰ä¸æ–‡ä¸­çš„multum in parvoï¼Œæ„ä¸ºåœ¨ä¸€ä¸ªå°ç©ºé—´é‡Œçš„å¤šæ•°ã€‚MIP mapæŠ€æœ¯ä¸æè´¨è´´å›¾æŠ€æœ¯ç»“åˆï¼Œæ ¹æ®è·è§‚çœ‹è€…è¿œè¿‘è·ç¦»çš„ä¸åŒï¼Œä»¥ä¸åŒçš„åˆ†è¾¨ç‡å°†å•ä¸€çš„æè´¨è´´å›¾ä»¥å¤šé‡å›¾åƒçš„å½¢å¼è¡¨ç°å‡ºæ¥å¹¶ä»£è¡¨å¹³é¢çº¹ç†ï¼šå°ºå¯¸æœ€å¤§çš„å›¾åƒæ”¾åœ¨å‰é¢æ˜¾è‘—çš„ä½ç½®ï¼Œè€Œç›¸å¯¹è¾ƒå°çš„å›¾åƒåˆ™åé€€åˆ°èƒŒæ™¯åŒºåŸŸã€‚æ¯ä¸€ä¸ªä¸åŒçš„å°ºå¯¸ç­‰çº§å®šä¹‰æˆä¸€ä¸ªMIP mapæ°´å¹³ã€‚MIP mapæŠ€æœ¯å¸®åŠ©é¿å…äº†ä¸æƒ³è¦çš„é”¯é½¿è¾¹ç¼˜ï¼ˆç§°ä¸ºé”¯é½¿çŠ¶å›¾å½¢ï¼‰åœ¨å›¾åƒä¸­å‡ºç°ï¼Œè¿™ç§é”¯é½¿çŠ¶å›¾å½¢å¯èƒ½æ˜¯ç”±äºåœ¨ä¸åŒåˆ†è¾¨ç‡ä¸‹ä½¿ç”¨bit mapå›¾åƒäº§ç”Ÿçš„ã€‚ å…ˆäº†è§£çº¹ç†è¿‡æ»¤ æƒ³è¦äº†è§£ä¸ºä»€ä¹ˆè¦ä½¿ç”¨Mipmapï¼Œé¦–å…ˆè¦çŸ¥é“çº¹ç†è¿‡æ»¤æ˜¯ä»€ä¹ˆã€‚ å½“ä½ åœ¨ç©åƒé¸¡çš„æ—¶å€™å¯èƒ½ä¼šå‘ç°ä¸€ä¸ªç°è±¡ï¼Œä¸€ä¸ªäººåœ¨è·ç¦»ä½ 5ç±³çš„åœ°æ–¹ï¼Œå¯ä»¥è§‚å¯Ÿåˆ°æ•Œäººçš„ä¸€ä¸¾ä¸€åŠ¨ï¼ŒåŒ…æ‹¬èº«ä¸Šçš„è£…å¤‡ç­‰ç­‰ï¼Œä½†å½“ä½ æ‹¿åˆ°98kæ—¶ï¼Œä½ ä¼šè¹²åœ¨è¿œå¤„ç‹™å‡»åˆ«äººï¼Œè¿™æ—¶ä¸å¼€é•œçš„ä½ çœ‹500ç±³è¿œå¤„çš„æ•Œäººåªèƒ½çœ‹åˆ°ä¸€ä¸ªé»‘ç‚¹ï¼Œè¿™å…¶ä¸­è¿œè¿‘çœ‹åˆ°çš„åŒºåˆ«å°±æœ‰åº”ç”¨åˆ°çº¹ç†è¿‡æ»¤ã€‚ æ¸¸æˆä¸­Aç‰©ä½“çš„æ¸¸æˆè®¾è®¡çº¹ç†è´´å›¾æ˜¯400*400Texel(çº¹ç†åƒç´ ) 1.å½“ä½ (æ‘„åƒæœº)è·ŸAç‰©ä½“çš„è·ç¦»ä¸º0æ—¶ï¼Œåœ¨ä½ å±å¹•ä¸Šæ˜¾ç¤ºçš„åƒç´ å°±æ˜¯400*400ï¼Œè·Ÿè´´å›¾çš„çº¹ç†åƒç´ å¤§å°ç›¸åŒï¼Œæ­¤æ—¶ä¸éœ€è¦åšç‰¹æ®Šå¤„ç† 2.å‡è®¾ä½ ç¦»Aç‰©ä½“10ç±³è¿œæ—¶,å±å¹•æ˜¾ç¤ºçš„pixä¸º200200,å½“200200çš„åƒç´ è¦æ˜¾ç¤º400400çº¹ç†åƒç´ çš„ç‰©ä½“æ—¶ï¼Œæ­¤æ—¶çš„ä¸€é¢—åƒç´ éœ€è¦æ˜ å°„22çš„çº¹ç†åƒç´ ï¼Œè¿™ä¸ªæ—¶å€™å°±æœ‰ä¸ªé—®é¢˜äº†ï¼Œè¿™é¢—åƒç´ è¦æ˜¾ç¤ºä»€ä¹ˆé¢œè‰²ï¼Ÿåªèƒ½ç”¨åˆé€‚çš„ç®—æ³•åœ¨è¿™2*2é‡Œçš„çº¹ç†åƒç´ ä¸­è®¡ç®—å¾—å‡ºï¼Œåœ¨è¿™é‡Œå¼•ç”¨OpenGLä¸­çš„é‚»è¿‘è¿‡æ»¤å’Œçº¿æ€§è¿‡æ»¤ï¼š GL_NEARESTï¼ˆä¹Ÿå«é‚»è¿‘è¿‡æ»¤ï¼ŒNearest Neighbor Filteringï¼‰æ˜¯OpenGLé»˜è®¤çš„çº¹ç†è¿‡æ»¤æ–¹å¼ã€‚å½“è®¾ç½®ä¸ºGL_NEARESTçš„æ—¶å€™ï¼ŒOpenGLä¼šé€‰æ‹©ä¸­å¿ƒç‚¹æœ€æ¥è¿‘çº¹ç†åæ ‡çš„é‚£ä¸ªåƒç´ ã€‚ä¸‹å›¾ä¸­ä½ å¯ä»¥çœ‹åˆ°å››ä¸ªåƒç´ ï¼ŒåŠ å·ä»£è¡¨çº¹ç†åæ ‡ã€‚å·¦ä¸Šè§’é‚£ä¸ªçº¹ç†åƒç´ çš„ä¸­å¿ƒè·ç¦»çº¹ç†åæ ‡æœ€è¿‘ï¼Œæ‰€ä»¥å®ƒä¼šè¢«é€‰æ‹©ä¸ºæ ·æœ¬é¢œè‰²ï¼š ä¸´è¿‘è¿‡æ»¤ GL_LINEARï¼ˆä¹Ÿå«çº¿æ€§è¿‡æ»¤ï¼Œ(Bi)linear Filteringï¼‰å®ƒä¼šåŸºäºçº¹ç†åæ ‡é™„è¿‘çš„çº¹ç†åƒç´ ï¼Œè®¡ç®—å‡ºä¸€ä¸ªæ’å€¼ï¼Œè¿‘ä¼¼å‡ºè¿™äº›çº¹ç†åƒç´ ä¹‹é—´çš„é¢œè‰²ã€‚ä¸€ä¸ªçº¹ç†åƒç´ çš„ä¸­å¿ƒè·ç¦»çº¹ç†åæ ‡è¶Šè¿‘ï¼Œé‚£ä¹ˆè¿™ä¸ªçº¹ç†åƒç´ çš„é¢œè‰²å¯¹æœ€ç»ˆçš„æ ·æœ¬é¢œè‰²çš„è´¡çŒ®è¶Šå¤§ã€‚ä¸‹å›¾ä¸­ä½ å¯ä»¥çœ‹åˆ°è¿”å›çš„é¢œè‰²æ˜¯é‚»è¿‘åƒç´ çš„æ··åˆè‰²ï¼š çº¿æ€§è¿‡æ»¤ é‚£ä¹ˆè¿™ä¸¤ç§çº¹ç†è¿‡æ»¤æ–¹å¼æœ‰æ€æ ·çš„è§†è§‰æ•ˆæœå‘¢ï¼Ÿè®©æˆ‘ä»¬çœ‹çœ‹åœ¨ä¸€ä¸ªå¾ˆå¤§çš„ç‰©ä½“ä¸Šåº”ç”¨ä¸€å¼ ä½åˆ†è¾¨ç‡çš„çº¹ç†ä¼šå‘ç”Ÿä»€ä¹ˆå§ï¼ˆçº¹ç†è¢«æ”¾å¤§äº†ï¼Œæ¯ä¸ªçº¹ç†åƒç´ éƒ½èƒ½çœ‹åˆ°ï¼‰ï¼š å·¦ä¸ºä¸´è¿‘è¿‡æ»¤ï¼Œå³ä¸ºçº¿æ€§è¿‡æ»¤ å½“è·ç¦»å¾ˆè¿œçš„æ—¶å€™æ€ä¹ˆç®— æ­¤æ—¶çš„ä½ æ¥åˆ°è¿œç¦»å¸‚åŒº500ç±³çš„å±±ä¸Šï¼Œæƒ³è¦ç‹™å‡»åˆ«äººï¼Œä½ åªèƒ½çœ‹åˆ°ä¸€ä¸ªä¸ªå¾ˆå°çš„äººå½±ï¼Œåœ¨ä¸å¼€é•œçš„æƒ…å†µä¸‹åªèƒ½çœ‹åˆ°äººçš„è·‘åŠ¨ã€‚ æ­¤æ—¶æ•Œäººåœ¨å±å¹•æ˜¾ç¤ºä¸º2020ï¼Œ400400çš„çº¹ç†åƒç´ æ˜ å°„åœ¨2020çš„åƒç´ å†…ï¼Œä¸€é¢—åƒç´ éœ€è¦æ˜ å°„2020çš„çº¹ç†åƒç´ ï¼Œå¦‚æœç›´æ¥è¿›è¡Œçº¹ç†è¿‡æ»¤ï¼Œé‚£ä¹ˆåœ¨ä½¿ç”¨çº¿æ€§è¿‡æ»¤çš„æƒ…å†µä¸‹ï¼Œåªä¼šä½¿ç”¨çº¹ç†åæ ‡æ˜ å°„ç‚¹çš„å‘¨å›´4é¢—çº¹ç†åƒç´ è¿›è¡Œè®¡ç®—ï¼Œé‚£ä¹ˆå…¶ä»–çš„396é¢—çº¹ç†åƒç´ å°±æ²¡äº†å‚è€ƒä»·å€¼ï¼Œè€ƒè™‘æç«¯æƒ…å†µä¸‹ï¼Œå¦‚æœçº¹ç†åæ ‡æ˜ å°„ç‚¹åœ¨äººçš„å¤´å‘ï¼Œé‚£ä¹ˆä¸å°±åªæ˜¯æ˜¾ç¤ºé»‘è‰²äº†ï¼Ÿ ï¼Œé‚£ä¹ˆåœ¨æœ€ç»ˆçš„æ˜¾ç¤ºæ•ˆæœä¸Šå¯èƒ½ä¼šäº§ç”Ÿé”¯é½¿æˆ–è€…æ‘©å°”çº¹ï¼Œæ‘©å°”çº¹é•¿è¿™æ ·ï¼š æ‘©å°”çº¹ è¿™è§†è§‰æ•ˆæœå¿…é¡»å¾—æ”¹å–„ï¼Œé‚£æˆ‘ä¸èƒ½å‚è€ƒæ‰€æœ‰éœ€è¦æ˜ å°„çš„çº¹ç†åƒç´ è¿›è¡Œå¹³å‡å–è‰²å—ï¼Ÿå¯ä»¥ï¼Œä½†æ˜¯ä½ çš„GPUå…è®¸ä½ è¿™ä¹ˆåšå—ï¼Œæœ‰å…´è¶£å¯ä»¥åšä¸ªå®éªŒï¼Œè‡ªå·±é‡‡æ ·æ‰€æœ‰çº¹ç†åƒç´ è¿›è¡Œçº¹ç†è¿‡æ»¤ï¼Œæ­¤æ—¶ä½ å¦‚æœè¿œå¤„çš„æ¨¡å‹è¾ƒå¤šçš„æƒ…å†µä¸‹ï¼Œ ä½¿ç”¨åŸç”Ÿçš„çº¿æ€§è¿‡æ»¤ï¼š60FPSï¼Œæ¸²æŸ“ä¸€ä¸ªç‰©ä½“æ¯é¢—åƒç´ çš„é¢œè‰²éœ€è¦è®¡ç®—4ä¸ªçº¹ç†åƒç´ çš„æ’å€¼ã€‚ é‡‡æ ·æ‰€æœ‰çº¹ç†åƒç´ è¿›è¡Œçº¹ç†è¿‡æ»¤ï¼š1FPS,æ¸²æŸ“ä¸€ä¸ªç‰©ä½“æ¯é¢—åƒç´ çš„é¢œè‰²éœ€è¦é‡‡æ ·è®¡ç®—400ä¸ªçº¹ç†åƒç´ çš„æ’å€¼ã€‚ å¯ä»¥æƒ³è±¡æ€§èƒ½æ¢è´¨é‡çš„æ¶ˆè€—å®åœ¨å¤ªå¤§ï¼Œåœ¨å¦‚ä»Šçš„GPUç®—åŠ›ä¸‹æ˜¯æ–½è¡Œä¸äº†çš„. é‚£æœ‰åŠæ³•ä¸æŸè€—ç®—åŠ›ï¼Œåˆå¯ä»¥æå‡æ˜¾ç¤ºè´¨é‡å—ï¼Ÿå¯ä»¥ï¼Œä½¿ç”¨Mipmap. Mipmapæ¦‚å¿µ æƒ³è±¡ä¸€ä¸‹ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªåŒ…å«ç€ä¸Šåƒç‰©ä½“çš„å¤§æˆ¿é—´ï¼Œæ¯ä¸ªç‰©ä½“ä¸Šéƒ½æœ‰çº¹ç†ã€‚æœ‰äº›ç‰©ä½“ä¼šå¾ˆè¿œï¼Œä½†å…¶çº¹ç†ä¼šæ‹¥æœ‰ä¸è¿‘å¤„ç‰©ä½“åŒæ ·é«˜çš„åˆ†è¾¨ç‡ã€‚ç”±äºè¿œå¤„çš„ç‰©ä½“å¯èƒ½åªäº§ç”Ÿå¾ˆå°‘çš„ç‰‡æ®µï¼ŒOpenGLä»é«˜åˆ†è¾¨ç‡çº¹ç†ä¸­ä¸ºè¿™äº›ç‰‡æ®µè·å–æ­£ç¡®çš„é¢œè‰²å€¼å°±å¾ˆå›°éš¾ï¼Œå› ä¸ºå®ƒéœ€è¦å¯¹ä¸€ä¸ªè·¨è¿‡çº¹ç†å¾ˆå¤§éƒ¨åˆ†çš„ç‰‡æ®µåªæ‹¾å–ä¸€ä¸ªçº¹ç†é¢œè‰²ã€‚åœ¨å°ç‰©ä½“ä¸Šè¿™ä¼šäº§ç”Ÿä¸çœŸå®çš„æ„Ÿè§‰ï¼Œæ›´ä¸ç”¨è¯´å¯¹å®ƒä»¬ä½¿ç”¨é«˜åˆ†è¾¨ç‡çº¹ç†æµªè´¹å†…å­˜çš„é—®é¢˜äº†ã€‚ OpenGLä½¿ç”¨ä¸€ç§å«åšå¤šçº§æ¸è¿œçº¹ç†(Mipmap)çš„æ¦‚å¿µæ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå®ƒç®€å•æ¥è¯´å°±æ˜¯ä¸€ç³»åˆ—çš„çº¹ç†å›¾åƒï¼Œåä¸€ä¸ªçº¹ç†å›¾åƒæ˜¯å‰ä¸€ä¸ªçš„äºŒåˆ†ä¹‹ä¸€ã€‚å¤šçº§æ¸è¿œçº¹ç†èƒŒåçš„ç†å¿µå¾ˆç®€å•ï¼šè·è§‚å¯Ÿè€…çš„è·ç¦»è¶…è¿‡ä¸€å®šçš„é˜ˆå€¼ï¼ŒOpenGLä¼šä½¿ç”¨ä¸åŒçš„å¤šçº§æ¸è¿œçº¹ç†ï¼Œå³æœ€é€‚åˆç‰©ä½“çš„è·ç¦»çš„é‚£ä¸ªã€‚ç”±äºè·ç¦»è¿œï¼Œè§£æåº¦ä¸é«˜ä¹Ÿä¸ä¼šè¢«ç”¨æˆ·æ³¨æ„åˆ°ã€‚åŒæ—¶ï¼Œå¤šçº§æ¸è¿œçº¹ç†å¦ä¸€åŠ åˆ†ä¹‹å¤„æ˜¯å®ƒçš„æ€§èƒ½éå¸¸å¥½ã€‚ Mipmapæ•ˆæœ Mipmap ä¸Šå›¾æ˜¯Mipmapçš„çº¹ç†ï¼Œåœ¨å‚¨å­˜ä¸Šæœ€å¤§çš„ä¸ºmipmap0ï¼Œmipmap1çš„åˆ†è¾¨ç‡ä¸ºmipmap0çš„ä¸€åŠ,ä»¥æ­¤ä¸€ç›´åˆ›å»ºä¸‹å»ï¼Œç›´åˆ°çº¹ç†ä¸ºä¸€ä¸ªåƒç´ æ—¶åœæ­¢ï¼Œåœ¨æŸäº›å¼•æ“ä¸­å¯ä»¥è®¾ç½®Mipmapçš„å¼ºå¼±ï¼Œä¹Ÿå°±æ˜¯Mipmapçš„åˆ›å»ºæ¬¡æ•°ã€‚ä½†ä¸€èˆ¬ç›´æ¥æ‹‰åˆ°æœ€å¼ºï¼Œå› ä¸ºè¶Šåˆ°åé¢åˆ›å»ºçš„å¤§å°è¶Šå°ï¼Œå ç”¨çš„å†…å­˜ä¹Ÿå°±è¶Šå°ã€‚ Mipmapæ•ˆæœ ä¸ä½¿ç”¨Mipmapï¼š åœ¨å…ˆå‰è®²çš„1é¢—åƒç´ éœ€è¦æ˜ å°„2020çš„çº¹ç†åƒç´ æ—¶ï¼Œæ˜¾ç¤ºæ•ˆæœå¤±çœŸï¼Œé”¯é½¿ä»¥åŠå¯èƒ½ä¼šäº§ç”Ÿæ‘©å°”çº¹ï¼Œå‘ç”Ÿçš„åŸå› æ˜¯åœ¨çº¹ç†è¿‡æ»¤æ—¶ï¼Œä¸€é¢—åƒç´ åªé‡‡æ ·äº†åŸæœ¬2020çº¹ç†åƒç´ é‡Œ2*2çº¹ç†åƒç´ çš„é¢œè‰²è¿›è¡Œçº¿æ€§æ’å€¼ï¼Œå¾—åˆ°æœ€ç»ˆçš„é¢œè‰²ï¼Œå…¶ä»–çš„396é¢—çº¹ç†åƒç´ æ— ç”¨ï¼Œæµªè´¹æ˜¾å­˜ä¸”å–è‰²ä¸ç²¾ç¡®ã€‚ ä½¿ç”¨Mipmap:Mipmapåˆ›å»ºï¼šé¢„å…ˆåˆ›å»ºåŸçº¹ç†å¤§å°2åˆ†ä¹‹ä¸€çš„å¤šçº§æ¸è¿œçº¹ç†ï¼Œåœ¨å¤šçº§æ¸è¿œçº¹ç†å–è‰²é‡‡æ ·æ—¶ï¼Œä¹Ÿä¼šè¿›è¡Œçº¿æ€§è¿‡æ»¤ï¼Œå¯ä»¥ç†è§£æˆé¢„å…ˆåˆ›å»ºæ¯éš”ä¸€å®šé˜ˆå€¼(ä¹Ÿå°±æ˜¯æ¯æ¬¡æ˜ å°„åƒç´ ä¸ºä¸Šä¸€çº§åˆ«å¤šçº§æ¸è¿œçº¹ç†çš„2åˆ†ä¹‹ä¸€çš„æ—¶å€™ï¼‰å¹¶ç»è¿‡äº†çº¿æ€§è¿‡æ»¤çš„çº¹ç†ã€‚ ä½¿ç”¨Mipmapçš„æ¸²æŸ“è¿‡ç¨‹ï¼š2020çš„åƒç´ éœ€è¦æ˜ å°„400400çš„çº¹ç†åƒç´ æ—¶ï¼Œæ£€æµ‹åˆ°ä¸€é¢—åƒç´ éœ€è¦æ˜ å°„åˆ°çº¹ç†åƒç´ ä¸º2020ï¼Œåœ¨Mipmapçº¹ç†ä¸­é‡Œå¯»æ‰¾æœ€æ¥è¿‘2020çº¹ç†åƒç´ çš„å¤šçº§æ¸è¿œçº¹ç†ï¼Œå¹¶ä½¿ç”¨æ­¤å¤šçº§æ¸è¿œçº¹ç†è¿›è¡Œé‡‡æ ·ã€‚ æ­¤æ—¶é‡‡æ ·ç”¨çš„å¤šçº§æ¸è¿œçº¹ç†çš„é¢œè‰²ä¹Ÿæ˜¯ä»ä¸Šä¸€çº§çš„å¤šçº§æ¸è¿œçº¹ç†è¿­ä»£é‡‡æ ·æ’å€¼è®¡ç®—è€Œæ¥ï¼Œä¹Ÿå°±æ˜¯ä¸€é¢—åƒç´ æ˜ å°„æ­¤å¤šçº§æ¸è¿œçº¹ç†é—´æ¥æ’å€¼è®¡ç®—äº†2020çš„çº¹ç†åƒç´ çš„é¢œè‰²ï¼Œå–è‰²çš„æ•ˆæœå½“ç„¶æ¯”ä¸€é¢—åƒç´ ç›´æ¥æ˜ å°„åŸå›¾2020åªé‡‡æ ·äº†2*2çš„çº¹ç†åƒç´ é¢œè‰²è¿›è¡Œçº¿æ€§æ’å€¼è¦å¥½å¾—å¤šï¼Œä½¿ç”¨Mipmapå°±é¿å…äº†é‡‡æ ·çš„çº¹ç†åƒç´ è¿‡å°‘è€Œå¤±çœŸï¼Œ ç†è®ºä¸Šç‚¹å¯¹ç‚¹çš„æ˜ å°„æœ€ä¸ºç²¾ç¡®ï¼Œè€Œå¦‚æœæœ€é‚»è¿‘çš„å­çº¹ç†è·Ÿ20*20æ— æ³•ç‚¹å¯¹ç‚¹é‡‡æ ·æ˜ å°„ï¼Œè¿˜å¯ä»¥è®¾ç½®å¤šçº§æ¸è¿œçº¹ç†çš„è¿‡æ»¤æ–¹å¼ è¿‡æ»¤æ–¹å¼ æè¿° GL_NEAREST_MIPMAP_NEAREST ä½¿ç”¨æœ€é‚»è¿‘çš„å¤šçº§æ¸è¿œçº¹ç†æ¥åŒ¹é…åƒç´ å¤§å°ï¼Œå¹¶ä½¿ç”¨é‚»è¿‘æ’å€¼è¿›è¡Œçº¹ç†é‡‡æ · GL_LINEAR_MIPMAP_NEAREST ä½¿ç”¨æœ€é‚»è¿‘çš„å¤šçº§æ¸è¿œçº¹ç†çº§åˆ«ï¼Œå¹¶ä½¿ç”¨çº¿æ€§æ’å€¼è¿›è¡Œé‡‡æ · GL_NEAREST_MIPMAP_LINEAR åœ¨ä¸¤ä¸ªæœ€åŒ¹é…åƒç´ å¤§å°çš„å¤šçº§æ¸è¿œçº¹ç†ä¹‹é—´è¿›è¡Œçº¿æ€§æ’å€¼ï¼Œä½¿ç”¨é‚»è¿‘æ’å€¼è¿›è¡Œé‡‡æ · GL_LINEAR_MIPMAP_LINEAR åœ¨ä¸¤ä¸ªé‚»è¿‘çš„å¤šçº§æ¸è¿œçº¹ç†ä¹‹é—´ä½¿ç”¨çº¿æ€§æ’å€¼ï¼Œå¹¶ä½¿ç”¨çº¿æ€§æ’å€¼è¿›è¡Œé‡‡æ · Mipmapçš„ä¼˜ç‚¹ä¸ç¼ºç‚¹ ä¼˜ç‚¹:1.è´¨é‡é«˜ï¼šé¿å…äº†åœ¨è¿œè·ç¦»æƒ…å†µä¸‹çš„é‡‡æ ·é¢‘ç‡ä½å’Œæ•°æ®é¢‘ç‡é«˜é€ æˆçš„å¤±çœŸå’Œæ‘©å°”çº¹ï¼Œæ•ˆæœæ¯”æ— Mipmapå¥½å¾—å¤šã€‚ 2.æ€§èƒ½å¥½ï¼šé¿å…äº†ä¸ä½¿ç”¨Mipmapä¸‹è·ç¦»è¿œæ—¶é‡‡æ ·é¢‘ç‡ä½å’Œæ•°æ®é¢‘ç‡é«˜è€Œç…§æˆtexture cacheå‘½ä¸­ç‡ä¸é«˜(ç›¸é‚»Pixelé‡‡æ ·Texelæ—¶uvç›¸å·®æ¯”è¾ƒå¤§)ä½¿æ€§èƒ½ä¸‹é™ã€‚ ç¼ºç‚¹ï¼š1.å ç”¨æ˜¾å­˜ï¼Œå¯ä½¿ç”¨ueçš„çº¹ç†æµç¼“å­˜ä¼˜åŒ–ï¼ˆIOæ¢æ˜¾å­˜ï¼‰ã€‚ Mipmapè¯¦è§£(æœ‰æ— MipmapåŒºåˆ«ã€åŸç†ã€ä¼˜ç‚¹ã€ç¼ºç‚¹ã€ä¼˜åŒ–)_çˆ±åƒçš„æ¿æ —.çš„åšå®¢-CSDNåšå®¢","tags":["Mipmap"]},{"title":"è®¾è®¡æ¨¡å¼ï¼šå¯¹è±¡æ± ç³»ç»Ÿ","path":"/2023/09/10/è®¾è®¡æ¨¡å¼ï¼šå¯¹è±¡æ± ç³»ç»Ÿ/","content":"æƒ³è±¡ä¸€ä¸‹æˆ‘æ­£åœ¨åšä¸€ä¸ªä¸§å°¸å›´åŸå°æ¸¸æˆï¼Œä¸§å¤±æºæºä¸æ–­è¢­æ¥ï¼Œè€Œæˆ‘çš„è§’è‰²éœ€è¦ä¸åœæ¶ˆç­å®ƒä»¬ï¼Œå¹¶å‡çº§æ­¦å™¨åº”å¯¹æ›´çŒ›çƒˆçš„æ”»å‡»ã€‚ å¦‚ä½•å¤„ç†ä¸§å°¸ç”Ÿæˆé€»è¾‘ï¼Ÿåˆå­¦è€…çš„æˆ‘æƒ³åˆ°çš„ç¬¬ä¸€ä¸ªæ–¹æ³•å°±æ˜¯æŠŠä¸§å¤±æ‹–æˆé¢„åˆ¶ä½“ï¼ŒInstantiate å®ƒå¹¶è®¾ç½®ä¸€ä¸ªéšæœºä½ç½®ï¼Œå½“å®ƒæ­»äº¡æ—¶è°ƒç”¨ Distory() é”€æ¯æ¸¸æˆç‰©ä½“ã€‚ä½†æ˜¯å½“æˆ‘æŠŠè§’è‰²å°„å‡ºçš„å­å¼¹ã€æªå£ç‰¹æ•ˆã€ä¸§å¤±æ­»äº¡æ‰è½çš„ç»éªŒç‰¹æ•ˆéƒ½è¿™æ ·å¤„ç†ï¼Œéšç€æ¸¸æˆè¿›è¡Œï¼Œæˆ‘çš„ç”µè„‘å˜å¾—è¶Šæ¥è¶Šå¡ã€‚ è¿™æ˜¯å› ä¸ºæ¸¸æˆç‰©ä½“çš„é¢‘ç¹åˆ›å»ºå’Œé”€æ¯ä¼šå ç”¨å¤§é‡å†…å­˜ç©ºé—´ï¼Œé¢‘ç¹è°ƒç”¨GCå ç”¨å¤§é‡æ€§èƒ½ã€‚æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ å¯¹è±¡æ± ï¼ˆObject Poolï¼‰åˆ›å»ºä¸€ä¸ªæ± å­ï¼ŒæŠŠæ¸¸æˆå¯èƒ½ä¼šç”¨åˆ°çš„èµ„æºæå‰åˆ›å»ºï¼Œç”¨åˆ°çš„æ—¶å€™å°†å®ƒ å–å‡º SetActive(true) å¹¶æ”¾åˆ°æ­£ç¡®çš„ä½ç½®ï¼Œç”¨å®Œä¹‹åå† å›æ”¶ SetActive(false) è€Œä¸æ˜¯é”€æ¯ï¼Œç”¨ç©ºé—´æ¢æ—¶é—´å¾ˆå¥½åœ°è§£å†³äº†é—®é¢˜ã€‚ ä»£ç å®ç°Pool.cs1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374[System.Serializable]// Serializable ç‰¹æ€§å¯ä»¥åœ¨ç›‘è§†å™¨çª—å£è°ƒæ•´å¯¹è±¡æ± å†…å®¹public class Pool&#123; public GameObject prefab;// å­˜å…¥çš„ç‰©ä½“ Queue&lt;GameObject&gt; objectPool;// å†…å­˜åŒºï¼ˆé˜Ÿåˆ—ï¼‰æ± å­æœ¬ä½“ public int defaultSize;// å¯¹è±¡æ± åˆå§‹å®¹é‡ public int maxSize;// å¯¹è±¡æ± æœ€å¤§å®¹é‡ï¼Œé˜²æ­¢å¯¹è±¡æ± æ— èŠ‚åˆ¶å ç”¨å†…å­˜ Transform parent;// åˆ›å»ºè¿™ä¸ªæ± å­çš„ç‰©ä½“æ—¶æŒ‡å®šæ‰€å±çš„çˆ¶ç‰©ä½“ /// &lt;summary&gt; /// å¯¹æ± å­è¿›è¡Œåˆå§‹åŒ–ï¼Œåˆ›å»ºåˆå§‹å®¹é‡ä¸ªæ•°çš„ç‰©ä½“ï¼Œå­˜å…¥é˜Ÿåˆ—ä¸­ /// &lt;/summary&gt; /// &lt;param name=&quot;parent&quot;&gt;åˆ›å»ºè¿™ä¸ªæ± å­çš„ç‰©ä½“æ—¶æŒ‡å®šæ‰€å±çš„çˆ¶ç‰©ä½“&lt;/param&gt; public void Initialize(Transform parent) &#123; objectPool = new Queue&lt;GameObject&gt;();// åˆå§‹åŒ–é˜Ÿåˆ— this.parent = parent; for (int i = 0; i &lt; defaultSize; i++) &#123; Copy(); &#125; &#125; /// &lt;summary&gt; /// åˆ›å»ºç‰©ä½“ï¼Œå¹¶æ”¾å…¥å¯¹è±¡æ± ä¸­ /// &lt;/summary&gt; /// &lt;returns&gt;&lt;/returns&gt; public GameObject Copy() &#123; GameObject copy = GameObject.Instantiate(prefab, parent);// å®ä¾‹åŒ–ç‰©ä½“ objectPool.Enqueue(copy);// å°†å®ä¾‹åŒ–çš„ç‰©ä½“å…¥åˆ— copy.SetActive(false);// éšè—è¯¥ç‰©ä½“ return copy; &#125; /// &lt;summary&gt; /// ä»å¯¹è±¡æ± ä¸­æ‹¿å‡ºç‰©ä½“ /// &lt;/summary&gt; /// &lt;returns&gt;&lt;/returns&gt; public GameObject GetObject() &#123; GameObject getObject; if (objectPool.Count &gt; 0 &amp;&amp; !objectPool.Peek().activeSelf)// å¯¹è±¡æ± ä¸­æœ‰ç‰©ä½“ï¼Œå°±æ‹¿å‡º &#123; getObject = objectPool.Dequeue(); &#125; else// å¯¹è±¡æ± è¢«æ‹¿ç©ºäº†è¿˜éœ€è¦ï¼Œå°±å†åˆ›å»ºä¸€ä¸ª &#123; getObject = Copy(); &#125; getObject.SetActive(true); return getObject; &#125; /// &lt;summary&gt; /// å›æ”¶ç‰©ä½“åˆ°æ± å­ä¸­ /// &lt;/summary&gt; /// &lt;param name=&quot;recycle&quot;&gt;&lt;/param&gt; public void RecycleObject(GameObject recycle) &#123; if (objectPool.Count &lt;= maxSize)// æ± å­ä¸­çš„ç‰©ä½“ä¸è¶…è¿‡æœ€å¤§å®¹é‡ &#123; if(!objectPool.Contains(recycle))// è¯¥å¯¹è±¡æ²¡æœ‰åœ¨é˜Ÿåˆ—ä¸­ &#123; objectPool.Enqueue(recycle); recycle.SetActive(false); &#125; &#125; else// è¶…è¿‡æœ€å¤§å®¹é‡å°±é”€æ¯ &#123; GameObject.Destroy(recycle); &#125; &#125;&#125; PoolManager.cs1234567891011121314151617181920212223242526272829303132333435363738public class PoolManager : MonoBehaviour&#123; // æ­¤å¤„åˆ›å»ºæ¸¸æˆä¸­ç”¨åˆ°çš„æ± å­ public Pool[] bulletPools; public static Dictionary&lt;GameObject, Pool&gt; dic;// å°†æ¸¸æˆç‰©ä½“å’Œæ‰€åœ¨çš„æ± å­ç»‘å®šåˆ°å­—å…¸ä¸­ private void Awake() &#123; dic = new Dictionary&lt;GameObject, Pool&gt;(); Initialize(bulletPools); &#125; /// &lt;summary&gt; /// åˆå§‹åŒ–æ¸¸æˆå¯¹è±¡ï¼Œè®¾ç½®çˆ¶ç‰©ä½“ /// &lt;/summary&gt; /// &lt;param name=&quot;pools&quot;&gt;&lt;/param&gt; void Initialize(Pool[] pools) &#123; foreach (Pool pool in pools) &#123; dic.Add(pool.prefab, pool); Transform poolParent = new GameObject(&quot;Pool: &quot; + pool.prefab.name).transform; poolParent.parent = transform; pool.Initialize(poolParent); &#125; &#125; /// &lt;summary&gt; /// æ ¹æ®ä¼ å…¥çš„prefabï¼Œè¿”å›å¯¹è±¡æ± ä¸­å‡†å¤‡å¥½çš„æ¸¸æˆå¯¹è±¡ /// &lt;/summary&gt; /// &lt;param name=&quot;prefab&quot;&gt;&lt;/param&gt; /// &lt;returns&gt;&lt;/returns&gt; public static GameObject Release(GameObject prefab) &#123; return dic[prefab].GetObject(); &#125;&#125; åº”ç”¨å®ä¾‹å¢åŠ ä¸€ä¸ª PoolManager ç±»çš„ Release æ–¹æ³•çš„é‡è½½ï¼Œä½¿ç‰©ä½“åˆ›å»ºæ—¶æœ‰ä¸€ä¸ªåˆå§‹ä½ç½®ï¼š 12345public static GameObject Release(GameObject prefab, Vector3 position)&#123; prefab.transform.position = position; return dic[prefab].GetObject();&#125; æ–°å»ºä¸€ä¸ªå­å¼¹ç±»ï¼ŒåŒ…å«å­å¼¹çš„ç§»åŠ¨ä¸æ’å‡»ç‰©ä½“æ—¶é”€æ¯ï¼ˆä¸æ˜¯çœŸçš„é”€æ¯ï¼Œåªæ˜¯éšè—ï¼‰ Bullet.cs1234567891011121314151617181920public class Bullet : MonoBehaviour&#123; float moveSpeed = 0.1f; void FixedUpdate() &#123; if (gameObject.activeSelf) &#123; transform.Translate(moveSpeed * new Vector3(1, 0, 0)); &#125; &#125; private void OnCollisionEnter(Collision collision) &#123; if (gameObject.activeSelf &amp;&amp; collision.gameObject.name == &quot;Cube&quot;) &#123; gameObject.SetActive(false); &#125; &#125;&#125; åœ¨æ¸¸æˆæ§åˆ¶è„šæœ¬ä¸­æ§åˆ¶å­å¼¹å°„å‡º GameController.cs12345678910111213public class GameController : MonoBehaviour&#123; public GameObject bullet; public Transform bulletPos; private void Update() &#123; if (Input.GetMouseButtonDown(0)) &#123; PoolManager.Release(bullet, bulletPos.transform.position); &#125; &#125;&#125; è¿è¡Œå›¾ç‰‡","tags":["Unity","è®¾è®¡æ¨¡å¼","å¯¹è±¡æ± "]},{"title":"æ•°æ®ç»“æ„ä¸ç®—æ³•ï¼šæ’åº","path":"/2023/09/09/æ•°æ®ç»“æ„ä¸ç®—æ³•-æ’åº/","content":"å†’æ³¡æ’åºï¼ˆBubble Sortï¼‰æ’åºæ–¹æ³•ï¼šï¼ˆä»¥ä¸‹å‡ä¸ºä»å°åˆ°å¤§çš„æ­£åºæ’åºï¼‰ä»æ•°ç»„çš„ç¬¬ä¸€ä½å‘åï¼Œä¾æ¬¡æ¯”è¾ƒç›¸é‚»çš„ä¸¤ä¸ªæ•°æ®ï¼Œå¦‚æœå‰é¢çš„æ•°æ®å¤§äºåé¢çš„æ•°æ®ï¼Œåˆ™ä¸¤ä¸ªå…ƒç´ äº¤æ¢ä½ç½®ã€‚ ä»£ç å®ç°ï¼š12345678910111213141516171819202122232425262728Console.WriteLine(&quot;è¯·è¾“å…¥éœ€è¦æ’åºçš„ä¸€ç»„æ•°å­—ï¼Œä»¥è‹±æ–‡ç¬¦å· &#x27;,&#x27; åˆ†éš”ï¼š&quot;);string inputStr = Console.ReadLine();// è·å–ç”¨æˆ·è¾“å…¥å­—ç¬¦ä¸²string[] numsStr = inputStr.Split(&#x27;,&#x27;);// å°†ç”¨æˆ·è¾“å…¥å­˜å…¥Stringæ•°ç»„int[] nums = new int[numsStr.Length];// å°†Stringæ•°ç»„è½¬ä¸ºintæ•°ç»„ï¼ˆä»¥åä½¿ç”¨ç›´æ¥å£°æ˜çš„æ•°ç»„ï¼‰for (int i = 0; i &lt; numsStr.Length; i++)&#123; nums[i] = int.Parse(numsStr[i]);&#125;for (int i = 0; i &lt; nums.Length - 1; i++)// å¤–å›´å¾ªç¯æ¯è½®å°†ä¸€ä¸ªæœ€å¤§æ•°å­—é€åˆ°æœ€å&#123; for (int j = 0; j &lt; nums.Length - 1 - i; j++)// å†…éƒ¨å¾ªç¯æ¯è½®æŒ‘é€‰è¾ƒå¤§æ•°å­—å¹¶äº¤æ¢ä½ç½® &#123; if (nums[j] &gt; nums[j + 1])// å¦‚æœå‰é¢æ•°å¤§äºåé¢æ•°ï¼Œä¸¤æ•°äº¤æ¢ä½ç½® &#123; int temp = nums[j + 1]; nums[j + 1] = nums[j]; nums[j] = temp; &#125; &#125;&#125;Console.WriteLine(&quot;æ’åºç»“æœä¸ºï¼š&quot;);for (int i = 0; i &lt; nums.Length; i++)&#123; Console.Write(nums[i] + &quot; &quot;);&#125; è¿è¡Œç»“æœï¼š é€‰æ‹©æ’åºï¼ˆ Selection Sortï¼‰æ’åºæ–¹æ³•å°†æ•°ç»„åˆ†ä¸ºæ’åºåŒºå’Œæœªæ’åºåŒºï¼Œéå†æœªæ’åºåŒºçš„å…ƒç´ æ‰¾åˆ°æœ€å°å€¼ï¼Œå°†å®ƒæ”¾åœ¨æœªæ’åºåŒºçš„ç¬¬ä¸€ä½ã€‚ ä»£ç å®ç°1234567891011121314151617181920212223242526272829int[] nums = &#123; 44, 67, 5, 53, 86, 93, 24, 9, 80, 17 &#125;;Console.WriteLine(&quot;åŸæ•°ç»„ä¸ºï¼š&quot;);for (int i = 0; i &lt; nums.Length; i++)&#123; Console.Write(nums[i] + &quot; &quot;);&#125;for (int i = 0; i&lt; nums.Length - 1; i++)&#123; int minIndex = i;// è®°å½•æœ€å°æ•°å­—çš„ä¸‹æ ‡ for (int j= i + 1; j&lt; nums.Length; j++) &#123; if (nums[j] &lt; nums[minIndex]) &#123; minIndex = j;// æ›´æ–°æœ€å°æ•°å­—çš„ä¸‹æ ‡ &#125; &#125; // æ‰¾åˆ°æœ€å°æ•°å­—ä¹‹åä¸æœªæ’åºåŒºçš„ç¬¬ä¸€ä¸ªæ•°äº¤æ¢ä½ç½® int temp = nums[i]; nums[i] = nums[minIndex]; nums[minIndex] = temp;&#125;Console.WriteLine(&quot; æ’åºç»“æœä¸ºï¼š&quot;);for (int i = 0; i &lt; nums.Length; i++)&#123; Console.Write(nums[i] + &quot; &quot;);&#125; è¿è¡Œç»“æœ æ’å…¥æ’åºï¼ˆInsertion Sortï¼‰æ’åºæ–¹æ³•ï¼šå°†æ•°ç»„åˆ†ä¸ºå·²æ’åºåŒºåŸŸå’Œæœªæ’åºåŒºåŸŸï¼Œå°†æœªæ’åºåŒºåŸŸçš„æ•°ä¾æ¬¡ä¸å·²æ’åºåŒºåŸŸçš„æ•°æ¯”è¾ƒå¹¶æ’å…¥åˆ°æ­£ç¡®ä½ç½®ï¼Œå¦‚æœæ¯”å®ƒå¤§åˆ™äº¤æ¢ä½ç½®ï¼Œå¦‚æœæ¯”å®ƒå°åˆ™ä½ç½®ä¸å˜å¹¶æ’å…¥ã€‚ ä»£ç å®ç°ï¼š1234567891011121314151617181920212223242526int[] nums = &#123; 44, 67, 5, 53, 86, 93, 24, 9, 80, 17 &#125;;Console.WriteLine(&quot;åŸæ•°ç»„ä¸ºï¼š&quot;);for (int i = 0; i &lt; nums.Length; i++)&#123; Console.Write(nums[i] + &quot; &quot;);&#125;for (int i = 1; i &lt; nums.Length; i++)// é»˜è®¤ç¬¬ä¸€ä¸ªæ•°å·²æ’åºï¼Œéå†æœªæ’åºåŒºçš„æ¯ä¸€ä¸ªæ•°&#123; int sortNum = nums[i];// å½“å‰æ­£åœ¨æ’å…¥çš„æ•° for (int j = i - 1; j &gt;= 0; j--)// ä»åå¾€å‰éå†å·²æ’åºåŒºçš„æ•° &#123; if (nums[j] &gt; sortNum)// é€‰æ‹©æ­£ç¡®çš„ä½ç½®å¹¶æ’å…¥ &#123; nums[j + 1] = nums[j]; nums[j] = sortNum; &#125; &#125;&#125;Console.WriteLine(&quot; æ’åºç»“æœä¸ºï¼š&quot;);for (int i = 0; i &lt; nums.Length; i++)&#123; Console.Write(nums[i] + &quot; &quot;);&#125; è¿è¡Œç»“æœï¼š å¸Œå°”æ’åºï¼ˆShellâ€™s Sortï¼‰æ’åºæ–¹æ³•æ˜¯æ’å…¥æ’åºçš„å‡çº§ç‰ˆï¼ŒåŠ å…¥äº†åˆ†ç»„çš„è§„åˆ™ï¼Œå°†æ•°ç»„åˆ†æˆå¤šä¸ªå­æ•°ç»„åˆ†åˆ«è¿›è¡Œæ’å…¥æ’åºã€‚ ä»£ç å®ç°åœ¨æ’å…¥æ’åºçš„ä»£ç å¤–å›´å¥—ä¸€å±‚forå¾ªç¯ï¼ŒåŠ å…¥äº†æ­¥é•¿çš„æ¦‚å¿µï¼Œç›¸å½“äºæ™®é€šæ’å…¥æ’åºçš„æ­¥é•¿ä¸€ç›´ä¸º1ï¼Œå¸Œå°”æ’åºå°†1æ›¿æ¢ä¸ºæ­¥é•¿ã€‚ 1234567891011121314151617181920212223242526272829int[] nums = &#123; 44, 67, 5, 53, 86, 93, 24, 9, 80, 17 &#125;;Console.WriteLine(&quot;åŸæ•°ç»„ä¸ºï¼š&quot;);for (int i = 0; i &lt; nums.Length; i++)&#123; Console.Write(nums[i] + &quot; &quot;);&#125;for (int step = nums.Length / 2; step &gt; 0; step /= 2)// æ­¥é•¿stepåˆå§‹ä¸ºæ•°ç»„é•¿åº¦çš„1/2ï¼Œæ¯æ¬¡å¾ªç¯å˜ä¸ºåŸæ­¥é•¿çš„1/2&#123; for (int i = step; i &lt; nums.Length; i += step)// æ¯æ¬¡æŒ‡é’ˆçš„åŠ å‡ä¸ä¸º1ï¼Œæ”¹ä¸ºæ­¥é•¿ &#123; int sortNum = nums[i]; for (int j = i - step; j &gt;= 0; j -= step) &#123; if (nums[j] &gt; sortNum) &#123; nums[j + step] = nums[j]; nums[j] = sortNum; &#125; &#125; &#125;&#125;Console.WriteLine(&quot; æ’åºç»“æœä¸ºï¼š&quot;);for (int i = 0; i &lt; nums.Length; i++)&#123; Console.Write(nums[i] + &quot; &quot;);&#125; è¿è¡Œç»“æœ å¿«é€Ÿæ’åºï¼ˆQuick Sortï¼‰æ’åºæ–¹æ³•ï¼šæ˜¯å¯¹å†’æ³¡æ’åºçš„æ”¹è¿›ï¼Œé€šè¿‡ä¸€è¶Ÿæ’åºå°†è¦æ’åºçš„æ•°æ®åˆ†å‰²æˆä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†çš„æ‰€æœ‰æ•°æ®éƒ½æ¯”å¦ä¸€éƒ¨åˆ†çš„æ‰€æœ‰æ•°æ®å°ï¼Œç„¶åå¯¹ä¸¤éƒ¨åˆ†å†æ¬¡è¿›è¡Œå¿«é€Ÿæ’åºï¼Œé€’å½’ç›´åˆ°æ’åºå®Œæˆã€‚ å¿«é€Ÿæ’åºé¦–å…ˆä¼šåœ¨åºåˆ—ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªåŸºå‡†å€¼ï¼Œç„¶åå°†é™¤äº†åŸºå‡†å€¼ä»¥å¤–çš„æ•°åˆ†ä¸ºâ€œæ¯”åŸºå‡†å€¼å°çš„æ•°â€å’Œâ€œæ¯”åŸºå‡†å€¼å¤§çš„æ•°â€è¿™ä¸¤ä¸ªç±»åˆ«ï¼Œå†å°†å…¶æ’åˆ—æˆä»¥ä¸‹å½¢å¼ã€‚[ æ¯”åŸºå‡†å€¼å°çš„æ•°] åŸºå‡†å€¼ [ æ¯”åŸºå‡†å€¼å¤§çš„æ•°]æ¥ç€ï¼Œå¯¹ä¸¤ä¸ªâ€œ[ ]â€ä¸­çš„æ•°æ®è¿›è¡Œæ’åºä¹‹åï¼Œæ•´ä½“çš„æ’åºä¾¿å®Œæˆäº†ã€‚å¯¹â€œ[ ]â€é‡Œé¢çš„æ•°æ® è¿›è¡Œæ’åºæ—¶åŒæ ·ä¹Ÿä¼šä½¿ç”¨å¿«é€Ÿæ’åºã€‚ ä»£ç å®ç°ï¼š1234567891011121314151617181920212223242526272829303132333435363738394041424344454647int[] nums = &#123; 44, 67, 5, 53, 86, 93, 24, 9, 80, 17 &#125;;Console.WriteLine(&quot;åŸæ•°ç»„ä¸ºï¼š&quot;);for (int i = 0; i &lt; nums.Length; i++)&#123; Console.Write(nums[i] + &quot; &quot;);&#125;void QuickSort(int[] nums, int left, int right)&#123; if (left &gt;= right)// è‹¥æ•°ç»„çš„å·¦ç«¯ä¸‹æ ‡å¤§äºæˆ–ç­‰äºå³ç«¯ä¸‹æ ‡ï¼Œåˆ™è¡¨æ˜æ•°ç»„ä¸ºä¸€æˆ–ç©º &#123; return;// ç»“æŸé€’å½’ &#125; int i = left; int j = right; int pivot = nums[left];// å–å½“å‰æ•°ç»„ç¬¬ä¸€ä¸ªæ•°ä¸ºåŸºå‡†æ•°ï¼Œå¹¶è®°å½• while(i &lt; j)// å½“i = jæ—¶é€€å‡ºï¼Œè¡¨ç¤ºpivotå·¦è¾¹çš„æ•°éƒ½æ¯”pivotå°ï¼Œå³è¾¹çš„æ•°éƒ½æ¯”pivotå¤§ &#123; while(i &lt; j &amp;&amp; pivot &lt;= nums[j])// ä»åå¾€å‰æ‰¾æ¯”pivotå°çš„æ•° &#123; j--; &#125; while (i &lt; j &amp;&amp; nums[i] &lt;= pivot)// ä»å‰å¾€åæ‰¾æ¯”pivotå¤§çš„æ•° &#123; i++; &#125; if (i &lt; j)// äº¤æ¢æ•°ç»„ä¸­å¤§äºåŸºå‡†å€¼çš„æ•°å’Œå°äºåŸºå‡†å€¼çš„æ•° &#123; int temp = nums[i]; nums[i] = nums[j]; nums[j] = temp; &#125; &#125; // å°†åŸºå‡†å€¼æ”¾åˆ°å¤§æ•°ç»„å’Œå°æ•°ç»„ä¸­é”® nums[left] = nums[i]; nums[i] = pivot; QuickSort(nums, left, i - 1);// å¯¹æ¯”æ–°çš„è½´å°çš„éƒ¨åˆ†é€’å½’æ’åº QuickSort(nums,i + 1, right);// å¯¹æ¯”æ–°çš„è½´å¤§çš„éƒ¨åˆ†é€’å½’æ’åº&#125;QuickSort(nums, 0, nums.Length - 1);// è°ƒç”¨æµ‹è¯•Console.WriteLine(&quot; æ’åºç»“æœä¸ºï¼š&quot;);for (int i = 0; i &lt; nums.Length; i++)&#123; Console.Write(nums[i] + &quot; &quot;);&#125; è¿è¡Œç»“æœï¼š å½’å¹¶æ’åºï¼ˆMerge Sortï¼‰æ’åºæ–¹æ³•ï¼š ä»£ç å®ç°ï¼š12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394/// &lt;summary&gt;/// ä¸»å‡½æ•°/// &lt;/summary&gt;/// &lt;param name=&quot;args&quot;&gt;&lt;/param&gt;static void Main(string[] args)&#123; int[] nums = &#123; 44, 67, 5, 53, 86, 93, 24, 9, 80, 17 &#125;; Console.WriteLine(&quot;åŸæ•°ç»„ä¸ºï¼š&quot;); for (int i = 0; i &lt; nums.Length; i++) &#123; Console.Write(nums[i] + &quot; &quot;); &#125; nums = Merge(nums);// è°ƒç”¨ Console.WriteLine(&quot; æ’åºç»“æœä¸ºï¼š&quot;); for (int i = 0; i &lt; nums.Length; i++) &#123; Console.Write(nums[i] + &quot; &quot;); &#125;&#125;/// &lt;summary&gt;/// è´Ÿè´£æ’åº/// &lt;/summary&gt;/// &lt;param name=&quot;left&quot;&gt;ä¼ å…¥çš„å·¦æ•°ç»„&lt;/param&gt;/// &lt;param name=&quot;right&quot;&gt;ä¼ å…¥çš„å³æ•°ç»„&lt;/param&gt;/// &lt;returns&gt;&lt;/returns&gt;static int[] Sort(int[] left, int[] right)&#123; int[] array = new int[left.Length + right.Length];// å…ˆå‡†å¤‡ä¸€ä¸ªæ–°æ•°ç»„ int leftIndex = 0;// å·¦æ•°ç»„ç´¢å¼• int rightIndex = 0;// å³æ•°ç»„ç´¢å¼• for (int i = 0; i &lt; array.Length; i++)// forå¾ªç¯ç›®çš„æ˜¯å¡«æ»¡è¿™ä¸ªæ–°æ•°ç»„ &#123; // 2.å¦‚æœä¸€è¾¹çš„æ•°ç»„æ”¾å®Œäº†ï¼Œåˆ™ç›´æ¥æ”¾å¦ä¸€è¾¹çš„æ•° if (leftIndex &gt;= left.Length) &#123; array[i] = right[rightIndex]; rightIndex++; &#125; else if( rightIndex &gt;= right.Length) &#123; array[i] = left[leftIndex]; leftIndex++; &#125; // 1.å°†å·¦å³ä¸¤æ•°ç»„çš„æ•°ä»å°åˆ°å¤§æ”¾å…¥æ–°æ•°ç»„ else if (left[leftIndex] &lt; right[rightIndex]) &#123; array[i] = left[leftIndex]; leftIndex++; &#125; else if (left[leftIndex] &gt; right[rightIndex]) &#123; array[i] = right[rightIndex]; rightIndex++; &#125; &#125; return array;// è¿”å›æ–°æ•°ç»„&#125;/// &lt;summary&gt;/// è´Ÿè´£åˆ†ç»„ï¼Œè°ƒç”¨æ’åº/// &lt;/summary&gt;/// &lt;param name=&quot;array&quot;&gt;æ¯æ¬¡æ’å¥½åºçš„æ–°æ•°ç»„&lt;/param&gt;/// &lt;returns&gt;&lt;/returns&gt;static int[] Merge(int[] array)&#123; // é€’å½’çš„ç»“æŸæ¡ä»¶ if (array.Length &lt; 2) &#123; return array; &#125; // æ•°ç»„åˆ†ä¸¤æ®µ int mid = array.Length / 2; // åˆå§‹åŒ–å·¦å³æ•°ç»„ int[] left = new int[mid]; int[] right = new int[array.Length - mid]; for (int i = 0; i &lt; array.Length; i++) &#123; if (i &lt; mid) &#123; left[i] = array[i]; &#125; else if (i &gt;= mid) &#123; right[i - mid] = array[i]; &#125; &#125; // ä¸æ–­è°ƒç”¨Mergeç›´åˆ°æ•°ç»„é•¿åº¦ä¸º1ä¸èƒ½å†åˆ†ï¼Œç„¶åè¿›è¡Œæ’åºï¼Œä¸€å±‚ä¸€å±‚å‘ä¸Šè¿”å›ç›´åˆ°è¿”å›å®Œæ•´æ•°ç»„ return Sort(Merge(left), Merge(right));&#125; è¿è¡Œç»“æœï¼š å †æ’åºï¼ˆHeap Sortï¼‰æ’åºæ–¹æ³•ï¼šå †å¯¹åº”ä¸€æ£µå®Œå…¨äºŒå‰æ ‘ï¼Œä¸”æ‰€æœ‰éå¶ç»“ç‚¹çš„å€¼å‡ä¸å¤§äº(æˆ–ä¸å°äº)å…¶å­å¥³çš„å€¼ï¼Œæ ¹ç»“ç‚¹ï¼ˆå †é¡¶å…ƒç´ ï¼‰çš„å€¼æ˜¯æœ€å°(æˆ–æœ€å¤§)çš„ï¼Œæ¯æ¬¡éƒ½å–å †é¡¶çš„å…ƒç´ ï¼Œå°†å…¶æ”¾åœ¨åºåˆ—æœ€åé¢ï¼Œç„¶åå°†å‰©ä½™çš„å…ƒç´ é‡æ–°è°ƒæ•´ä¸ºæœ€å°ï¼ˆå¤§ï¼‰å †ï¼Œä¾æ¬¡ç±»æ¨ï¼Œæœ€ç»ˆå¾—åˆ°æ’åºçš„åºåˆ—ã€‚ ä»£ç å®ç°ï¼š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990internal class Program&#123; /// &lt;summary&gt; /// ä¸»å‡½æ•° /// &lt;/summary&gt; /// &lt;param name=&quot;args&quot;&gt;&lt;/param&gt; static void Main(string[] args) &#123; int[] nums = &#123; 44, 67, 5, 53, 86, 93, 24, 9, 80, 17 &#125;; Console.WriteLine(&quot;åŸæ•°ç»„ä¸ºï¼š&quot;); for (int i = 0; i &lt; nums.Length; i++) &#123; Console.Write(nums[i] + &quot; &quot;); &#125; HeapSort(nums, nums.Length); Console.WriteLine(&quot; æ’åºç»“æœä¸ºï¼š&quot;); for (int i = 0; i &lt; nums.Length; i++) &#123; Console.Write(nums[i] + &quot; &quot;); &#125; &#125; /// &lt;summary&gt; /// å †æ’åº /// å †å¯¹åº”ä¸€æ£µå®Œå…¨äºŒå‰æ ‘ï¼Œä¸”æ‰€æœ‰éå¶ç»“ç‚¹çš„å€¼å‡ä¸å¤§äº(æˆ–ä¸å°äº)å…¶å­å¥³çš„å€¼ï¼Œæ ¹ç»“ç‚¹ï¼ˆå †é¡¶å…ƒç´ ï¼‰çš„å€¼æ˜¯æœ€å°(æˆ–æœ€å¤§)çš„ /// æ¯æ¬¡éƒ½å–å †é¡¶çš„å…ƒç´ ï¼Œå°†å…¶æ”¾åœ¨åºåˆ—æœ€åé¢ï¼Œç„¶åå°†å‰©ä½™çš„å…ƒç´ é‡æ–°è°ƒæ•´ä¸ºæœ€å°å †ï¼Œä¾æ¬¡ç±»æ¨ï¼Œæœ€ç»ˆå¾—åˆ°æ’åºçš„åºåˆ—ã€‚ /// &lt;/summary&gt; /// &lt;param name=&quot;arr&quot;&gt;&lt;/param&gt; /// &lt;param name=&quot;length&quot;&gt;&lt;/param&gt; private static void HeapSort(int[] arr, int length) &#123; CreateHeap(arr, length); //ä»æœ€åçš„èŠ‚ç‚¹è¿›è¡Œè°ƒæ•´ for (int i = length - 1; i &gt; 0; i--) &#123; //äº¤æ¢å †é¡¶å’Œæœ€åä¸€ä¸ªèŠ‚ç‚¹çš„å…ƒç´  int temp = arr[i]; arr[i] = arr[0]; arr[0] = temp; //æ¯æ¬¡äº¤æ¢è¿›è¡Œè°ƒæ•´ AdjustHeap(arr, 0, i - 1); &#125; &#125; /// &lt;summary&gt; /// å»ºå †æ–¹æ³•ï¼šå¯¹åˆå§‹åºåˆ—å»ºå †çš„è¿‡ç¨‹ï¼Œå°±æ˜¯ä¸€ä¸ªåå¤è¿›è¡Œç­›é€‰çš„è¿‡ç¨‹ã€‚ /// 1ï¼‰n ä¸ªç»“ç‚¹çš„å®Œå…¨äºŒå‰æ ‘ï¼Œåˆ™æœ€åä¸€ä¸ªç»“ç‚¹æ˜¯ç¬¬n/2ä¸ªç»“ç‚¹çš„å­æ ‘ã€‚ /// 2ï¼‰ç­›é€‰ä»ç¬¬n/2ä¸ªç»“ç‚¹ä¸ºæ ¹çš„å­æ ‘å¼€å§‹ï¼Œè¯¥å­æ ‘æˆä¸ºå †ã€‚ /// 3ï¼‰ä¹‹åå‘å‰ä¾æ¬¡å¯¹å„ç»“ç‚¹ä¸ºæ ¹çš„å­æ ‘è¿›è¡Œç­›é€‰ï¼Œä½¿ä¹‹æˆä¸ºå †ï¼Œç›´åˆ°æ ¹ç»“ç‚¹ã€‚ /// å®Œå…¨äºŒå‰æ ‘ï¼šé™¤æœ€åä¸€å±‚å¤–ï¼Œæ¯ä¸€å±‚ä¸Šçš„ç»“ç‚¹æ•°å‡è¾¾åˆ°æœ€å¤§å€¼ï¼›åœ¨æœ€åä¸€å±‚ä¸Šåªç¼ºå°‘å³è¾¹çš„è‹¥å¹²ç»“ç‚¹ã€‚ /// &lt;/summary&gt; private static void CreateHeap(int[] arr, int length) &#123; for (int i = length / 2 - 1; i &gt;= 0; i--) &#123; AdjustHeap(arr, i, length - 1); &#125; &#125; private static void AdjustHeap(int[] arr, int start, int length) &#123; int root = start; int child = root * 2 + 1; while (child &lt;= length) &#123; //è‹¥å­èŠ‚ç‚¹æŒ‡æ ‡åœ¨èŒƒå›´å†…æ‰åšæ¯”è¾ƒ if (child + 1 &lt;= length &amp;&amp; arr[child] &lt; arr[child + 1]) &#123; //å…ˆæ¯”è¾ƒä¸¤ä¸ªå­èŠ‚ç‚¹å¤§å°ï¼Œé€‰æ‹©æœ€å¤§çš„ child++; &#125; //å¦‚æœçˆ¶èŠ‚ç‚¹å¤§æ–¼å­èŠ‚ç‚¹ä»£è¡¨è°ƒæ•´å®Œæ¯•ï¼Œç›´æ¥è·³å‡ºå‡½æ•° if (arr[root] &gt; arr[child]) &#123; return; &#125; else &#123; //å¦åˆ™äº¤æ¢çˆ¶å­å†…å®¹å†ç»§ç»­å­èŠ‚ç‚¹å’Œå­™èŠ‚ç‚¹æ¯”è¾ƒ int temp = arr[root]; arr[root] = arr[child]; arr[child] = temp; root = child; child = root * 2 + 1; &#125; &#125; &#125; è¿è¡Œç»“æœï¼š","tags":["C#åŸºç¡€","æ•°æ®ç»“æ„ä¸ç®—æ³•","æ’åº"]},{"title":"åˆå­¦æœ‰é™çŠ¶æ€æœº","path":"/2023/09/03/åˆå­¦æœ‰é™çŠ¶æ€æœº/","content":"æƒ³è±¡ä¸€ä¸‹ æƒ³è±¡ä¸€ä¸ªåœºæ™¯ï¼Œä½ æœ‰ä¸€ä¸ªARPGæ¸¸æˆé‡Œçš„è§’è‰²ï¼Œä½ çš„è§’è‰²æœ‰å¾ˆå¤šéªšæ°”çš„åŠ¨ä½œï¼šè¹¬å¢™è·³ã€æ»‘é“²ã€äºŒæ®µè·³ã€æ»‘ç¿”ã€è¿‡è‚©æ‘”ã€æ ¼æŒ¡åå‡»ã€å’¸é±¼å†²åˆºã€å¹å£å“¨â€¦â€¦ ä½†æ˜¯ï¼Œä½ çš„è§’è‰²å¹¶ä¸èƒ½åœ¨æ»‘é“²çš„æ—¶å€™ä½¿å‡ºå’¸é±¼å†²åˆºï¼Œåœ¨æ»‘ç¿”çš„æ—¶å€™å¯¹ç€æ•Œäººä½¿å‡ºè¿‡è‚©æ‘”ï¼Œåœ¨æŒ¨æ‰“çš„æ—¶å€™å¯¹ç€æ€ªå¹å£å“¨ï¼Œå¦åˆ™å…¶ä»–çœ‹åˆ°çš„ç©å®¶å°±ä¼šç›´å‘¼ï¼šå§æ§½ï¼Œæœ‰æŒ‚ å¦‚æœä½ æ˜¯Unityèœé¸Ÿï¼Œä½ ä¼šæ€æ ·è®¾è®¡è§’è‰²æ§åˆ¶ä»£ç å‘¢ï¼Œæ­£å¥½æˆ‘å°±æ˜¯èœé¸Ÿï¼Œæˆ‘ä¼šå‘Šè¯‰ä½ åº”è¯¥è¿™æ ·åšï¼šå£°æ˜ä¸€æºœå¸ƒå°”å€¼æ¥åˆ¤æ–­è§’è‰²æ‰€å¤„çš„çŠ¶æ€ 1234bool isGround;// åœ¨åœ°é¢ä¸Šbool isHuaXiang;// æ­£åœ¨æ»‘ç¿”bool isHurt;// æ­£åœ¨æŒ¨æ‰“â€¦â€¦ å½“æŒ‰ä¸‹åŠ¨ä½œæŒ‰é”®æ—¶ç”¨ifæ¥åˆ¤æ–­ 12if(!isHurt)\tChuiKouShao();// å¦‚æœè§’è‰²æ²¡æœ‰åœ¨æŒ¨æ‰“ï¼Œå°±å¯¹ç€æ€ªå¹å£å“¨å˜²è®½ like this å½“ç„¶ï¼Œå­¦è¿‡æœ‰é™çŠ¶æ€æœºçš„ä½ å¯¹ç€æˆ‘çš„å˜´å°±æ˜¯ä¸€å·´æŒï¼šå¦‚æœè§’è‰²çš„çŠ¶æ€å’Œè¡Œä¸ºä¸æ–­å˜å¾—å¤æ‚ï¼Œæ…¢æ…¢çš„ï¼Œä½ ä¼šåˆ›å»º114514ä¸ªæ¡ä»¶å˜é‡ï¼Œæ…¢æ…¢çš„ï¼Œifå±‚çº§ä¼šè¶Šæ¥è¶Šå¤šã€‚ã€‚ç„¶åä½ äº¤ç»™äº†æˆ‘ä¸€ä¸ªæ–°çš„æ–¹æ³•â€”â€”æœ‰é™çŠ¶æ€æœºï¼š æœ‰é™çŠ¶æ€æœº FSMï¼Œæœ‰é™çŠ¶æ€æœºï¼Œå¯ä»¥æšä¸¾å‡ºæœ‰é™å¤šä¸ªçŠ¶æ€ï¼Œå½“æ»¡è¶³ç‰¹å®šçš„æ¡ä»¶æ—¶å¯ä»¥åœ¨è¿™äº›æ¡ä»¶ä¸­æ¥å›åˆ‡æ¢ æœ‰é™çŠ¶æ€æœºçš„æ ¸å¿ƒæ€æƒ³ï¼š æ‹¥æœ‰æœ‰é™ä¸ªçš„å¤šç§çŠ¶æ€ å½“å‰å¤„äºå…¶ä¸­ä¸€ä¸ªçŠ¶æ€ çŠ¶æ€ä¹‹é—´å¯ä»¥äº’ç›¸åˆ‡æ¢ æ¯”å¦‚æ¸¸æˆä¸­çš„æ•ŒäººAIï¼Œæ­£å¸¸æƒ…å†µä¸‹æ•Œäººä¼šåœ¨ç‰¹å®šçš„è·¯çº¿ä¸Šæ¥å›èµ°åŠ¨è¿›è¡Œå·¡é€»ï¼Œå½“ç©å®¶å‘å‡ºåŠ¨é™æˆ–è€…é¦–æ¬¡è¿›å…¥è§†é‡æ—¶ä¼šè­¦è§‰ï¼Œè¿™æ—¶å€™ç©å®¶å†æ¬¡å‘å‡ºåŠ¨é™æˆ–è€…æš´éœ²åœ¨è§†é‡ä¸­æ•Œäººå°±ä¼šè¿½å‡»ç©å®¶ï¼Œç›´åˆ°ç©å®¶æ¶ˆå¤±åœ¨è§†é‡ä¸­ Unityå½“ä¸­çš„Animatorå°±æ˜¯ä¸€ä¸ªFSMï¼š Animator åªä¸è¿‡æ¯ä¸ªçŠ¶æ€é‡Œå­˜æ”¾çš„æ˜¯åŠ¨ç”»ï¼Œæˆ‘ä»¬çš„FSMä¹Ÿä¼šæ²¿ç”¨è¿™ä¸ªæ€æƒ³ï¼Œåªä¸è¿‡çŠ¶æ€é‡Œå­˜æ”¾çš„æ˜¯é€»è¾‘ä»£ç  FSMå¯ä»¥è¯´æ˜¯ä¸€ä¸ªå¼ºåŒ–ç‰ˆçš„ switch case ï¼Œåˆ¤æ–­å¤„äºå“ªä¸ªçŠ¶æ€ï¼Œæ‰§è¡Œå¯¹åº”çš„é€»è¾‘ï¼ŒFSMå¯ä»¥å¾ˆæ–¹ä¾¿åœ°è¿›è¡Œæ‰©å±•ï¼ŒåŠ å…¥æ–°çŠ¶æ€åªéœ€ç»§æ‰¿åŸºç±»ï¼Œä¸ç”¨ä¿®æ”¹åŸæ¥çš„ä»£ç  ä¸€ä¸ªæœ€ç®€å•çš„æœ‰é™çŠ¶æ€æœº FSMæ€æƒ³ä¸€ï¼šæ‹¥æœ‰æœ‰é™ä¸ªçš„å¤šç§çŠ¶æ€ æˆ‘ä»¬é¦–å…ˆæ€è€ƒä¸€ä¸‹æ•Œäººæœ‰å“ªäº›çŠ¶æ€ï¼Œè¿™é‡Œæˆ‘åªä½¿ç”¨äº†ç®€å•çš„ä¸¤ç§çŠ¶æ€ï¼š å·¡é€» è¿½èµ¶ ä½¿ç”¨æšä¸¾ enum ç±»å‹æ¥å­˜å‚¨æ‰€æœ‰çš„çŠ¶æ€ä¾¿äºä½¿ç”¨ï¼š 12345public enum StateType&#123; Patrol,// å·¡é€»çŠ¶æ€ Chase// è¿½èµ¶çŠ¶æ€&#125; â€‹ FSMæ€æƒ³äºŒï¼šå½“å‰å¤„äºå…¶ä¸­ä¸€ä¸ªçŠ¶æ€ æ¥ä¸‹æ¥éœ€è¦çŸ¥é“æ•Œäººå½“å‰æ­£å¤„äºå“ªç§çŠ¶æ€ï¼Œä½¿ç”¨ä¸€ä¸ª StateType ç±»å‹çš„å˜é‡æ¥å­˜å‚¨ 1private StateType currentState; â€‹ FSMæ€æƒ³ä¸‰ï¼šçŠ¶æ€ä¹‹é—´å¯ä»¥äº’ç›¸åˆ‡æ¢ åœ¨Updateä¸­ï¼ŒåšçŠ¶æ€ä¹‹é—´åˆ‡æ¢çš„åˆ¤æ–­ï¼Œå½“å‰æ­£å¤„äºå“ªç§çŠ¶æ€ï¼Œå°±æ‰§è¡Œå¯¹åº”çŠ¶æ€çš„å“åº”å‡½æ•° 1234567891011121314private void Update()&#123; switch (currentState) &#123; case StateType.Patrol: OnPatrol();// å·¡é€»çŠ¶æ€çš„å“åº”å‡½æ•° break; case StateType.Chase: OnChase();// è¿½å‡»çŠ¶æ€çš„å“åº”å‡½æ•° break; default: break; &#125;&#125; â€‹ æ¥ä¸‹æ¥åªè¦è¡¥å……ä¸¤ä¸ªå“åº”å‡½æ•°ä¸­çš„ä»£ç é€»è¾‘ï¼š 12345678910111213141516private void OnPatrol() &#123; if (Vector2.Distance(transform.position, targetPos) &lt; 0.1f) &#123; targetPos = (targetPos == patrolPos1) ? patrolPos2 : patrolPos1; &#125; transform.position = Vector2.MoveTowards(transform.position, targetPos, speed * Time.deltaTime); if (Vector2.Distance(player.position, transform.position) &lt; dangerDistance) &#123; transform.GetComponentInChildren&lt;Text&gt;().text = &quot;Enemy(Chasing)&quot;; enemyMaterial.color = Color.red; currentState = StateType.Chase; &#125; &#125; 1234567891011private void OnChase() &#123; transform.position = Vector2.MoveTowards(transform.position, player.position, speed * Time.deltaTime); if (Vector2.Distance(transform.position, player.position) &gt; dangerDistance) &#123; transform.GetComponentInChildren&lt;Text&gt;().text = &quot;Enemy(patrolling)&quot;; enemyMaterial.color = Color.green; currentState = StateType.Patrol; &#125; &#125; æ›´å¤æ‚ç‚¹çš„æœ‰é™çŠ¶æ€æœº ç®€å•ç‰ˆæœ¬çš„çŠ¶æ€æœºçš„ä»£ç è€¦åˆæ€§å¤ªå¤§ï¼Œä¸ä¾¿äºæ›´æ”¹ï¼Œè¿™æ—¶å€™éœ€è¦åŠ å…¥ä¸€ä¸ªä¸­é—´ç±» çŠ¶æ€æœºç®¡ç†ç±» æ¥æ§åˆ¶ã€è°ƒç”¨æ‰€æœ‰çš„çŠ¶æ€ï¼›åŒæ—¶ä¸ºäº†ä¾¿äºç®¡ç†ï¼Œæ‰€æœ‰çš„çŠ¶æ€éƒ½ç»§æ‰¿è‡ªåŒä¸€ä¸ª çŠ¶æ€åŸºç±» ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥ç”¨æ¥å£æ¥å®ç°åŒæ ·çš„æ•ˆæœï¼Œæ€»ä½“æ¥è¯´å°±æ˜¯ä¸‹é¢çš„æ¡†æ¶ï¼š æ¯ä¸ªç‹¬ç«‹çš„æ•Œäººå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„çŠ¶æ€æœºç®¡ç†å™¨ï¼Œè¿™ä¸ªç®¡ç†å™¨ä¸­å­˜æ”¾ç€æ•Œäººçš„æ‰€æœ‰çŠ¶æ€ï¼Œé€šè¿‡è¿™ä¸ªç®¡ç†å™¨æ¥å®ç°è‡ªå·±å½“å‰çŠ¶æ€çš„åˆ‡æ¢å’Œè¿è¡Œ çŠ¶æ€æšä¸¾ä¾¿äºè§„èŒƒå’Œä½¿ç”¨ï¼Œç”¨ä¸€ä¸ªæšä¸¾æ¥å­˜æ”¾æ¸¸æˆä¸­çš„æ‰€æœ‰çŠ¶æ€ 12345public enum StateEnum&#123; Patrol, Chase&#125; çŠ¶æ€æœºç®¡ç†å™¨ç±»ç”¨å­—å…¸æ¥å­˜æ”¾å•ä¸ªæ•Œäººçš„çŠ¶æ€åå­—å’Œå®ä¾‹ï¼Œå¹¶åˆ›å»º AddState å‡½æ•°ä¾¿äºåœ¨å•ä¸ªæ•Œäººç±»ä¸­å¯¹è‡ªå·±æ‹¥æœ‰çŠ¶æ€è¿›è¡Œç®¡ç† 123456789101112131415161718192021public Dictionary&lt;StateEnum, BaseState&gt; stateDic;public GameObject aIObject; // å½“å‰çŠ¶æ€æœºç®¡ç†å™¨çš„æ‹¥æœ‰è€…public BaseState currentState; // å½“å‰æ‰€å¤„äºçš„çŠ¶æ€/// &lt;summary&gt;/// å‘å­—å…¸ä¸­æ·»åŠ Stateçš„æ–¹æ³•/// &lt;/summary&gt;/// &lt;param name=&quot;stateEnum&quot;&gt;Stateå&lt;/param&gt;public void AddState(StateEnum state)&#123; switch (state) &#123; case StateEnum.Patrol: stateDic.Add(state, new PatrolState(this)); break; case StateEnum.Chase: stateDic.Add(state, new ChaseState(this)); break; default: break; &#125;&#125; çŠ¶æ€çš„åŸºç±»æŠ½è±¡ç±»ï¼Œåªèƒ½è¢«ç»§æ‰¿ã€‚æ‰€æœ‰çŠ¶æ€éƒ½å…·æœ‰çš„å…±åŒè¡Œä¸º OnEnterã€OnUpdateã€OnExit å•ä¸ªçŠ¶æ€ç±»æ¯ä¸ªçŠ¶æ€å•ç‹¬ä¸€ä¸ªç±»ï¼Œå­˜æ”¾è¿™ä¸ªçŠ¶æ€æ‹¥æœ‰çš„é€»è¾‘ä»£ç ï¼Œç»§æ‰¿äºçŠ¶æ€åŸºç±» è§’è‰²å¯¹è±¡ç±»åˆ›å»ºStateMachineManagerç±»çš„å®ä¾‹ï¼Œæ¯ä¸ªè§’è‰²éƒ½æœ‰è‡ªå·±ä¸“å±çš„çŠ¶æ€æœºï¼Œå› æ­¤StateMachineManagerç±»ä¸èƒ½æ˜¯æŠ½è±¡ç±»","tags":["Unity","learn","æœ‰é™çŠ¶æ€æœº"]},{"title":"Luaå­¦ä¹ ç¬”è®°","path":"/2023/08/29/Luaå­¦ä¹ ç¬”è®°/","content":"ç¬¬ä¸€ä¸ªLuaç¨‹åº1print(&quot;Hello World!&quot;) Lua è¯­å¥ä¸ç”¨å†™åˆ†å· Lua æ³¨é‡Šï¼šå•è¡Œæ³¨é‡Š 1--å•è¡Œæ³¨é‡Š å¤šè¡Œæ³¨é‡Š 1234--[[å¤šè¡Œæ³¨é‡Š--]] Lua æ ‡ç¤ºç¬¦Lua æ ‡ç¤ºç¬¦ç”¨äºå®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œå‡½æ•°è·å–å…¶ä»–ç”¨æˆ·å®šä¹‰çš„é¡¹ã€‚æ ‡ç¤ºç¬¦ä»¥ä¸€ä¸ªå­—æ¯ A åˆ° Z æˆ– a åˆ° z æˆ–ä¸‹åˆ’çº¿ _ å¼€å¤´ååŠ ä¸Š 0 ä¸ªæˆ–å¤šä¸ªå­—æ¯ï¼Œä¸‹åˆ’çº¿ï¼Œæ•°å­—ï¼ˆ0 åˆ° 9ï¼‰ã€‚ æœ€å¥½ä¸è¦ä½¿ç”¨ä¸‹åˆ’çº¿åŠ å¤§å†™å­—æ¯çš„æ ‡ç¤ºç¬¦ï¼Œå› ä¸ºLuaçš„ä¿ç•™å­—ä¹Ÿæ˜¯è¿™æ ·çš„ã€‚ Lua ä¸å…è®¸ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦å¦‚ @, $, å’Œ % æ¥å®šä¹‰æ ‡ç¤ºç¬¦ã€‚ Lua æ˜¯ä¸€ä¸ªåŒºåˆ†å¤§å°å†™çš„ç¼–ç¨‹è¯­è¨€ã€‚å› æ­¤åœ¨ Lua ä¸­ Runoob ä¸ runoob æ˜¯ä¸¤ä¸ªä¸åŒçš„æ ‡ç¤ºç¬¦ã€‚ä»¥ä¸‹åˆ—å‡ºäº†ä¸€äº›æ­£ç¡®çš„æ ‡ç¤ºç¬¦ï¼š 12mohd zara abc move_name a_123myname50 _temp j a23b9 retVal Lua å…³é”®è¯ä»¥ä¸‹åˆ—å‡ºäº† Lua çš„ä¿ç•™å…³é”®è¯ã€‚ä¿ç•™å…³é”®å­—ä¸èƒ½ä½œä¸ºå¸¸é‡æˆ–å˜é‡æˆ–å…¶ä»–ç”¨æˆ·è‡ªå®šä¹‰æ ‡ç¤ºç¬¦ï¼š and break do else elseif end false for function if in local nil not or repeat return then true until while goto ä¸€èˆ¬çº¦å®šï¼Œä»¥ä¸‹åˆ’çº¿å¼€å¤´è¿æ¥ä¸€ä¸²å¤§å†™å­—æ¯çš„åå­—ï¼ˆæ¯”å¦‚ _VERSIONï¼‰è¢«ä¿ç•™ç”¨äº Lua å†…éƒ¨å…¨å±€å˜é‡ã€‚ Lua å…¨å±€å˜é‡ä¸€èˆ¬æ¥è¯´ï¼Œæ‰€æœ‰å˜é‡éƒ½æ˜¯å…¨å±€çš„ï¼Œä¸€ä¸ªå˜é‡æ²¡æœ‰è¿›è¡Œåˆå§‹åŒ–æ—¶ï¼Œä»–çš„å€¼é»˜è®¤æ˜¯ nil Lua æ•°æ®ç±»å‹å’Œ Python ä¸€æ ·ï¼ŒLua æ˜¯åŠ¨æ€ç±»å‹è¯­è¨€ï¼Œä¸éœ€è¦å®šä¹‰å˜é‡çš„ç±»å‹ï¼Œå°½ç®¡èµ‹å€¼ Lua ä¸­æœ‰8ä¸ªåŸºæœ¬ç±»å‹ï¼š æ•°æ®ç±»å‹ æè¿° nil è¡¨ç¤ºä¸€ä¸ªæ— æ•ˆå€¼æˆ–è€…ç©ºå€¼ï¼Œåœ¨æ¡ä»¶è¡¨è¾¾å¼ä¸­ç›¸å½“äºfalse boolean è¡¨ç¤ºæ¡ä»¶ï¼štrue å’Œ false number è¡¨ç¤ºåŒç²¾åº¦ç±»å‹çš„å®æµ®ç‚¹æ•°ï¼Œæ‰€æœ‰æ•°å­— string å­—ç¬¦ä¸²ï¼Œç”¨ â€œâ€ æˆ– â€˜â€™ è¡¨ç¤º function å‡½æ•°æ–¹æ³• userdata è¡¨ç¤ºä»»æ„å­˜å‚¨åœ¨å˜é‡ä¸­çš„Cæ•°æ®ç»“æ„ thread è¡¨ç¤ºæ‰§è¡Œçš„ç‹¬ç«‹çº¿è·¯ï¼Œç”¨äºæ‰§è¡ŒååŒç¨‹åºï¼Œå¤šçº¿ç¨‹ table å…¶å®æ˜¯ä¸€ä¸ªâ€å…³è”æ•°ç»„â€ï¼ˆassociative arraysï¼‰ï¼Œæ•°ç»„çš„ç´¢å¼•å¯ä»¥æ˜¯æ•°å­—ã€å­—ç¬¦ä¸²æˆ–è¡¨ç±»å‹ã€‚ç”¨ {} æ¥åˆ›å»º ç”¨ type å‡½æ•°æµ‹è¯•å˜é‡æˆ–è€…å€¼çš„ç±»å‹ï¼š 1234567print(type(&quot;Hello Caromeow&quot;)) --&gt; stringprint(type(114514)) --&gt; numberprint(type(print)) --&gt; functionprint(type(type)) --&gt; functionprint(type(true)) --&gt; booleanprint(type(nil)) --&gt; nilprint(type(type(X))) --&gt; string nilå¯¹äºå…¨å±€å˜é‡å’Œ tableï¼Œnil è¿˜æœ‰ä¸€ä¸ªâ€åˆ é™¤â€ä½œç”¨ï¼Œç»™å…¨å±€å˜é‡æˆ–è€… table è¡¨é‡Œçš„å˜é‡èµ‹ä¸€ä¸ª nil å€¼ï¼Œç­‰åŒäºæŠŠå®ƒä»¬åˆ æ‰ nil ä½œæ¯”è¾ƒæ—¶åº”è¯¥åŠ ä¸ŠåŒå¼•å· 123x = niltype(x) == nil --&gt; falsetype(x) == &quot;nil&quot; --&gt; true booleanLua æŠŠ false å’Œ nil çœ‹ä½œæ˜¯ falseï¼Œå…¶ä»–éƒ½ä¸º trueï¼Œæ•°å­— 0 ä¹Ÿæ˜¯ true 12345if 0 then print(&quot;æ•°å­— 0 æ˜¯ true&quot;)else print(&quot;æ•°å­— 0 æ˜¯ false&quot;)end --&gt; æ•°å­— 0 æ˜¯ true numberLua åªæœ‰ä¸€ç§æ•°å­—ç±»å‹ number â€“ doubeï¼ˆåŒç²¾åº¦ï¼‰ç±»å‹ stringç”¨ 2 ä¸ªæ–¹æ‹¬å· â€œ[[]]â€ è¡¨ç¤ºå¤šè¡Œå­—ç¬¦ä¸² å­—ç¬¦ä¸²è¿æ¥ä½¿ç”¨çš„æ˜¯ä¸¤ä¸ªç‚¹ .. 1print(985 .. 996) --&gt; 985996 ç”¨ # è¡¨ç¤ºå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œå­—æ¯å’Œç¬¦å·å 1ä¸ªé•¿åº¦ï¼Œæ±‰å­—å 3ä¸ªé•¿åº¦ 1print(#&quot;Qå¼¹å¥½å‘³&quot;) --&gt; 10 tableä½¿ç”¨ {} åˆ›å»º 1234-- åˆ›å»ºä¸€ä¸ªç©ºè¡¨table1 = &#123;&#125;-- ç›´æ¥åˆå§‹åŒ–è¡¨table2 = &#123;&quot;ç‰›&quot;, &quot;é©¬&quot;&#125; Lua ä¸­çš„è¡¨ï¼ˆtableï¼‰å…¶å®æ˜¯ä¸€ä¸ªâ€å…³è”æ•°ç»„â€ï¼ˆassociative arraysï¼‰ï¼Œæ•°ç»„çš„ç´¢å¼•å¯ä»¥æ˜¯æ•°å­—æˆ–è€…æ˜¯å­—ç¬¦ä¸²ã€‚ 12345678910a = &#123;&#125;a[&quot;key&quot;] = &quot;value&quot;key = 10a[key] = 22a[key] = a[key] + 11for k, v in pairs(a) do print(k .. &quot; : &quot; .. v)end--&gt; key : value--&gt; 10 : 33 Lua è¡¨çš„ç´¢å¼•ä» 1 å¼€å§‹ function123456789101112function factorial1(n) if n == 0 then return 1 else return n * factorial1(n - 1) endendprint(factorial1(5))factorial2 = factorial1print(factorial2(5))--&gt; 120--&gt; 120 threadåœ¨ Lua é‡Œï¼Œæœ€ä¸»è¦çš„çº¿ç¨‹æ˜¯ååŒç¨‹åºï¼ˆcoroutineï¼‰ã€‚å®ƒè·Ÿçº¿ç¨‹ï¼ˆthreadï¼‰å·®ä¸å¤šï¼Œæ‹¥æœ‰è‡ªå·±ç‹¬ç«‹çš„æ ˆã€å±€éƒ¨å˜é‡å’ŒæŒ‡ä»¤æŒ‡é’ˆï¼Œå¯ä»¥è·Ÿå…¶ä»–ååŒç¨‹åºå…±äº«å…¨å±€å˜é‡å’Œå…¶ä»–å¤§éƒ¨åˆ†ä¸œè¥¿ã€‚ çº¿ç¨‹è·Ÿåç¨‹çš„åŒºåˆ«ï¼šçº¿ç¨‹å¯ä»¥åŒæ—¶å¤šä¸ªè¿è¡Œï¼Œè€Œåç¨‹ä»»æ„æ—¶åˆ»åªèƒ½è¿è¡Œä¸€ä¸ªï¼Œå¹¶ä¸”å¤„äºè¿è¡ŒçŠ¶æ€çš„åç¨‹åªæœ‰è¢«æŒ‚èµ·ï¼ˆsuspendï¼‰æ—¶æ‰ä¼šæš‚åœã€‚ userdatauserdata æ˜¯ä¸€ç§ç”¨æˆ·è‡ªå®šä¹‰æ•°æ®ï¼Œç”¨äºè¡¨ç¤ºä¸€ç§ç”±åº”ç”¨ç¨‹åºæˆ– C&#x2F;C++ è¯­è¨€åº“æ‰€åˆ›å»ºçš„ç±»å‹ï¼Œå¯ä»¥å°†ä»»æ„ C&#x2F;C++ çš„ä»»æ„æ•°æ®ç±»å‹çš„æ•°æ®ï¼ˆé€šå¸¸æ˜¯ struct å’Œ æŒ‡é’ˆï¼‰å­˜å‚¨åˆ° Lua å˜é‡ä¸­è°ƒç”¨ã€‚ Lua å˜é‡Lua å˜é‡æœ‰ä¸‰ç§ç±»å‹ï¼šå…¨å±€å˜é‡ã€å±€éƒ¨å˜é‡ã€è¡¨ä¸­çš„åŸŸã€‚ Lua ä¸­çš„å˜é‡å…¨æ˜¯å…¨å±€å˜é‡ï¼Œå“ªæ€•æ˜¯è¯­å¥å—æˆ–æ˜¯å‡½æ•°é‡Œï¼Œé™¤éç”¨ local æ˜¾å¼å£°æ˜ä¸ºå±€éƒ¨å˜é‡ã€‚ å˜é‡çš„é»˜è®¤å€¼å‡ä¸º nil 123456789101112131415161718a = 5 -- å…¨å±€å˜é‡local b = 5 -- å±€éƒ¨å˜é‡function joke() c = 5 -- å…¨å±€å˜é‡ local d = 6 -- å±€éƒ¨å˜é‡endjoke()print(c,d) --&gt; 5 nildo local a = 6 -- å±€éƒ¨å˜é‡ b = 6 -- å¯¹å±€éƒ¨å˜é‡é‡æ–°èµ‹å€¼ print(a,b); --&gt; 6 6endprint(a,b) --&gt; 5 6 åº”è¯¥å°½å¯èƒ½çš„ä½¿ç”¨å±€éƒ¨å˜é‡ï¼Œæœ‰ä¸¤ä¸ªå¥½å¤„ï¼š é¿å…å‘½åå†²çªã€‚ è®¿é—®å±€éƒ¨å˜é‡çš„é€Ÿåº¦æ¯”å…¨å±€å˜é‡æ›´å¿«ã€‚ èµ‹å€¼è¯­å¥ç»™å¤šä¸ªå˜é‡åŒæ—¶èµ‹å€¼ 1a, b = 10, &quot;è¥¿&quot; é‡åˆ°èµ‹å€¼è¯­å¥Luaä¼šå…ˆè®¡ç®—å³è¾¹æ‰€æœ‰çš„å€¼ç„¶åå†æ‰§è¡Œèµ‹å€¼æ“ä½œï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿™æ ·è¿›è¡Œäº¤æ¢å˜é‡çš„å€¼ï¼š 123x, y = &quot;å·¦&quot;, &quot;å³&quot;x, y = y, xprint(x .. y) --&gt; &quot;å³&quot;&quot;å·¦&quot; å½“å˜é‡ä¸ªæ•°å’Œå€¼çš„ä¸ªæ•°ä¸ä¸€è‡´æ—¶ï¼ŒLuaä¼šä¸€ç›´ä»¥å˜é‡ä¸ªæ•°ä¸ºåŸºç¡€é‡‡å–ä»¥ä¸‹ç­–ç•¥ï¼š 12a. å˜é‡ä¸ªæ•° &gt; å€¼çš„ä¸ªæ•° æŒ‰å˜é‡ä¸ªæ•°è¡¥è¶³nilb. å˜é‡ä¸ªæ•° &lt; å€¼çš„ä¸ªæ•° å¤šä½™çš„å€¼ä¼šè¢«å¿½ç•¥ ç´¢å¼•123t[i]t.i -- å½“ç´¢å¼•ä¸ºå­—ç¬¦ä¸²ç±»å‹æ—¶çš„ä¸€ç§ç®€åŒ–å†™æ³•gettable_event(t,i) -- é‡‡ç”¨ç´¢å¼•è®¿é—®æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªç±»ä¼¼è¿™æ ·çš„å‡½æ•°è°ƒç”¨ Lua å¾ªç¯Lua è¯­è¨€æä¾›äº†ä»¥ä¸‹å‡ ç§å¾ªç¯å¤„ç†æ–¹å¼ï¼š å¾ªç¯ç±»å‹ æè¿° while å¾ªç¯ åœ¨æ¡ä»¶ä¸º true æ—¶ï¼Œè®©ç¨‹åºé‡å¤åœ°æ‰§è¡ŒæŸäº›è¯­å¥ã€‚æ‰§è¡Œè¯­å¥å‰ä¼šå…ˆæ£€æŸ¥æ¡ä»¶æ˜¯å¦ä¸º trueã€‚ for å¾ªç¯ é‡å¤æ‰§è¡ŒæŒ‡å®šè¯­å¥ï¼Œé‡å¤æ¬¡æ•°å¯åœ¨ for è¯­å¥ä¸­æ§åˆ¶ã€‚ repeatâ€¦until é‡å¤æ‰§è¡Œå¾ªç¯ï¼Œç›´åˆ° æŒ‡å®šçš„æ¡ä»¶ä¸ºçœŸæ—¶ä¸ºæ­¢ å¾ªç¯åµŒå¥— å¯ä»¥åœ¨å¾ªç¯å†…åµŒå¥—ä¸€ä¸ªæˆ–å¤šä¸ªå¾ªç¯è¯­å¥ï¼ˆwhile do â€¦ end;for â€¦ do â€¦ end;repeat â€¦ until;ï¼‰ å¾ªç¯æ§åˆ¶è¯­å¥ æ§åˆ¶è¯­å¥ æè¿° break è¯­å¥ é€€å‡ºå½“å‰å¾ªç¯æˆ–è¯­å¥ï¼Œå¹¶å¼€å§‹è„šæœ¬æ‰§è¡Œç´§æ¥ç€çš„è¯­å¥ã€‚ goto è¯­å¥ å°†ç¨‹åºçš„æ§åˆ¶ç‚¹è½¬ç§»åˆ°ä¸€ä¸ªæ ‡ç­¾å¤„ã€‚ goto Lua è¯­è¨€ä¸­çš„ goto è¯­å¥å…è®¸å°†æ§åˆ¶æµç¨‹æ— æ¡ä»¶åœ°è½¬åˆ°è¢«æ ‡è®°çš„è¯­å¥å¤„ã€‚ è¯­æ³•æ ¼å¼å¦‚ä¸‹æ‰€ç¤ºï¼š 1goto Label Label çš„æ ¼å¼ä¸ºï¼š 1:: Label :: ä»¥ä¸‹å®ä¾‹åœ¨åˆ¤æ–­è¯­å¥ä¸­ä½¿ç”¨ gotoï¼š 1234567local a = 1::label:: print(&quot;--- goto label ---&quot;)a = a+1if a &lt; 3 then goto label -- a å°äº 3 çš„æ—¶å€™è·³è½¬åˆ°æ ‡ç­¾ labelend è¾“å‡ºç»“æœä¸ºï¼š 12--- goto label ------ goto label --- ä»è¾“å‡ºç»“æœå¯ä»¥çœ‹å‡ºï¼Œå¤šè¾“å‡ºäº†ä¸€æ¬¡ **â€” goto label â€”**ã€‚ ä»¥ä¸‹å®ä¾‹æ¼”ç¤ºäº†å¯ä»¥åœ¨ lable ä¸­è®¾ç½®å¤šä¸ªè¯­å¥ï¼š 123456789i = 0::s1:: do print(i) i = i+1endif i&gt;3 then os.exit() -- i å¤§äº 3 æ—¶é€€å‡ºendgoto s1 è¾“å‡ºç»“æœä¸ºï¼š 12340123 æœ‰äº† gotoï¼Œæˆ‘ä»¬å¯ä»¥å®ç° continue çš„åŠŸèƒ½ï¼š 123456789for i=1, 3 do if i &lt;= 2 then print(i, &quot;yes continue&quot;) goto continue end print(i, &quot;no continue&quot;) ::continue:: print([[i&#x27;m end]])end è¾“å‡ºç»“æœä¸ºï¼š 1234561 yes continuei&#x27;m end2 yes continuei&#x27;m end3 no continuei&#x27;m end Lua å‡½æ•°Lua ç¼–ç¨‹è¯­è¨€å‡½æ•°å®šä¹‰æ ¼å¼å¦‚ä¸‹ï¼š 1234optional_function_scope function function_name( argument1, argument2, argument3..., argumentn) function_body return result_params_comma_separatedend optional_function_scope: è¯¥å‚æ•°æ˜¯å¯é€‰çš„æŒ‡å®šå‡½æ•°æ˜¯å…¨å±€å‡½æ•°è¿˜æ˜¯å±€éƒ¨å‡½æ•°ï¼Œæœªè®¾ç½®è¯¥å‚æ•°é»˜è®¤ä¸ºå…¨å±€å‡½æ•°ï¼Œå¦‚æœä½ éœ€è¦è®¾ç½®å‡½æ•°ä¸ºå±€éƒ¨å‡½æ•°éœ€è¦ä½¿ç”¨å…³é”®å­— localã€‚ function_name: æŒ‡å®šå‡½æ•°åç§°ã€‚ argument1, argument2, argument3â€¦, argumentn: å‡½æ•°å‚æ•°ï¼Œå¤šä¸ªå‚æ•°ä»¥é€—å·éš”å¼€ï¼Œå‡½æ•°ä¹Ÿå¯ä»¥ä¸å¸¦å‚æ•°ã€‚ function_body: å‡½æ•°ä½“ï¼Œå‡½æ•°ä¸­éœ€è¦æ‰§è¡Œçš„ä»£ç è¯­å¥å—ã€‚ result_params_comma_separated: å‡½æ•°è¿”å›å€¼ï¼ŒLuaè¯­è¨€å‡½æ•°å¯ä»¥è¿”å›å¤šä¸ªå€¼ï¼Œæ¯ä¸ªå€¼ä»¥é€—å·éš”å¼€ã€‚ 123456789101112--[[ å‡½æ•°è¿”å›ä¸¤ä¸ªå€¼çš„æœ€å¤§å€¼ --]]function max(num1, num2) if (num1 &gt; num2) then result = num1; else result = num2; end return result;end-- è°ƒç”¨å‡½æ•°print(&quot;ä¸¤å€¼æ¯”è¾ƒæœ€å¤§å€¼ä¸º &quot;,max(10,4)) ----&gt; ä¸¤å€¼æ¯”è¾ƒæœ€å¤§å€¼ä¸º 10print(&quot;ä¸¤å€¼æ¯”è¾ƒæœ€å¤§å€¼ä¸º &quot;,max(5,6)) ----&gt; ä¸¤å€¼æ¯”è¾ƒæœ€å¤§å€¼ä¸º 6 å¤šè¿”å›å€¼ Luaå‡½æ•°å¯ä»¥è¿”å›å¤šä¸ªç»“æœå€¼ï¼Œæ¯”å¦‚string.findï¼Œå…¶è¿”å›åŒ¹é…ä¸²â€å¼€å§‹å’Œç»“æŸçš„ä¸‹æ ‡â€ï¼ˆå¦‚æœä¸å­˜åœ¨åŒ¹é…ä¸²è¿”å›nilï¼‰ã€‚ 12s, e = string.find(&quot;www.runoob.com&quot;, &quot;runoob&quot;) print(s, e) --&gt; 5 10 Luaå‡½æ•°ä¸­ï¼Œåœ¨returnååˆ—å‡ºè¦è¿”å›çš„å€¼çš„åˆ—è¡¨å³å¯è¿”å›å¤šå€¼ï¼Œå¦‚ 12345678910111213function maximum (a) local mi = 1 -- æœ€å¤§å€¼ç´¢å¼• local m = a[mi] -- æœ€å¤§å€¼ for i,val in ipairs(a) do if val &gt; m then mi = i m = val end end return m, miendprint(maximum(&#123;8,10,23,12,5&#125;)) --&gt; 23 3 å¯å˜å‚æ•° Lua å‡½æ•°å¯ä»¥æ¥å—å¯å˜æ•°ç›®çš„å‚æ•°ï¼Œå’Œ C è¯­è¨€ç±»ä¼¼ï¼Œåœ¨å‡½æ•°å‚æ•°åˆ—è¡¨ä¸­ä½¿ç”¨ä¸‰ç‚¹ â€¦ è¡¨ç¤ºå‡½æ•°æœ‰å¯å˜çš„å‚æ•°ã€‚ 12345678910111213function average(...) result = 0 local arg=&#123;...&#125; --&gt; arg ä¸ºä¸€ä¸ªè¡¨ï¼Œå±€éƒ¨å˜é‡ for i,v in ipairs(arg) do result = result + v end print(&quot;æ€»å…±ä¼ å…¥ &quot; .. #arg .. &quot; ä¸ªæ•°&quot;) return result/#argendprint(&quot;å¹³å‡å€¼ä¸º&quot;,average(10,5,3,4,5,6))--&gt; æ€»å…±ä¼ å…¥ 6 ä¸ªæ•°--&gt; å¹³å‡å€¼ä¸º 5.5 æœ‰æ—¶å€™æˆ‘ä»¬å¯èƒ½éœ€è¦å‡ ä¸ªå›ºå®šå‚æ•°åŠ ä¸Šå¯å˜å‚æ•°ï¼Œå›ºå®šå‚æ•°å¿…é¡»æ”¾åœ¨å˜é•¿å‚æ•°ä¹‹å‰ 12345678function fwrite(fmt, ...) ---&gt; å›ºå®šçš„å‚æ•°fmt return io.write(string.format(fmt, ...)) endfwrite(&quot;runoob &quot;) ---&gt;fmt = &quot;runoob&quot;, æ²¡æœ‰å˜é•¿å‚æ•°ã€‚ fwrite(&quot;%d%d &quot;, 1, 2) ---&gt;fmt = &quot;%d%d&quot;, å˜é•¿å‚æ•°ä¸º 1 å’Œ 2--&gt; runoob--&gt; 12 é€šå¸¸åœ¨éå†å˜é•¿å‚æ•°çš„æ—¶å€™åªéœ€è¦ä½¿ç”¨ {â€¦}ï¼Œç„¶è€Œå˜é•¿å‚æ•°å¯èƒ½ä¼šåŒ…å«ä¸€äº› nilï¼Œé‚£ä¹ˆå°±å¯ä»¥ç”¨ select å‡½æ•°æ¥è®¿é—®å˜é•¿å‚æ•°äº†ï¼šselect(â€˜#â€™, â€¦) æˆ–è€… select(n, â€¦) select(â€˜#â€™, â€¦) è¿”å›å¯å˜å‚æ•°çš„é•¿åº¦ã€‚ select(n, â€¦) ç”¨äºè¿”å›ä»èµ·ç‚¹ n å¼€å§‹åˆ°ç»“æŸä½ç½®çš„æ‰€æœ‰å‚æ•°åˆ—è¡¨ã€‚ è°ƒç”¨ select æ—¶ï¼Œå¿…é¡»ä¼ å…¥ä¸€ä¸ªå›ºå®šå®å‚ selector(é€‰æ‹©å¼€å…³) å’Œä¸€ç³»åˆ—å˜é•¿å‚æ•°ã€‚å¦‚æœ selector ä¸ºæ•°å­— nï¼Œé‚£ä¹ˆ select è¿”å›å‚æ•°åˆ—è¡¨ä¸­ä»ç´¢å¼• n å¼€å§‹åˆ°ç»“æŸä½ç½®çš„æ‰€æœ‰å‚æ•°åˆ—è¡¨ï¼Œå¦åˆ™åªèƒ½ä¸ºå­—ç¬¦ä¸² **#**ï¼Œè¿™æ · select è¿”å›å˜é•¿å‚æ•°çš„æ€»æ•°ã€‚ 123456789function f(...) a = select(3,...) --&gt;ä»ç¬¬ä¸‰ä¸ªä½ç½®å¼€å§‹ï¼Œå˜é‡ a å¯¹åº”å³è¾¹å˜é‡åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå‚æ•° print (a) print (select(3,...)) --&gt;æ‰“å°æ‰€æœ‰åˆ—è¡¨å‚æ•°endf(0,1,2,3,4,5)--&gt; 2--&gt; 2 3 4 5 Lua è¿ç®—ç¬¦ç®—æ•°è¿ç®—ç¬¦ä¸‹è¡¨åˆ—å‡ºäº† Lua è¯­è¨€ä¸­çš„å¸¸ç”¨ç®—æœ¯è¿ç®—ç¬¦ï¼Œè®¾å®š A çš„å€¼ä¸º10ï¼ŒB çš„å€¼ä¸º 20ï¼š æ“ä½œç¬¦ æè¿° å®ä¾‹ + åŠ æ³• A + B è¾“å‡ºç»“æœ 30 - å‡æ³• A - B è¾“å‡ºç»“æœ -10 * ä¹˜æ³• A * B è¾“å‡ºç»“æœ 200 &#x2F; é™¤æ³• B &#x2F; A è¾“å‡ºç»“æœ 2 % å–ä½™ B % A è¾“å‡ºç»“æœ 0 ^ ä¹˜å¹‚ A^2 è¾“å‡ºç»“æœ 100 - è´Ÿå· -A è¾“å‡ºç»“æœ -10 &#x2F;&#x2F; æ•´é™¤è¿ç®—ç¬¦(&gt;&#x3D;lua5.3) 5&#x2F;&#x2F;2 è¾“å‡ºç»“æœ 2 å…³ç³»è¿ç®—ç¬¦ä¸‹è¡¨åˆ—å‡ºäº† Lua è¯­è¨€ä¸­çš„å¸¸ç”¨å…³ç³»è¿ç®—ç¬¦ï¼Œè®¾å®š A çš„å€¼ä¸º10ï¼ŒB çš„å€¼ä¸º 20ï¼š æ“ä½œç¬¦ æè¿° å®ä¾‹ &#x3D;&#x3D; ç­‰äºï¼Œæ£€æµ‹ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰è¿”å› trueï¼Œå¦åˆ™è¿”å› false (A &#x3D;&#x3D; B) ä¸º falseã€‚ ~&#x3D; ä¸ç­‰äºï¼Œæ£€æµ‹ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼Œä¸ç›¸ç­‰è¿”å› trueï¼Œå¦åˆ™è¿”å› false (A ~&#x3D; B) ä¸º trueã€‚ &gt; å¤§äºï¼Œå¦‚æœå·¦è¾¹çš„å€¼å¤§äºå³è¾¹çš„å€¼ï¼Œè¿”å› trueï¼Œå¦åˆ™è¿”å› false (A &gt; B) ä¸º falseã€‚ &lt; å°äºï¼Œå¦‚æœå·¦è¾¹çš„å€¼å¤§äºå³è¾¹çš„å€¼ï¼Œè¿”å› falseï¼Œå¦åˆ™è¿”å› true (A &lt; B) ä¸º trueã€‚ &gt;&#x3D; å¤§äºç­‰äºï¼Œå¦‚æœå·¦è¾¹çš„å€¼å¤§äºç­‰äºå³è¾¹çš„å€¼ï¼Œè¿”å› trueï¼Œå¦åˆ™è¿”å› false (A &gt;&#x3D; B) è¿”å› falseã€‚ &lt;&#x3D; å°äºç­‰äºï¼Œ å¦‚æœå·¦è¾¹çš„å€¼å°äºç­‰äºå³è¾¹çš„å€¼ï¼Œè¿”å› trueï¼Œå¦åˆ™è¿”å› false (A &lt;&#x3D; B) è¿”å› trueã€‚ é€»è¾‘è¿ç®—ç¬¦ä¸‹è¡¨åˆ—å‡ºäº† Lua è¯­è¨€ä¸­çš„å¸¸ç”¨é€»è¾‘è¿ç®—ç¬¦ï¼Œè®¾å®š A çš„å€¼ä¸º trueï¼ŒB çš„å€¼ä¸º falseï¼š æ“ä½œç¬¦ æè¿° å®ä¾‹ and é€»è¾‘ä¸æ“ä½œç¬¦ã€‚ è‹¥ A ä¸º falseï¼Œåˆ™è¿”å› Aï¼Œå¦åˆ™è¿”å› Bã€‚ (A and B) ä¸º falseã€‚ or é€»è¾‘æˆ–æ“ä½œç¬¦ã€‚ è‹¥ A ä¸º trueï¼Œåˆ™è¿”å› Aï¼Œå¦åˆ™è¿”å› Bã€‚ (A or B) ä¸º trueã€‚ not é€»è¾‘éæ“ä½œç¬¦ã€‚ä¸é€»è¾‘è¿ç®—ç»“æœç›¸åï¼Œå¦‚æœæ¡ä»¶ä¸º trueï¼Œé€»è¾‘éä¸º falseã€‚ not(A and B) ä¸º trueã€‚ å…¶ä»–è¿ç®—ç¬¦ä¸‹è¡¨åˆ—å‡ºäº† Lua è¯­è¨€ä¸­çš„è¿æ¥è¿ç®—ç¬¦ä¸è®¡ç®—è¡¨æˆ–å­—ç¬¦ä¸²é•¿åº¦çš„è¿ç®—ç¬¦ï¼š æ“ä½œç¬¦ æè¿° å®ä¾‹ .. è¿æ¥ä¸¤ä¸ªå­—ç¬¦ä¸² a..b ï¼Œå…¶ä¸­ a ä¸º â€œHello â€œ ï¼Œ b ä¸º â€œWorldâ€, è¾“å‡ºç»“æœä¸º â€œHello Worldâ€ã€‚ # ä¸€å…ƒè¿ç®—ç¬¦ï¼Œè¿”å›å­—ç¬¦ä¸²æˆ–è¡¨çš„é•¿åº¦ã€‚ #â€Helloâ€ è¿”å› 5 Lua å­—ç¬¦ä¸² å•å¼•å·é—´çš„ä¸€ä¸²å­—ç¬¦ã€‚ 12local str1 = &#x27;This is a string.&#x27;local str2 = &quot;This is also a string.&quot; åŒå¼•å·é—´çš„ä¸€ä¸²å­—ç¬¦ã€‚ 123local str = &quot;Hello, &quot;str = str .. &quot;World!&quot; -- åˆ›å»ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²å¹¶å°†å…¶èµ‹å€¼ç»™strprint(str) -- è¾“å‡º &quot;Hello, World!&quot; [[ ä¸ ]] é—´çš„ä¸€ä¸²å­—ç¬¦ã€‚ 1234567local multilineString = [[This is a multiline string.It can contain multiple lines of text.No need for escape characters.]]print(multilineString) å­—ç¬¦ä¸²é•¿åº¦è®¡ç®—åœ¨ Lua ä¸­ï¼Œè¦è®¡ç®—å­—ç¬¦ä¸²çš„é•¿åº¦ï¼ˆå³å­—ç¬¦ä¸²ä¸­å­—ç¬¦çš„ä¸ªæ•°ï¼‰ï¼Œä½ å¯ä»¥ä½¿ç”¨ string.lenå‡½æ•°æˆ– utf8.len å‡½æ•°ï¼ŒåŒ…å«ä¸­æ–‡çš„ä¸€èˆ¬ç”¨ utf8.lenï¼Œstring.len å‡½æ•°ç”¨äºè®¡ç®—åªåŒ…å« ASCII å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚ 123456789local myString = &quot;Hello, ä¸–ç•Œ!&quot;-- è®¡ç®—å­—ç¬¦ä¸²çš„é•¿åº¦ï¼ˆå­—ç¬¦ä¸ªæ•°ï¼‰local length1 = utf8.len(myString)print(length1) --&gt; è¾“å‡º 10-- string.len å‡½æ•°ä¼šå¯¼è‡´ç»“æœä¸å‡†ç¡®ï¼ˆä¸­æ–‡ç®—3ä¸ªå­—ç¬¦ï¼‰local length2 = string.len(myString)print(length2) --&gt; è¾“å‡º 14 è½¬ä¹‰å­—ç¬¦è½¬ä¹‰å­—ç¬¦ç”¨äºè¡¨ç¤ºä¸èƒ½ç›´æ¥æ˜¾ç¤ºçš„å­—ç¬¦ï¼Œæ¯”å¦‚åé€€é”®ï¼Œå›è½¦é”®ç­‰ï¼Œå¦‚åœ¨å­—ç¬¦ä¸²è½¬æ¢åŒå¼•å·å¯ä»¥ä½¿ç”¨ ****ã€‚ æ‰€æœ‰çš„è½¬ä¹‰å­—ç¬¦å’Œæ‰€å¯¹åº”çš„æ„ä¹‰ï¼š è½¬ä¹‰å­—ç¬¦ æ„ä¹‰ ASCIIç å€¼ï¼ˆåè¿›åˆ¶ï¼‰ \\a å“é“ƒ(BEL) 007 \\b é€€æ ¼(BS) ï¼Œå°†å½“å‰ä½ç½®ç§»åˆ°å‰ä¸€åˆ— 008 \\f æ¢é¡µ(FF)ï¼Œå°†å½“å‰ä½ç½®ç§»åˆ°ä¸‹é¡µå¼€å¤´ 012 æ¢è¡Œ(LF) ï¼Œå°†å½“å‰ä½ç½®ç§»åˆ°ä¸‹ä¸€è¡Œå¼€å¤´ 010 \\r å›è½¦(CR) ï¼Œå°†å½“å‰ä½ç½®ç§»åˆ°æœ¬è¡Œå¼€å¤´ 013 \\t æ°´å¹³åˆ¶è¡¨(HT) ï¼ˆè·³åˆ°ä¸‹ä¸€ä¸ªTABä½ç½®ï¼‰ 009 \\v å‚ç›´åˆ¶è¡¨(VT) 011 \\\\ ä»£è¡¨ä¸€ä¸ªåæ–œçº¿å­—ç¬¦â€\\â€œ 092 \\â€˜ ä»£è¡¨ä¸€ä¸ªå•å¼•å·ï¼ˆæ’‡å·ï¼‰å­—ç¬¦ 039 \\â€œ ä»£è¡¨ä¸€ä¸ªåŒå¼•å·å­—ç¬¦ 034 \\0 ç©ºå­—ç¬¦(NULL) 000 \\ddd 1åˆ°3ä½å…«è¿›åˆ¶æ•°æ‰€ä»£è¡¨çš„ä»»æ„å­—ç¬¦ ä¸‰ä½å…«è¿›åˆ¶ \\xhh 1åˆ°2ä½åå…­è¿›åˆ¶æ‰€ä»£è¡¨çš„ä»»æ„å­—ç¬¦ äºŒä½åå…­è¿›åˆ¶ å­—ç¬¦ä¸²æ“ä½œLua æä¾›äº†å¾ˆå¤šçš„æ–¹æ³•æ¥æ”¯æŒå­—ç¬¦ä¸²çš„æ“ä½œï¼š åºå· æ–¹æ³• &amp; ç”¨é€” 1 string.upper(argument): å­—ç¬¦ä¸²å…¨éƒ¨è½¬ä¸ºå¤§å†™å­—æ¯ã€‚ 2 string.lower(argument): å­—ç¬¦ä¸²å…¨éƒ¨è½¬ä¸ºå°å†™å­—æ¯ã€‚ 3 string.gsub(mainString,findString,replaceString,num): åœ¨å­—ç¬¦ä¸²ä¸­æ›¿æ¢ã€‚mainString ä¸ºè¦æ“ä½œçš„å­—ç¬¦ä¸²ï¼Œ findString ä¸ºè¢«æ›¿æ¢çš„å­—ç¬¦ï¼ŒreplaceString è¦æ›¿æ¢çš„å­—ç¬¦ï¼Œnum æ›¿æ¢æ¬¡æ•°ï¼ˆå¯ä»¥å¿½ç•¥ï¼Œåˆ™å…¨éƒ¨æ›¿æ¢ï¼‰ï¼Œå¦‚ï¼š&gt; string.gsub(&quot;aaaa&quot;,&quot;a&quot;,&quot;z&quot;,3); zzza 3 4 string.find (str, substr, [init, [plain]]): åœ¨ä¸€ä¸ªæŒ‡å®šçš„ç›®æ ‡å­—ç¬¦ä¸² str ä¸­æœç´¢æŒ‡å®šçš„å†…å®¹ substrï¼Œå¦‚æœæ‰¾åˆ°äº†ä¸€ä¸ªåŒ¹é…çš„å­ä¸²ï¼Œå°±ä¼šè¿”å›è¿™ä¸ªå­ä¸²çš„èµ·å§‹ç´¢å¼•å’Œç»“æŸç´¢å¼•ï¼Œä¸å­˜åœ¨åˆ™è¿”å› nilã€‚init æŒ‡å®šäº†æœç´¢çš„èµ·å§‹ä½ç½®ï¼Œé»˜è®¤ä¸º 1ï¼Œå¯ä»¥ä¸€ä¸ªè´Ÿæ•°ï¼Œè¡¨ç¤ºä»åå¾€å‰æ•°çš„å­—ç¬¦ä¸ªæ•°ã€‚plain è¡¨ç¤ºæ˜¯å¦ä½¿ç”¨ç®€å•æ¨¡å¼ï¼Œé»˜è®¤ä¸º falseï¼Œtrue åªåšç®€å•çš„æŸ¥æ‰¾å­ä¸²çš„æ“ä½œï¼Œfalse è¡¨ç¤ºä½¿ç”¨ä½¿ç”¨æ­£åˆ™æ¨¡å¼åŒ¹é…ã€‚ä»¥ä¸‹å®ä¾‹æŸ¥æ‰¾å­—ç¬¦ä¸² â€œLuaâ€ çš„èµ·å§‹ç´¢å¼•å’Œç»“æŸç´¢å¼•ä½ç½®ï¼š&gt; string.find(&quot;Hello Lua user&quot;, &quot;Lua&quot;, 1) 7 9 5 string.reverse(arg): å­—ç¬¦ä¸²åè½¬&gt; string.reverse(&quot;Lua&quot;) auL 6 string.format(â€¦): è¿”å›ä¸€ä¸ªç±»ä¼¼printfçš„æ ¼å¼åŒ–å­—ç¬¦ä¸²&gt; string.format(&quot;the value is:%d&quot;,4) the value is:4 7 string.char(arg) å’Œ string.byte(arg[,int]): char å°†æ•´å‹æ•°å­—è½¬æˆå­—ç¬¦å¹¶è¿æ¥ï¼Œ byte è½¬æ¢å­—ç¬¦ä¸ºæ•´æ•°å€¼(å¯ä»¥æŒ‡å®šæŸä¸ªå­—ç¬¦ï¼Œé»˜è®¤ç¬¬ä¸€ä¸ªå­—ç¬¦)ã€‚&gt; string.char(97,98,99,100) abcd &gt; string.byte(&quot;ABCD&quot;,4) 68 &gt; string.byte(&quot;ABCD&quot;) 65 &gt; 8 string.len(arg): è®¡ç®—å­—ç¬¦ä¸²é•¿åº¦ã€‚string.len(&quot;abc&quot;) 3 9 string.rep(string, n): è¿”å›å­—ç¬¦ä¸²stringçš„nä¸ªæ‹·è´&gt; string.rep(&quot;abcd&quot;,2) abcdabcd 10 .. é“¾æ¥ä¸¤ä¸ªå­—ç¬¦ä¸²&gt; print(&quot;www.runoob.&quot;..&quot;com&quot;) www.runoob.com 11 string.gmatch(str, pattern): è¿”å›ä¸€ä¸ªè¿­ä»£å™¨å‡½æ•°ï¼Œæ¯ä¸€æ¬¡è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªåœ¨å­—ç¬¦ä¸² str æ‰¾åˆ°çš„ä¸‹ä¸€ä¸ªç¬¦åˆ pattern æè¿°çš„å­ä¸²ã€‚å¦‚æœå‚æ•° pattern æè¿°çš„å­—ç¬¦ä¸²æ²¡æœ‰æ‰¾åˆ°ï¼Œè¿­ä»£å‡½æ•°è¿”å›nilã€‚&gt; for word in string.gmatch(&quot;Hello Lua user&quot;, &quot;%a+&quot;) do print(word) end Hello Lua user 12 string.match(str, pattern, init): string.match()åªå¯»æ‰¾æºå­—ä¸²strä¸­çš„ç¬¬ä¸€ä¸ªé…å¯¹. å‚æ•°initå¯é€‰, æŒ‡å®šæœå¯»è¿‡ç¨‹çš„èµ·ç‚¹, é»˜è®¤ä¸º1ã€‚ åœ¨æˆåŠŸé…å¯¹æ—¶, å‡½æ•°å°†è¿”å›é…å¯¹è¡¨è¾¾å¼ä¸­çš„æ‰€æœ‰æ•è·ç»“æœ; å¦‚æœæ²¡æœ‰è®¾ç½®æ•è·æ ‡è®°, åˆ™è¿”å›æ•´ä¸ªé…å¯¹å­—ç¬¦ä¸². å½“æ²¡æœ‰æˆåŠŸçš„é…å¯¹æ—¶, è¿”å›nilã€‚&gt; = string.match(&quot;I have 2 questions for you.&quot;, &quot;%d+ %a+&quot;) 2 questions &gt; = string.format(&quot;%d, %q&quot;, string.match(&quot;I have 2 questions for you.&quot;, &quot;(%d+) (%a+)&quot;)) 2, &quot;questions&quot; å­—ç¬¦ä¸²æˆªå– 1string.sub(s, i [, j]) s: è¦æˆªå–çš„å­—ç¬¦ä¸² i: æˆªå–å¼€å§‹ä½ç½® j: ç»“æŸä½ç½®ï¼Œé»˜è®¤ä¸º -1ï¼Œæœ€åä¸€ä¸ªå­—ç¬¦ å­—ç¬¦ä¸²æ ¼å¼åŒ– Lua æä¾›äº† string.format() å‡½æ•°æ¥ç”Ÿæˆå…·æœ‰ç‰¹å®šæ ¼å¼çš„å­—ç¬¦ä¸², å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ ¼å¼ , ä¹‹åæ˜¯å¯¹åº”æ ¼å¼ä¸­æ¯ä¸ªä»£å·çš„å„ç§æ•°æ®ã€‚ ç”±äºæ ¼å¼å­—ç¬¦ä¸²çš„å­˜åœ¨, ä½¿å¾—äº§ç”Ÿçš„é•¿å­—ç¬¦ä¸²å¯è¯»æ€§å¤§å¤§æé«˜äº†ã€‚è¿™ä¸ªå‡½æ•°çš„æ ¼å¼å¾ˆåƒ C è¯­è¨€ä¸­çš„ printf()ã€‚ ä»¥ä¸‹å®ä¾‹æ¼”ç¤ºäº†å¦‚ä½•å¯¹å­—ç¬¦ä¸²è¿›è¡Œæ ¼å¼åŒ–æ“ä½œï¼š æ ¼å¼å­—ç¬¦ä¸²å¯èƒ½åŒ…å«ä»¥ä¸‹çš„è½¬ä¹‰ç : %c - æ¥å—ä¸€ä¸ªæ•°å­—, å¹¶å°†å…¶è½¬åŒ–ä¸ºASCIIç è¡¨ä¸­å¯¹åº”çš„å­—ç¬¦ %d, %i - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºæœ‰ç¬¦å·çš„æ•´æ•°æ ¼å¼ %o - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºå…«è¿›åˆ¶æ•°æ ¼å¼ %u - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºæ— ç¬¦å·æ•´æ•°æ ¼å¼ %x - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºåå…­è¿›åˆ¶æ•°æ ¼å¼, ä½¿ç”¨å°å†™å­—æ¯ %X - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºåå…­è¿›åˆ¶æ•°æ ¼å¼, ä½¿ç”¨å¤§å†™å­—æ¯ %e - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºç§‘å­¦è®°æ•°æ³•æ ¼å¼, ä½¿ç”¨å°å†™å­—æ¯e %E - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºç§‘å­¦è®°æ•°æ³•æ ¼å¼, ä½¿ç”¨å¤§å†™å­—æ¯E %f - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸ºæµ®ç‚¹æ•°æ ¼å¼ %g(%G) - æ¥å—ä¸€ä¸ªæ•°å­—å¹¶å°†å…¶è½¬åŒ–ä¸º%e(%E, å¯¹åº”%G)åŠ%fä¸­è¾ƒçŸ­çš„ä¸€ç§æ ¼å¼ %q - æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²å¹¶å°†å…¶è½¬åŒ–ä¸ºå¯å®‰å…¨è¢«Luaç¼–è¯‘å™¨è¯»å…¥çš„æ ¼å¼ %s - æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²å¹¶æŒ‰ç…§ç»™å®šçš„å‚æ•°æ ¼å¼åŒ–è¯¥å­—ç¬¦ä¸² ä¸ºè¿›ä¸€æ­¥ç»†åŒ–æ ¼å¼, å¯ä»¥åœ¨%å·åæ·»åŠ å‚æ•°. å‚æ•°å°†ä»¥å¦‚ä¸‹çš„é¡ºåºè¯»å…¥: (1) ç¬¦å·: ä¸€ä¸ª+å·è¡¨ç¤ºå…¶åçš„æ•°å­—è½¬ä¹‰ç¬¦å°†è®©æ­£æ•°æ˜¾ç¤ºæ­£å·. é»˜è®¤æƒ…å†µä¸‹åªæœ‰è´Ÿæ•°æ˜¾ç¤ºç¬¦å·. (2) å ä½ç¬¦: ä¸€ä¸ª0, åœ¨åé¢æŒ‡å®šäº†å­—ä¸²å®½åº¦æ—¶å ä½ç”¨. ä¸å¡«æ—¶çš„é»˜è®¤å ä½ç¬¦æ˜¯ç©ºæ ¼. (3) å¯¹é½æ ‡è¯†: åœ¨æŒ‡å®šäº†å­—ä¸²å®½åº¦æ—¶, é»˜è®¤ä¸ºå³å¯¹é½, å¢åŠ -å·å¯ä»¥æ”¹ä¸ºå·¦å¯¹é½. (4) å®½åº¦æ•°å€¼ (5) å°æ•°ä½æ•°&#x2F;å­—ä¸²è£åˆ‡: åœ¨å®½åº¦æ•°å€¼åå¢åŠ çš„å°æ•°éƒ¨åˆ†n, è‹¥åæ¥f(æµ®ç‚¹æ•°è½¬ä¹‰ç¬¦, å¦‚%6.3f)åˆ™è®¾å®šè¯¥æµ®ç‚¹æ•°çš„å°æ•°åªä¿ç•™nä½, è‹¥åæ¥s(å­—ç¬¦ä¸²è½¬ä¹‰ç¬¦, å¦‚%5.3s)åˆ™è®¾å®šè¯¥å­—ç¬¦ä¸²åªæ˜¾ç¤ºå‰nä½. 1234567891011121314string1 = &quot;Lua&quot;string2 = &quot;Tutorial&quot;number1 = 10number2 = 20-- åŸºæœ¬å­—ç¬¦ä¸²æ ¼å¼åŒ–print(string.format(&quot;åŸºæœ¬æ ¼å¼åŒ– %s %s&quot;,string1,string2))--&gt; Lua Tutorial-- æ—¥æœŸæ ¼å¼åŒ–date = 30; month = 8; year = 2023print(string.format(&quot;æ—¥æœŸæ ¼å¼åŒ– %02d/%02d/%03d&quot;, date, month, year))--&gt; 02/01/2023-- åè¿›åˆ¶æ ¼å¼åŒ–print(string.format(&quot;%.4f&quot;,1/3))--&gt; 0.3333 å­—ç¬¦ä¸æ•´æ•°ç›¸äº’è½¬æ¢ ä»¥ä¸‹å®ä¾‹æ¼”ç¤ºäº†å­—ç¬¦ä¸æ•´æ•°ç›¸äº’è½¬æ¢ï¼š 1234567891011121314-- å­—ç¬¦è½¬æ¢-- è½¬æ¢ç¬¬ä¸€ä¸ªå­—ç¬¦print(string.byte(&quot;Lua&quot;)) --&gt; 76-- è½¬æ¢ç¬¬ä¸‰ä¸ªå­—ç¬¦print(string.byte(&quot;Lua&quot;,3)) --&gt; 97-- è½¬æ¢æœ«å°¾ç¬¬ä¸€ä¸ªå­—ç¬¦print(string.byte(&quot;Lua&quot;,-1)) --&gt; 97-- ç¬¬äºŒä¸ªå­—ç¬¦print(string.byte(&quot;Lua&quot;,2)) --&gt; 117-- è½¬æ¢æœ«å°¾ç¬¬äºŒä¸ªå­—ç¬¦print(string.byte(&quot;Lua&quot;,-2)) --&gt; 117-- æ•´æ•° ASCII ç è½¬æ¢ä¸ºå­—ç¬¦print(string.char(97)) --&gt; a åŒ¹é…æ¨¡å¼ Lua ä¸­çš„åŒ¹é…æ¨¡å¼ç›´æ¥ç”¨å¸¸è§„çš„å­—ç¬¦ä¸²æ¥æè¿°ã€‚ å®ƒç”¨äºæ¨¡å¼åŒ¹é…å‡½æ•° string.find, string.gmatch, string.gsub, string.matchã€‚ ä½ è¿˜å¯ä»¥åœ¨æ¨¡å¼ä¸²ä¸­ä½¿ç”¨å­—ç¬¦ç±»ã€‚ å­—ç¬¦ç±»æŒ‡å¯ä»¥åŒ¹é…ä¸€ä¸ªç‰¹å®šå­—ç¬¦é›†åˆå†…ä»»ä½•å­—ç¬¦çš„æ¨¡å¼é¡¹ã€‚æ¯”å¦‚ï¼Œå­—ç¬¦ç±» %d åŒ¹é…ä»»æ„æ•°å­—ã€‚æ‰€ä»¥ä½ å¯ä»¥ä½¿ç”¨æ¨¡å¼ä¸² %d%d&#x2F;%d%d&#x2F;%d%d%d%d æœç´¢ dd&#x2F;mm&#x2F;yyyy æ ¼å¼çš„æ—¥æœŸï¼š 123s = &quot;Deadline is 30/05/1999, firm&quot;date = &quot;%d%d/%d%d/%d%d%d%d&quot;print(string.sub(s, string.find(s, date))) *--&gt; 30/05/1999* ä¸‹é¢çš„è¡¨åˆ—å‡ºäº†Luaæ”¯æŒçš„æ‰€æœ‰å­—ç¬¦ç±»ï¼š å•ä¸ªå­—ç¬¦(é™¤ ^$()%.[]*+-? å¤–): ä¸è¯¥å­—ç¬¦è‡ªèº«é…å¯¹ .(ç‚¹): ä¸ä»»ä½•å­—ç¬¦é…å¯¹ %a: ä¸ä»»ä½•å­—æ¯é…å¯¹ %c: ä¸ä»»ä½•æ§åˆ¶ç¬¦é…å¯¹(ä¾‹å¦‚ ) %d: ä¸ä»»ä½•æ•°å­—é…å¯¹ %l: ä¸ä»»ä½•å°å†™å­—æ¯é…å¯¹ %p: ä¸ä»»ä½•æ ‡ç‚¹(punctuation)é…å¯¹ %s: ä¸ç©ºç™½å­—ç¬¦é…å¯¹ %u: ä¸ä»»ä½•å¤§å†™å­—æ¯é…å¯¹ %w: ä¸ä»»ä½•å­—æ¯&#x2F;æ•°å­—é…å¯¹ %x: ä¸ä»»ä½•åå…­è¿›åˆ¶æ•°é…å¯¹ %z: ä¸ä»»ä½•ä»£è¡¨0çš„å­—ç¬¦é…å¯¹ %x(æ­¤å¤„xæ˜¯éå­—æ¯éæ•°å­—å­—ç¬¦): ä¸å­—ç¬¦xé…å¯¹. ä¸»è¦ç”¨æ¥å¤„ç†è¡¨è¾¾å¼ä¸­æœ‰åŠŸèƒ½çš„å­—ç¬¦(^$()%.[]*+-?)çš„é…å¯¹é—®é¢˜, ä¾‹å¦‚%%ä¸%é…å¯¹ [æ•°ä¸ªå­—ç¬¦ç±»]: ä¸ä»»ä½•[]ä¸­åŒ…å«çš„å­—ç¬¦ç±»é…å¯¹. ä¾‹å¦‚[%w_]ä¸ä»»ä½•å­—æ¯&#x2F;æ•°å­—, æˆ–ä¸‹åˆ’çº¿ç¬¦å·(_)é…å¯¹ [^æ•°ä¸ªå­—ç¬¦ç±»]: ä¸ä»»ä½•ä¸åŒ…å«åœ¨[]ä¸­çš„å­—ç¬¦ç±»é…å¯¹. ä¾‹å¦‚[^%s]ä¸ä»»ä½•éç©ºç™½å­—ç¬¦é…å¯¹ å½“ä¸Šè¿°çš„å­—ç¬¦ç±»ç”¨å¤§å†™ä¹¦å†™æ—¶, è¡¨ç¤ºä¸éæ­¤å­—ç¬¦ç±»çš„ä»»ä½•å­—ç¬¦é…å¯¹. ä¾‹å¦‚, %Sè¡¨ç¤ºä¸ä»»ä½•éç©ºç™½å­—ç¬¦é…å¯¹.ä¾‹å¦‚ï¼Œâ€™%Aâ€™éå­—æ¯çš„å­—ç¬¦: 12&gt; print(string.gsub(&quot;hello, up-down!&quot;, &quot;%A&quot;, &quot;.&quot;))hello..up.down. 4 æ•°å­—4ä¸æ˜¯å­—ç¬¦ä¸²ç»“æœçš„ä¸€éƒ¨åˆ†ï¼Œä»–æ˜¯gsubè¿”å›çš„ç¬¬äºŒä¸ªç»“æœï¼Œä»£è¡¨å‘ç”Ÿæ›¿æ¢çš„æ¬¡æ•°ã€‚ åœ¨æ¨¡å¼åŒ¹é…ä¸­æœ‰ä¸€äº›ç‰¹æ®Šå­—ç¬¦ï¼Œä»–ä»¬æœ‰ç‰¹æ®Šçš„æ„ä¹‰ï¼ŒLuaä¸­çš„ç‰¹æ®Šå­—ç¬¦å¦‚ä¸‹ï¼š 1( ) . % + - * ? [ ^ $ â€˜%â€™ ç”¨ä½œç‰¹æ®Šå­—ç¬¦çš„è½¬ä¹‰å­—ç¬¦ï¼Œå› æ­¤ â€˜%.â€™ åŒ¹é…ç‚¹ï¼›â€™%%â€™ åŒ¹é…å­—ç¬¦ â€˜%â€™ã€‚è½¬ä¹‰å­—ç¬¦ â€˜%â€™ä¸ä»…å¯ä»¥ç”¨æ¥è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ï¼Œè¿˜å¯ä»¥ç”¨äºæ‰€æœ‰çš„éå­—æ¯çš„å­—ç¬¦ã€‚ æ¨¡å¼æ¡ç›®å¯ä»¥æ˜¯ï¼š å•ä¸ªå­—ç¬¦ç±»åŒ¹é…è¯¥ç±»åˆ«ä¸­ä»»æ„å•ä¸ªå­—ç¬¦ï¼› å•ä¸ªå­—ç¬¦ç±»è·Ÿä¸€ä¸ª â€˜*â€˜ï¼Œ å°†åŒ¹é…é›¶æˆ–å¤šä¸ªè¯¥ç±»çš„å­—ç¬¦ã€‚ è¿™ä¸ªæ¡ç›®æ€»æ˜¯åŒ¹é…å°½å¯èƒ½é•¿çš„ä¸²ï¼› å•ä¸ªå­—ç¬¦ç±»è·Ÿä¸€ä¸ª â€˜+â€˜ï¼Œ å°†åŒ¹é…ä¸€æˆ–æ›´å¤šä¸ªè¯¥ç±»çš„å­—ç¬¦ã€‚ è¿™ä¸ªæ¡ç›®æ€»æ˜¯åŒ¹é…å°½å¯èƒ½é•¿çš„ä¸²ï¼› å•ä¸ªå­—ç¬¦ç±»è·Ÿä¸€ä¸ª â€˜-â€˜ï¼Œ å°†åŒ¹é…é›¶æˆ–æ›´å¤šä¸ªè¯¥ç±»çš„å­—ç¬¦ã€‚ å’Œ â€˜*â€˜ ä¸åŒï¼Œ è¿™ä¸ªæ¡ç›®æ€»æ˜¯åŒ¹é…å°½å¯èƒ½çŸ­çš„ä¸²ï¼› å•ä¸ªå­—ç¬¦ç±»è·Ÿä¸€ä¸ª â€˜?â€˜ï¼Œ å°†åŒ¹é…é›¶æˆ–ä¸€ä¸ªè¯¥ç±»çš„å­—ç¬¦ã€‚ åªè¦æœ‰å¯èƒ½ï¼Œå®ƒä¼šåŒ¹é…ä¸€ä¸ªï¼› %*n*ï¼Œ è¿™é‡Œçš„ n å¯ä»¥ä» 1 åˆ° 9ï¼› è¿™ä¸ªæ¡ç›®åŒ¹é…ä¸€ä¸ªç­‰äº n å·æ•è·ç‰©ï¼ˆåé¢æœ‰æè¿°ï¼‰çš„å­ä¸²ã€‚ %b*xy*ï¼Œ è¿™é‡Œçš„ x å’Œ y æ˜¯ä¸¤ä¸ªæ˜ç¡®çš„å­—ç¬¦ï¼› è¿™ä¸ªæ¡ç›®åŒ¹é…ä»¥ x å¼€å§‹ y ç»“æŸï¼Œ ä¸”å…¶ä¸­ x å’Œ y ä¿æŒ å¹³è¡¡ çš„å­—ç¬¦ä¸²ã€‚ æ„æ€æ˜¯ï¼Œå¦‚æœä»å·¦åˆ°å³è¯»è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œå¯¹æ¯æ¬¡è¯»åˆ°ä¸€ä¸ª x å°± +1 ï¼Œè¯»åˆ°ä¸€ä¸ª y å°± -1ï¼Œ æœ€ç»ˆç»“æŸå¤„çš„é‚£ä¸ª y æ˜¯ç¬¬ä¸€ä¸ªè®°æ•°åˆ° 0 çš„ yã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œæ¡ç›® %b() å¯ä»¥åŒ¹é…åˆ°æ‹¬å·å¹³è¡¡çš„è¡¨è¾¾å¼ã€‚ %f[*set*]ï¼Œ æŒ‡ è¾¹å¢ƒæ¨¡å¼ï¼› è¿™ä¸ªæ¡ç›®ä¼šåŒ¹é…åˆ°ä¸€ä¸ªä½äº set å†…æŸä¸ªå­—ç¬¦ä¹‹å‰çš„ä¸€ä¸ªç©ºä¸²ï¼Œ ä¸”è¿™ä¸ªä½ç½®çš„å‰ä¸€ä¸ªå­—ç¬¦ä¸å±äº set ã€‚ é›†åˆ set çš„å«ä¹‰å¦‚å‰é¢æ‰€è¿°ã€‚ åŒ¹é…å‡ºçš„é‚£ä¸ªç©ºä¸²ä¹‹å¼€å§‹å’Œç»“æŸç‚¹çš„è®¡ç®—å°±çœ‹æˆè¯¥å¤„æœ‰ä¸ªå­—ç¬¦ â€˜\\0â€˜ ä¸€æ ·ã€‚ æ¨¡å¼ï¼š æ¨¡å¼ æŒ‡ä¸€ä¸ªæ¨¡å¼æ¡ç›®çš„åºåˆ—ã€‚ åœ¨æ¨¡å¼æœ€å‰é¢åŠ ä¸Šç¬¦å· â€˜^â€˜ å°†é”šå®šä»å­—ç¬¦ä¸²çš„å¼€å§‹å¤„åšåŒ¹é…ã€‚ åœ¨æ¨¡å¼æœ€åé¢åŠ ä¸Šç¬¦å· â€˜$â€˜ å°†ä½¿åŒ¹é…è¿‡ç¨‹é”šå®šåˆ°å­—ç¬¦ä¸²çš„ç»“å°¾ã€‚ å¦‚æœ â€˜^â€˜ å’Œ â€˜$â€˜ å‡ºç°åœ¨å…¶å®ƒä½ç½®ï¼Œå®ƒä»¬å‡æ²¡æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œåªè¡¨ç¤ºè‡ªèº«ã€‚ æ•è·ï¼š æ¨¡å¼å¯ä»¥åœ¨å†…éƒ¨ç”¨å°æ‹¬å·æ‹¬èµ·ä¸€ä¸ªå­æ¨¡å¼ï¼› è¿™äº›å­æ¨¡å¼è¢«ç§°ä¸º æ•è·ç‰©ã€‚ å½“åŒ¹é…æˆåŠŸæ—¶ï¼Œç”± æ•è·ç‰© åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²ä¸­çš„å­ä¸²è¢«ä¿å­˜èµ·æ¥ç”¨äºæœªæ¥çš„ç”¨é€”ã€‚ æ•è·ç‰©ä»¥å®ƒä»¬å·¦æ‹¬å·çš„æ¬¡åºæ¥ç¼–å·ã€‚ ä¾‹å¦‚ï¼Œå¯¹äºæ¨¡å¼ &quot;(a*(.)%w(%s*))&quot; ï¼Œ å­—ç¬¦ä¸²ä¸­åŒ¹é…åˆ° &quot;a*(.)%w(%s*)&quot; çš„éƒ¨åˆ†ä¿å­˜åœ¨ç¬¬ä¸€ä¸ªæ•è·ç‰©ä¸­ ï¼ˆå› æ­¤æ˜¯ç¼–å· 1 ï¼‰ï¼› ç”± â€œ.â€œ åŒ¹é…åˆ°çš„å­—ç¬¦æ˜¯ 2 å·æ•è·ç‰©ï¼Œ åŒ¹é…åˆ° â€œ%s*â€œ çš„é‚£éƒ¨åˆ†æ˜¯ 3 å·ã€‚ ä½œä¸ºä¸€ä¸ªç‰¹ä¾‹ï¼Œç©ºçš„æ•è· () å°†æ•è·åˆ°å½“å‰å­—ç¬¦ä¸²çš„ä½ç½®ï¼ˆå®ƒæ˜¯ä¸€ä¸ªæ•°å­—ï¼‰ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœå°†æ¨¡å¼ &quot;()aa()&quot; ä½œç”¨åˆ°å­—ç¬¦ä¸² &quot;flaaap&quot; ä¸Šï¼Œå°†äº§ç”Ÿä¸¤ä¸ªæ•è·ç‰©ï¼š 3 å’Œ 5 ã€‚ Lua æ•°ç»„","tags":["Lua"]},{"title":"Unity3Dæ‰‹æ¸¸å¼€å‘ä¸­çš„ç‰¹æ®Šæ–‡ä»¶å¤¹","path":"/2023/08/29/Unity3Dæ‰‹æ¸¸å¼€å‘ä¸­çš„ç‰¹æ®Šæ–‡ä»¶å¤¹/","content":"z è¿™é‡Œåˆ—ä¸¾å‡ºæ‰‹æ¸¸å¼€å‘ä¸­ç”¨åˆ°çš„æ‰€æœ‰ç‰¹æ®Šæ–‡ä»¶å¤¹ EditorEditoræ–‡ä»¶å¤¹å¯ä»¥åœ¨æ ¹ç›®å½•ä¸‹ï¼Œä¹Ÿå¯ä»¥åœ¨å­ç›®å½•é‡Œï¼Œåªè¦åå­å«Editorå°±å¯ä»¥ã€‚æ¯”å¦‚ç›®å½•ï¼š&#x2F;xxx&#x2F;xxx&#x2F;Editor å’Œ &#x2F;Editor æ˜¯ä¸€æ ·çš„ï¼Œæ— è®ºå¤šå°‘ä¸ªå«Editorçš„æ–‡ä»¶å¤¹éƒ½å¯ä»¥ã€‚Editorä¸‹é¢æ”¾çš„æ‰€æœ‰èµ„æºæ–‡ä»¶æˆ–è€…è„šæœ¬æ–‡ä»¶éƒ½ä¸ä¼šè¢«æ‰“è¿›å‘å¸ƒåŒ…ä¸­ï¼Œå¹¶ä¸”è„šæœ¬ä¹Ÿåªèƒ½åœ¨ç¼–è¾‘æ—¶ä½¿ç”¨ã€‚ä¸€èˆ¬å‘¢ä¼šæŠŠä¸€äº›å·¥å…·ç±»çš„è„šæœ¬æ”¾åœ¨è¿™é‡Œï¼Œæˆ–è€…æ˜¯ä¸€äº›ç¼–è¾‘æ—¶ç”¨çš„DLLã€‚ æ¯”å¦‚æˆ‘ä»¬ç°åœ¨è¦åšç±»ä¼¼æŠ€èƒ½ç¼–è¾‘å™¨ï¼Œé‚£ä¹ˆç¼–è¾‘å™¨çš„ä»£ç æ”¾åœ¨è¿™é‡Œæ˜¯å†å¥½ä¸è¿‡äº†ï¼Œå› ä¸ºå®é™…è¿è¡Œæ—¶æˆ‘ä»¬åªéœ€è¦ç¼–è¾‘å™¨ç”Ÿæˆçš„æ–‡ä»¶ï¼Œè€Œä¸éœ€è¦ç¼–è¾‘å™¨çš„æ ¸å¿ƒä»£ç ã€‚ Editor Default ResourcesEditor Default Resourcesæ³¨æ„ä¸­é—´æ˜¯æœ‰ç©ºæ ¼çš„ï¼Œå®ƒå¿…é¡»æ”¾åœ¨Projectè§†å›¾çš„æ ¹ç›®å½•ä¸‹ï¼Œå¦‚æœä½ æƒ³æ”¾åœ¨&#x2F;xxx&#x2F;xxx&#x2F;Editor Default Resources è¿™æ ·æ˜¯ä¸è¡Œçš„ã€‚ä½ å¯ä»¥æŠŠç¼–è¾‘å™¨ç”¨åˆ°çš„ä¸€äº›èµ„æºæ”¾åœ¨è¿™é‡Œï¼Œæ¯”å¦‚å›¾ç‰‡ã€æ–‡æœ¬æ–‡ä»¶ã€ç­‰ç­‰ã€‚å®ƒå’ŒEditoræ–‡ä»¶å¤¹ä¸€æ ·éƒ½ä¸ä¼šè¢«æ‰“åˆ°æœ€ç»ˆå‘å¸ƒåŒ…é‡Œï¼Œä»…ä»…ç”¨äºå¼€å‘æ—¶ä½¿ç”¨ã€‚ä½ å¯ä»¥ç›´æ¥é€šè¿‡EditorGUIUtility.Loadå»è¯»å–è¯¥æ–‡ä»¶å¤¹ä¸‹çš„èµ„æºã€‚ 12TextAsset test = EditorGUIUtility.Load(&quot;test.txt&quot;) as TestAsset;Debug.Log(Text.text); Gizmosæˆ‘è§‰å¾—è¿™ä¸ªæ–‡ä»¶å¤¹å…¶å®æ²¡ä»€ä¹ˆç”¨å¤„ï¼Œå¦‚ä¸‹ä»£ç æ‰€ç¤ºå®ƒå¯ä»¥åœ¨Sceneè§†å›¾é‡Œç»™æŸä¸ªåæ ‡ç»˜åˆ¶ä¸€ä¸ªiconã€‚å®ƒçš„å¥½å¤„æ˜¯å¯ä»¥ä¼ ä¸€ä¸ªVecotor3 ä½œä¸ºå›¾ç‰‡æ˜¾ç¤ºçš„ä½ç½®ã€‚ å‚æ•°2å°±æ˜¯å›¾ç‰‡çš„åå­ï¼Œå½“ç„¶è¿™ä¸ªå›¾ç‰‡å¿…é¡»æ”¾åœ¨Gizmosæ–‡ä»¶å¤¹ä¸‹é¢ã€‚ 1234void OnDrawGizmos()&#123; Gizmos.DrawIcon(transform.position, &quot;0.png&quot;, true);&#125; å¦‚æœåªæƒ³æŒ‚åœ¨è°‹å’Œæ¸¸æˆå¯¹è±¡èº«ä¸Šï¼Œé‚£ä¹ˆåœ¨Inspectoré‡Œé¢å°±å¯ä»¥ç›´æ¥è®¾ç½®ã€‚ è¿™é‡Œè¿˜æ˜¯è¦è¯´è¯´OnDrawGizmos()æ–¹æ³•ï¼Œåªè¦è„šæœ¬ç»§æ‰¿äº†MonoBehaviouråï¼Œå¹¶ä¸”åœ¨ç¼–è¾‘æ¨¡å¼ä¸‹å°±ä¼šæ¯ä¸€å¸§éƒ½æ‰§è¡Œå®ƒã€‚å‘å¸ƒçš„æ¸¸æˆè‚¯å®šå°±ä¸ä¼šæ‰§è¡Œäº†ï¼Œå®ƒåªèƒ½ç”¨äºåœ¨sceneè§†å›¾ä¸­ç»˜åˆ¶ä¸€äº›å°ç‰©ä»¶ã€‚æ¯”å¦‚è¦åšæ‘„åƒæœºè½¨è¿¹ï¼Œé‚£ä¹ˆè‚¯å®šæ˜¯è¦åœ¨Sceneè§†å›¾ä¸­åšä¸€ä¸ªé¢„è§ˆçš„çº¿ï¼Œé‚£ä¹ˆç”¨Gizmos.DrawLine å’ŒGizmos.DrawFrustumå°±å†å¥½ä¸è¿‡äº†ã€‚ Pluginså¦‚æœåšæ‰‹æœºæ¸¸æˆå¼€å‘ä¸€èˆ¬Androidæˆ–è€…iosè¦æ¥å…¥ä¸€äº›sdkï¼Œå¯ä»¥æŠŠsdkä¾èµ–çš„åº“æ–‡ä»¶æ”¾åœ¨è¿™é‡Œï¼Œ æ¯”å¦‚ .so .jar .aæ–‡ä»¶ï¼Œè¿™æ ·æ‰“å®ŒåŒ…ä»¥åå°±ä¼šè‡ªåŠ¨æŠŠè¿™äº›æ–‡ä»¶æ‰“åœ¨ä½ çš„åŒ…ä¸­ã€‚ Resources å¯ä»¥åœ¨æ ¹ç›®å½•ä¸‹ï¼Œä¹Ÿå¯ä»¥åœ¨å­ç›®å½•é‡Œï¼Œåªè¦åå­å«Resourceså°±å¯ä»¥ã€‚æ¯”å¦‚ç›®å½•ï¼š&#x2F;xxx&#x2F;xxx&#x2F;Resources å’Œ &#x2F;Resources æ˜¯ä¸€æ ·çš„ï¼Œæ— è®ºå¤šå°‘ä¸ªå«Resourcesçš„æ–‡ä»¶å¤¹éƒ½å¯ä»¥ã€‚Resourcesæ–‡ä»¶å¤¹ä¸‹çš„èµ„æºä¸ç®¡ä½ ç”¨è¿˜æ˜¯ä¸ç”¨éƒ½ä¼šè¢«æ‰“åŒ…è¿›.apkæˆ–è€….ipa Resource.Load ï¼šç¼–è¾‘æ—¶å’Œè¿è¡Œæ—¶éƒ½å¯ä»¥é€šè¿‡Resource.Loadæ¥ç›´æ¥è¯»å–ã€‚ Resources.LoadAssetAtPath() ï¼šå®ƒå¯ä»¥è¯»å–Assetsç›®å½•ä¸‹çš„ä»»æ„æ–‡ä»¶å¤¹ä¸‹çš„èµ„æºï¼Œå®ƒå¯ä»¥åœ¨ç¼–è¾‘æ—¶æˆ–è€…ç¼–è¾‘å™¨è¿è¡Œæ—¶ç”¨ï¼Œå®ƒä½†æ˜¯å®ƒä¸èƒ½åœ¨çœŸæœºä¸Šç”¨ï¼Œå®ƒçš„è·¯å¾„æ˜¯â€Assets&#x2F;xx&#x2F;xx.xxxâ€ å¿…é¡»æ˜¯è¿™ç§è·¯å¾„ï¼Œå¹¶ä¸”è¦å¸¦æ–‡ä»¶çš„åç¼€åã€‚ AssetDatabase.LoadAssetAtPath()ï¼šå®ƒå¯ä»¥è¯»å–Assetsç›®å½•ä¸‹çš„ä»»æ„æ–‡ä»¶å¤¹ä¸‹çš„èµ„æºï¼Œå®ƒåªèƒ½åœ¨ç¼–è¾‘æ—¶ç”¨ã€‚å®ƒçš„è·¯å¾„æ˜¯â€Assets&#x2F;xx&#x2F;xx.xxxâ€ å¿…é¡»æ˜¯è¿™ç§è·¯å¾„ï¼Œå¹¶ä¸”è¦å¸¦æ–‡ä»¶çš„åç¼€åã€‚ æˆ‘è§‰å¾—åœ¨ç”µè„‘ä¸Šå¼€å‘çš„æ—¶å€™å°½é‡æ¥ç”¨Resource.Load() æˆ–è€… Resources.LoadAssetAtPath() ï¼Œå‡å¦‚æ‰‹æœºä¸Šé€‰æ‹©ä¸€éƒ¨åˆ†èµ„æºè¦æ‰“assetbundleï¼Œä¸€éƒ¨åˆ†èµ„æºResource.Load().é‚£ä¹ˆåœ¨åš.apkæˆ–è€….ipaçš„æ—¶å€™ ç°åœ¨éƒ½æ˜¯ç”¨è„šæœ¬æ¥è‡ªåŠ¨åŒ–æ‰“åŒ…ï¼Œåœ¨æ‰“åŒ…ä¹‹å‰ å¯ä»¥ç”¨AssetDatabase.MoveAsset()æŠŠå·²ç»æ‰“åŒ…æˆassetbundleçš„åŸå§‹æ–‡ä»¶ä»Resourcesæ–‡ä»¶å¤¹ä¸‹ç§»åŠ¨å‡ºå»åœ¨æ‰“åŒ…ï¼Œè¿™æ ·æ‰“å‡ºæ¥çš„è¿è¡ŒåŒ…å°±ä¸ä¼šåŒ…è¡Œå¤šä½™çš„æ–‡ä»¶äº†ã€‚æ‰“å®ŒåŒ…ä»¥åå†æŠŠç§»åŠ¨å‡ºå»çš„æ–‡ä»¶å¤¹ç§»åŠ¨å›æ¥ã€‚ StreamingAssetsè¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„èµ„æºä¹Ÿä¼šå…¨éƒ½æ‰“åŒ…åœ¨.apkæˆ–è€….ipa å®ƒå’ŒResourcesçš„åŒºåˆ«æ˜¯ï¼ŒResourcesä¼šå‹ç¼©æ–‡ä»¶ï¼Œä½†æ˜¯å®ƒä¸ä¼šå‹ç¼©åŸå°ä¸åŠ¨çš„æ‰“åŒ…è¿›å»ã€‚å¹¶ä¸”å®ƒæ˜¯ä¸€ä¸ªåªè¯»çš„æ–‡ä»¶å¤¹ï¼Œå°±æ˜¯ç¨‹åºè¿è¡Œæ—¶åªèƒ½è¯» ä¸èƒ½å†™ã€‚å®ƒåœ¨å„ä¸ªå¹³å°ä¸‹çš„è·¯å¾„æ˜¯ä¸åŒçš„ï¼Œä¸è¿‡ä½ å¯ä»¥ç”¨Application.streamingAssetsPath å®ƒä¼šæ ¹æ®å½“å‰çš„å¹³å°é€‰æ‹©å¯¹åº”çš„è·¯å¾„ã€‚ æœ‰äº›æ¸¸æˆä¸ºäº†è®©æ‰€æœ‰çš„èµ„æºå…¨éƒ¨ä½¿ç”¨assetbundleï¼Œä¼šæŠŠä¸€äº›åˆå§‹çš„assetbundleæ”¾åœ¨StreamingAssetsç›®å½•ä¸‹ï¼Œè¿è¡Œç¨‹åºçš„æ—¶å€™åœ¨æŠŠè¿™äº›assetbundleæ‹·è´åœ¨Application.persistentDataPathç›®å½•ä¸‹ï¼Œå¦‚æœè¿™äº›assetbundleæœ‰æ›´æ–°çš„è¯ï¼Œé‚£ä¹ˆä¸‹è½½åˆ°æ–°çš„assetbundleåœ¨æŠŠApplication.persistentDataPathç›®å½•ä¸‹åŸæœ‰çš„è¦†ç›–æ‰ã€‚ å› ä¸ºApplication.persistentDataPathç›®å½•æ˜¯åº”ç”¨ç¨‹åºçš„æ²™ç›’ç›®å½•ï¼Œæ‰€ä»¥æ‰“åŒ…ä¹‹å‰æ˜¯æ²¡æœ‰è¿™ä¸ªç›®å½•çš„ï¼Œç›´åˆ°åº”ç”¨ç¨‹åºåœ¨æ‰‹æœºä¸Šå®‰è£…å®Œæ¯•æ‰æœ‰è¿™ä¸ªç›®å½•ã€‚ StreamingAssetsç›®å½•ä¸‹çš„èµ„æºéƒ½æ˜¯ä¸å‹ç¼©çš„ï¼Œæ‰€ä»¥å®ƒæ¯”è¾ƒå¤§ä¼šå ç©ºé—´ï¼Œæ¯”å¦‚ä½ çš„åº”ç”¨è£…åœ¨æ‰‹æœºä¸Šä¼šå ç”¨100Mçš„å®¹é‡ï¼Œé‚£ä¹ˆä½ åˆåœ¨StreamingAssetsæ”¾äº†ä¸€ä¸ª100Mçš„assetbundleï¼Œé‚£ä¹ˆæ­¤æ—¶åœ¨è£…åœ¨æ‰‹æœºä¸Šå°±ä¼šåœ¨200Mçš„å®¹é‡ã€‚ è½¬è½½è‡ªUnity3Dç ”ç©¶é™¢ä¹‹æ‰‹æ¸¸å¼€å‘ä¸­æ‰€æœ‰ç‰¹æ®Šçš„æ–‡ä»¶å¤¹ | é›¨æ¾MOMOç¨‹åºç ”ç©¶é™¢ (xuanyusong.com)","tags":["Unity","æ‰‹æ¸¸"]},{"title":"è¿­ä»£å™¨å’Œåç¨‹","path":"/2023/08/27/è¿­ä»£å™¨å’Œåç¨‹/","content":"Unity é‡Œçš„åç¨‹æä¾›äº†ä¸€ç§å¼‚æ­¥å¤„ç†çš„æ–¹å¼ï¼Œå¯ä»¥ç”¨äºå®ç°å»¶è¿Ÿæˆ–è€…åˆ†å¸§çš„æ“ä½œã€‚ Unity åç¨‹çš„å®ç°åŸºæœ¬åŸç†æ˜¯åˆ©ç”¨äº†è¿­ä»£å™¨ã€‚ æœ¬æ–‡ç›®çš„ï¼šäº†è§£è¿­ä»£å™¨ï¼ˆIEnumeratorï¼‰å’Œå¯è¢«è¿­ä»£æ¥å£ï¼ˆIEnumerableï¼‰ è¿­ä»£å™¨å¯ä»¥é¡ºåºéå†å–å¾—ä¸€ä¸ªå®¹å™¨å†…éƒ¨çš„æ•°æ®ï¼Œæ‰€æœ‰å®ç°äº†æ¥å£çš„ IEnumerable çš„ IEnumeratoræ–¹æ³•çš„ç±»éƒ½å¯ä»¥è¢«è¿­ä»£ï¼ˆå¯ä»¥ç”¨ foreach éå†ï¼‰ã€‚ è¿­ä»£å™¨åœ¨ Listã€Map ç­‰å®¹å™¨å†…ç»å¸¸è¢«ä½¿ç”¨ï¼Œä¸€ä¸ªè¿­ä»£å™¨åŸºæœ¬éœ€è¦å®ç°ä¸‰ä¸ªåŠŸèƒ½ï¼š â€‹\tHasNextï¼šæŸ¥è¯¢æ˜¯å¦è¿˜æœ‰ä¸‹ä¸€ä¸ªå…ƒç´  â€‹\tMoveNextï¼šå°†æŒ‡é’ˆç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå…ƒç´  â€‹\tGetCurrentï¼šè·å¾—å½“å‰è¿­ä»£å™¨æŒ‡å‘çš„å…ƒç´  åˆ©ç”¨è¿­ä»£å™¨è¿›è¡Œå…ƒç´ éå†çš„æ—¶å€™ï¼Œå°±æ˜¯ä¸æ–­è°ƒç”¨MoveNextå’ŒGetCurrentè·å–æ‰€æœ‰å…ƒç´ ï¼Œåˆ©ç”¨HasNextç¡®å®šç»ˆæ­¢æ¡ä»¶ã€‚ åœ¨Unityä¸­çš„è¿­ä»£å™¨æ¥å£å½¢å¼ä¸º 1234567public interface IEnumerator&#123; object Current &#123; get; &#125; bool MoveNext(); void Reset();&#125; å…¶ä¸­MoveNext()æ—¢ä½œä¸ºç§»åŠ¨æŒ‡é’ˆçš„ä½œç”¨ï¼Œåˆå®ç°äº†åˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸‹ä¸€ä¸ªå…ƒç´ çš„ä½œç”¨ã€‚Reset()æ–¹æ³•ç»™äºˆäº†è¿­ä»£å™¨è¿”å›åˆ°åˆå§‹æ€çš„èƒ½åŠ›ã€‚ ç°åœ¨å®ç°ä¸€ä¸ªè‡ªå®šä¹‰çš„è¿­ä»£å™¨ 123456789101112131415161718192021222324252627282930313233public class MyEnumerator : IEnumerator&#123; List&lt;int&gt; list; int currentIndex; public MyEnumerator() &#123; list = new List&lt;int&gt;() &#123; 1, 2, 3, 4, 5, 6 &#125;; currentIndex = -1; &#125; public object Current &#123; get =&gt; list[currentIndex]; &#125; public bool MoveNext() &#123; if (currentIndex &lt; list.Count - 1) &#123; currentIndex++; Console.WriteLine($&quot;Ready to Get data from Index &#123;currentIndex&#125;&quot;); return true; &#125; else &#123; Console.WriteLine(&quot;No next data&quot;); return false; &#125; &#125; public void Reset() &#123; currentIndex = -1; &#125;&#125; æµ‹è¯• 12345MyEnumerator myEnumerator = new MyEnumerator();while (myEnumerator.MoveNext())&#123; Console.WriteLine(myEnumerator.Current);&#125; ç»“æœ æ¯æ¬¡è°ƒç”¨MoveNextçš„æ—¶å€™éƒ½ä¼šæ‰“å°ä¸€æ¡ä¿¡æ¯ï¼Œå¹¶åœ¨ç¡®å®šæˆåŠŸç§»åŠ¨æŒ‡é’ˆçš„æ—¶å€™ï¼Œæ‰“å°å½“å‰å€¼ã€‚ åœ¨æ²¡æœ‰ä¸‹ä¸€ä¸ªå…ƒç´ çš„æ—¶å€™ï¼ŒMoveNextè¿”å› falseï¼Œå¾ªç¯ç»ˆæ­¢ æ³¨æ„ï¼šè¿­ä»£å™¨ä¼šå…ˆè°ƒç”¨MoveNextæ–¹æ³•ï¼Œåœ¨å–å€¼ï¼Œæ‰€ä»¥åˆå§‹åŒ–çš„æ—¶å€™currentIndexåº”å¸¦è®¾ç½®æˆ -1 ç®€å•çš„åˆ†å¸§ç¨‹åºè¿›å…¥Unity ä¸Šæ–‡ä¸­MoveNextçš„è°ƒç”¨æ˜¯ä½œä¸ºwhileå¾ªç¯çš„æ¡ä»¶è¯­å¥ï¼Œåˆ©ç”¨whileå¾ªç¯æ˜¯å¿ƒå•Šè¿­ä»£å™¨çš„éå†ã€‚å¦‚æœå°†MoveNextçš„è°ƒç”¨æ”¹åˆ°Updateå‡½æ•°ä¸­ï¼Œé‚£ä¹ˆè¿­ä»£å™¨çš„éå†å°±èƒ½å¤Ÿåœ¨å¤šå¸§å†…å®Œæˆ 123456789101112131415161718192021public class EnumeratorText : MonoBehaviour&#123; MyEnumerator myEnumerator; void Start() &#123; while (myEnumerator.MoveNext()) &#123; Debug.Log(myEnumerator.Current); &#125; &#125; private void Update() &#123; if (myEnumerator.MoveNext()) &#123; Debug.Log(&quot;Frame: &quot; + Time.frameCount); object current = myEnumerator.Current; Debug.Log(current.ToString()); &#125; &#125;&#125; ç»“æœ å…ƒç´ 1å’Œå…ƒç´ 2åœ¨ä¸åŒçš„ä¸¤å¸§å†…è¢«æ‰“å°å‡ºæ¥ï¼Œåœ¨éå†ç»“æŸåï¼Œå†è°ƒç”¨MoveNextå°±åªèƒ½å¾—åˆ° â€œNo next data â€œ çš„æ—¥å¿—äº†ã€‚ ä½œä¸ºåç¨‹ï¼Œæ›´éœ€è¦çš„æ˜¯åˆ†å¸§æ‰§è¡Œä»£ç ï¼Œè€Œéè¿­ä»£å™¨ä¸­çš„å…ƒç´ ï¼Œå› æ­¤Currentè¿”å›çš„å€¼å¹¶ä¸æ˜¯å¾ˆé‡è¦ï¼Œé‡è¦çš„æ˜¯MoveNextæ–¹æ³•èƒ½å¤Ÿå°†æŒ‡é’ˆç§»åŠ¨åˆ°ä¸‹ä¸€æ®µéœ€è¦æ‰§è¡Œçš„ä»£ç ã€‚ç°åœ¨å°†è‡ªå®šä¹‰è¿­ä»£å™¨ä¸­åŸå…ˆçš„ List list å­—æ®µæ”¹ä¸ºList&lt;System.Action&gt; actionså­—æ®µï¼Œå¹¶é‡æ–°å®ç°MoveNextå’ŒCurrentæ¥å£ 12345678910111213141516171819202122232425262728293031323334353637public class MyEnumerator : IEnumerator&#123; List&lt;System.Action&gt; actions; int currentIndex; public MyEnumerator() &#123; actions = new List&lt;System.Action&gt;(); actions.Add(() =&gt; Debug.Log(&quot;Invoke at first frame.&quot;)); actions.Add(() =&gt; Debug.Log(&quot;Invoke at second frame.&quot;)); actions.Add(() =&gt; Debug.Log(&quot;Invoke at third frame&quot;)); currentIndex = -1; &#125; public object Current &#123; get =&gt; null; &#125; public bool MoveNext() &#123; if (currentIndex &lt; actions.Count) &#123; currentIndex++; actions[currentIndex].Invoke(); return true; &#125; else &#123; Debug.Log(&quot;finish&quot;); return false; &#125; &#125; public void Reset() &#123; currentIndex = -1; &#125;&#125; æµ‹è¯• 1234567891011121314public class EnumeratorText : MonoBehaviour&#123; MyEnumerator myEnumerator; void Start() &#123; myEnumerator = new MyEnumerator(); &#125; private void Update() &#123; Debug.Log(&quot;Frame: &quot; + Time.frameCount); myEnumerator.MoveNext(); &#125;&#125; ç»“æœ è¿™æ ·ï¼Œè‡ªå®šä¹‰çš„è¿­ä»£å™¨å°±æœ‰äº†å­˜å‚¨æ“ä½œçš„èƒ½åŠ›äº†ï¼Œä»£ç è¿è¡Œååˆ†å¸§æ‰§è¡Œactionsåˆ—è¡¨ä¸­çš„å†…å®¹ Unity åç¨‹Unity åç¨‹åŸºæœ¬åˆ©ç”¨äº†è¿­ä»£å™¨çš„è¿™ç§ç‰¹æ€§ï¼Œåœ¨æ¯ä¸€å¸§ä¸­è°ƒç”¨è¿­ä»£å™¨çš„MoveNextæ–¹æ³•ï¼Œåˆ©ç”¨MoveNextæ‰§è¡Œç›¸åº”ä»£ç å¹¶ç§»åŠ¨æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªéœ€è¦æ‰§è¡Œçš„ä»£ç å—ã€‚å½“è¿”å›å€¼ä¸ºfalseçš„æ—¶å€™ï¼Œè¯´æ˜è¿­ä»£å™¨åˆ°äº†å°½å¤´ï¼Œå°±å¯ä»¥ç»“æŸè°ƒç”¨ã€‚è€ŒC#æä¾›äº† yield return å…³é”®å­—ç”¨äºå¿«é€Ÿå®ç°è¿­ä»£å™¨ï¼Œä¸éœ€è¦å¾ˆéº»çƒ¦çš„è‡ªå·±å†å»å®ç° 1234567891011121314151617private IEnumerator CoroutineFunction()&#123; Debug.Log(&quot;Start!&quot;); yield return 0; Debug.Log(&quot;Ready Count!&quot;); for(int i = 0; i &lt; 2; ++i) &#123; yield return i; &#125; yield return &quot;End Success&quot;; Debug.Log(&quot;The Last.&quot;);&#125; ä¸¤ä¸ª yield return ä¹‹é—´çš„ä»£ç å°±æ˜¯MoveNextæ‰§è¡Œçš„å†…å®¹ï¼Œyield return åçš„å€¼å°±æ˜¯Currentè¿”å›çš„å†…å®¹ã€‚ æ‰§è¡Œåˆ°æœ€å â€œThe Last.â€ ä»£ç ä¹‹åæ²¡æœ‰äº† yield return è¯­å¥ï¼Œåˆ™è¿”å›falseä»£è¡¨è¿­ä»£å™¨åˆ°äº†ç»ˆç‚¹ã€‚è¿™å°±æ˜¯åç¨‹å‡½æ•°ã€‚ è°ƒç”¨ 1StartCoroutine(CoroutineFunction()); è¿è¡Œ","tags":["Unity","learn","åç¨‹","è¿­ä»£å™¨"]},{"title":"æˆ‘ç¬¬ä¸€ä¸ªå­¦ä¼šçš„è®¾è®¡æ¨¡å¼ï¼šå•ä¾‹æ¨¡å¼","path":"/2023/07/28/æˆ‘ç¬¬ä¸€ä¸ªå­¦ä¼šçš„è®¾è®¡æ¨¡å¼ï¼šå•ä¾‹æ¨¡å¼/","content":"é¦–æ¬¡æ¥è§¦åœ¨è·Ÿéš@é˜¿ä¸¥Gamingè€å¸ˆçš„æ¨ªæ¿å·è½´é£æœºå¤§æˆ˜æ•™ç¨‹ä¸­ï¼Œç¬¬ä¸€å­£æ¥è§¦åˆ°äº†å•ä¾‹æ¨¡å¼ï¼Œè™½ç„¶ä¸å¤ªæ˜ç™½å®ç°çš„åŸç†ï¼Œä½†æ˜¯æ„Ÿè§‰å¾ˆå¥½ç”¨ï¼Œåæ¥ä¹Ÿç»å¸¸åœ¨è‡ªå·±çš„ä¸ªäººé¡¹ç›®ä¸­ç”¨åˆ°ã€‚ å•ä¾‹æ¨¡å¼çš„ç‰¹ç‚¹â€‹\t1.å•ä¾‹ç±»åªèƒ½æœ‰ä¸€ä¸ªå®ä¾‹ã€‚ â€‹\t2.å•ä¾‹ç±»å¿…é¡»è‡ªå·±åˆ›å»ºè‡ªå·±çš„å”¯ä¸€å®ä¾‹ã€‚ â€‹\t3.å•ä¾‹ç±»å¿…é¡»ç»™æ‰€æœ‰å…¶ä»–å¯¹è±¡æä¾›è¿™ä¸€å®ä¾‹ã€‚ Unityä¸­çš„å•ä¾‹å°±æ˜¯æ•´ä¸ªåœºæ™¯ä¸­æœ‰ä¸”åªæœ‰ä¸€ä¸ªçš„ç»„ä»¶ï¼šAudio Managerã€Game Managerã€Scene Loaderã€UI Managerã€è®°å½•ç©å®¶æ•°æ®çš„å®¹å™¨ã€è®°å½•æ¸¸æˆæ•°æ®çš„å®¹å™¨ç­‰ ä½¿ç”¨å•ä¾‹æ¨¡å¼å¯ä»¥æœ‰æ•ˆé˜²æ­¢ä¸åŒæ­¥é—®é¢˜çš„å‡ºç°ï¼Œä¹Ÿå¯ä»¥é¿å…é¢‘ç¹åˆ›å»ºå¯¹è±¡ï¼ŒèŠ‚çº¦å†…å­˜ æ³›å‹å•ä¾‹12345678910public class Singleton&lt;T&gt;:MonoBehaviour where T : Component&#123; // é™æ€å±æ€§å¯å…¨å±€è®¿é—® public static T Instance &#123;get; private set;&#125; // åˆ›å»ºå®ä¾‹ protected virtual void Awake() &#123; Instance = this as T; &#125; &#125; æŒä¹…æ³›å‹å•ä¾‹1234567891011121314151617public class PersistentSingleton&lt;T&gt; : MonoBehaviour where T : Component&#123; public static T Instance &#123;get ; private set;&#125; protected virtual void Awake() &#123; // åˆ›å»ºæ—¶åˆ¤æ–­æ˜¯å¦å·²ç»å­˜åœ¨æ­¤å•ä¾‹ï¼Œå¦‚æœå­˜åœ¨å°±é”€æ¯æ­£åœ¨åˆ›å»ºçš„ if(Instance == null) &#123; Instance = this as T; &#125; else if(Instance != this) &#123; Destroy(gameObject); &#125; DontDestroyOnLoad(gameObject); &#125; åº”ç”¨å®ä¾‹ï¼šè¿™æ˜¯ä¸€æ®µæŒ‚è½½åœ¨â€œAudio Managerâ€ç‰©ä½“ä¸Šçš„ä»£ç ï¼ŒåŒæ—¶è¯¥ç‰©ä½“ä¸Šè¿˜æŒ‚è½½æœ‰Audio Sourceç»„ä»¶ AudioManager.csï¼š1234567891011public class AudioManager : Singleton&lt;AudioManager&gt;&#123; public AudioSource musicPlayer; public void ChangeMusic(AudioClip newClip) &#123; musicPlayer.Stop(); musicPlayer.clip = newClip; musicPlayer.Play(); &#125;&#125; ç±»ä¸­æœ‰ä¸€ä¸ªå…¬å¼€çš„â€œChangeMusicâ€æ–¹æ³•ï¼Œæ¥å—ä¸€ä¸ªâ€œAudioClipâ€ç±»å‹çš„å‚æ•°ï¼Œç”¨æ¥å°†æ­£åœ¨æ’­æ”¾çš„éŸ³ä¹åˆ‡æ¢æˆä¼ å…¥çš„éŸ³é¢‘ç‰‡æ®µ ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š 1AudioManager.Instance.ChangeMusic(newClip); ç®€å•å¥½ç”¨ï¼ æ‰©å±•ç»è¿‡ç½‘ä¸Šçš„æœç´¢ï¼Œæˆ‘å‘ç°ä¸€äº›ä¼ ç»Ÿçš„å•ä¾‹å†™æ³•å’Œè§†é¢‘è€å¸ˆæ•™çš„å¹¶ä¸ä¸€æ ·ï¼Œè§†é¢‘è€å¸ˆæ•™çš„æ˜¯ä»¥ç»§æ‰¿çš„æ–¹æ³•ä½¿ç”¨ï¼Œè€Œä¸‹é¢çš„æ˜¯ä»¥åˆ›å»ºçš„æ–¹æ³•ä½¿ç”¨ï¼šï¼ˆä»¥æˆ‘ç°åœ¨çš„æ°´å¹³ï¼Œå­¦ä¼šä¸€ç§å·²ç»æš‚æ—¶å¤Ÿç”¨äº†ï¼Œä¸‹é¢çš„ä»…ä»…æ˜¯å¤åˆ¶ç²˜è´´ : Dï¼‰ å®ç°æ€è·¯ä¸ç®¡ä»€ä¹ˆè¯­è¨€ï¼Œå•ä¾‹éƒ½å¯ä»¥ç”¨ä»¥ä¸‹æ–¹æ³•å®ç°ï¼š å°†æ„é€ æ–¹æ³•ç§æœ‰åŒ–ï¼Œä½¿å…¶ä¸èƒ½å†ç±»çš„å¤–éƒ¨é€šè¿‡newå…³é”®å­—å®ä¾‹åŒ–è¯¥å¯¹è±¡ åœ¨è¯¥ç±»å†…éƒ¨äº§ç”Ÿä¸€ä¸ªå°¾ç¿¼çš„å®ä¾‹åŒ–å¯¹è±¡ï¼Œå¹¶ä¸”å°†å…¶å°è£…ä¸ºprivate staticç±»å‹ å®šä¹‰ä¸€ä¸ªé™æ€æ–¹æ³•è¿”å›è¿™ä¸ªå”¯ä¸€å¯¹è±¡ åŒæ—¶å•ä¾‹æ¨¡å¼åˆåˆ†ä¸ºâ€œæ‡’æ±‰â€æ¨¡å¼å’Œâ€œé¥¿æ±‰â€æ¨¡å¼ â€‹\tâ€æ‡’æ±‰â€œæ¨¡å¼ï¼šè¿™ä¸ªç±»å¾ˆæ‡’ï¼Œåªä¼šåœ¨ä½ ç”¨åˆ°å®ƒçš„æ—¶å€™åˆ›å»ºè‡ªå·±çš„å®ä¾‹ â€‹\tâ€œé¥¿æ±‰â€æ¨¡å¼ï¼šè¿™ä¸ªç±»å¾ˆå‹¤å¿«ï¼Œä¸è®ºä½ ç”¨ä¸ç”¨ï¼Œå®ƒéƒ½ä¼šè‡ªåŠ¨åˆ›å»ºè‡ªå·±çš„å®ä¾‹ æ‡’æ±‰æ¨¡å¼æè¿°ï¼šè¿™ç§æ–¹å¼æ˜¯æœ€åŸºæœ¬çš„å®ç°æ–¹å¼ï¼Œè¿™ç§å®ç°æœ€å¤§çš„é—®é¢˜å°±æ˜¯ä¸æ”¯æŒå¤šçº¿ç¨‹ã€‚å› ä¸ºæ²¡æœ‰åŠ é” synchronizedï¼Œæ‰€ä»¥ä¸¥æ ¼æ„ä¹‰ä¸Šå®ƒå¹¶ä¸ç®—å•ä¾‹æ¨¡å¼ã€‚è¿™ç§æ–¹å¼ lazy loading å¾ˆæ˜æ˜¾ï¼Œä¸è¦æ±‚çº¿ç¨‹å®‰å…¨ï¼Œåœ¨å¤šçº¿ç¨‹ä¸èƒ½æ­£å¸¸å·¥ä½œã€‚ 1234567891011public class Singleton &#123; private static Singleton instance; private Singleton ()&#123;&#125; public static Singleton getInstance() &#123; if (instance == null) &#123; instance = new Singleton(); &#125; return instance; &#125; &#125; é¥¿æ±‰æ¨¡å¼æè¿°ï¼šè¿™ç§æ–¹å¼æ¯”è¾ƒå¸¸ç”¨ï¼Œä½†å®¹æ˜“äº§ç”Ÿåƒåœ¾å¯¹è±¡ã€‚ä¼˜ç‚¹ï¼šæ²¡æœ‰åŠ é”ï¼Œæ‰§è¡Œæ•ˆç‡ä¼šæé«˜ã€‚ç¼ºç‚¹ï¼šç±»åŠ è½½æ—¶å°±åˆå§‹åŒ–ï¼Œæµªè´¹å†…å­˜ã€‚å®ƒåŸºäº classloader æœºåˆ¶é¿å…äº†å¤šçº¿ç¨‹çš„åŒæ­¥é—®é¢˜ï¼Œä¸è¿‡ï¼Œinstance åœ¨ç±»è£…è½½æ—¶å°±å®ä¾‹åŒ–ï¼Œè™½ç„¶å¯¼è‡´ç±»è£…è½½çš„åŸå› æœ‰å¾ˆå¤šç§ï¼Œåœ¨å•ä¾‹æ¨¡å¼ä¸­å¤§å¤šæ•°éƒ½æ˜¯è°ƒç”¨ getInstance æ–¹æ³•ï¼Œ ä½†æ˜¯ä¹Ÿä¸èƒ½ç¡®å®šæœ‰å…¶ä»–çš„æ–¹å¼ï¼ˆæˆ–è€…å…¶ä»–çš„é™æ€æ–¹æ³•ï¼‰å¯¼è‡´ç±»è£…è½½ï¼Œè¿™æ—¶å€™åˆå§‹åŒ– instance æ˜¾ç„¶æ²¡æœ‰è¾¾åˆ° lazy loading çš„æ•ˆæœã€‚ 1234567public class Singleton &#123; private static Singleton instance = new Singleton(); private Singleton ()&#123;&#125; public static Singleton getInstance() &#123; return instance; &#125; &#125; è¿˜æœ‰å…·ä½“çš„åˆ†ç±»çº¿ç¨‹å®‰å…¨çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œæˆ‘ç°åœ¨çš„æ°´å¹³æœ‰ç‚¹ç†è§£ä¸äº† 2023.8.15 19 : 15 æ›´æ–° å‘ç°ä¸€ç¯‡è§£ç­”äº†æˆ‘ä¹‹å‰ç–‘é—®çš„åšå®¢ï¼Œè½¬è½½ä¸€æ³¢ Unityå•ä¾‹æ¨¡å¼å†™æ³•_unity å•ä¾‹æ¨¡å¼_Eraserisçš„åšå®¢-CSDNåšå®¢ å•ä¾‹ä¸€ï¼šæœ€ç®€å•æœ€å¸¸ç”¨çš„å†™æ³• A â€” ç»§æ‰¿äºMonoBehaviour12345678public class Singleton : MonoBehaviour&#123; public static Singleton instance; private void Awake() &#123; instance = this; &#125;&#125; åœ¨å¦ä¸€ä¸ªç±»ä¸­è°ƒç”¨ï¼ŒSingleton.instance.(æ–¹æ³•)ã€‚ å•ä¾‹äºŒï¼šå‡çº§ç‰ˆå•ä¾‹æ–¹æ³• B â€” ç»§æ‰¿äºMonoBehaviourè¿™ä¸ªæ–¹æ³•ï¼Œæˆ‘æ€»æ˜¯å¯ä»¥åœ¨åˆ«äººçš„é¡¹ç›®é‡Œçœ‹è§ï¼Œåæ¥æ‰çŸ¥é“è¿™æ¯”ç¬¬ä¸€ç§è§„èŒƒã€‚ 1234567891011121314151617public class Singleton : MonoBehaviour&#123; public static Singleton instance; public static Singleton Instance &#123; get &#123; if (instance==null) &#123; instance = FindObjectOfType(typeof(Singleton)) as Singleton; //æˆ–è€… instance=new GameObject(&quot;[Singleton]&quot;).AddComponent&lt;Singleton&gt;(); &#125; return instance; &#125; &#125;&#125; åœ¨å¦ä¸€ä¸ªç±»ä¸­è°ƒç”¨ï¼ŒSingleton.instance.(æ–¹æ³•)ã€‚ å•ä¾‹ä¸‰ï¼šå•ä¾‹æ–¹æ³• C â€” ä¸ç»§æ‰¿äºMonoBehaviouræˆ‘è¿˜ç¢°è§ä¸€äº›å•ä¾‹æ˜¯æ²¡æœ‰ç»§æ‰¿çš„ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰æŒ‚åœ¨åˆ°ç‰©ä½“èº«ä¸Šçš„ 123456789101112131415public class Singleton &#123; public static Singleton instance; public static Singleton Instance &#123; get &#123; if (instance==null) &#123; instance = new Singleton(); &#125; return instance; &#125; &#125;&#125; åœ¨å¦ä¸€ä¸ªç±»ä¸­è°ƒç”¨ï¼ŒSingleton.instance.(æ–¹æ³•)ã€‚ æ€»ç»“ï¼šä¸Šè¿°çš„å•ä¾‹æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œå½’çº³ã€‚å…¶å®å°±æ˜¯ç»§æ‰¿å’Œä¸ç»§æ‰¿ MonoBehaviour çš„å•ä¾‹æ–¹æ³•ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°†ç”¨åˆ°C#è¯­è¨€é¢å‘å¯¹è±¡çš„ç‰¹ç‚¹ï¼ˆå°è£…ã€ç»§æ‰¿ã€å¤šæ€ï¼‰ï¼Œå¯¹æˆ‘ä»¬çš„å•ä¾‹è¿›è¡Œä¸€ä¸ªæ›´å¥½çš„è§„èŒƒã€‚ è¿˜æœ‰ä¸¤ç§å†™æ³•ï¼Œä¸è¿‡æˆ‘ç›®å‰æ˜¯æ²¡ç¢°åˆ°ï¼Œæˆ‘ä¹Ÿè½¬è½½è¿‡æ¥äº†ï¼Œæœ‰å…´è¶£çš„å¯ä»¥å¾€ä¸‹çœ‹ã€‚åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿° å•ä¾‹äº”ï¼šæœ€ç»ˆç‰ˆE â€” ä¸ç»§æ‰¿äºMonoBehaviourï¼ˆä¸éšç€åœºæ™¯åˆ‡æ¢è€Œé”€æ¯ï¼‰åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°","tags":["Unity","è®¾è®¡æ¨¡å¼","å•ä¾‹æ¨¡å¼"]},{"title":"Unityè¿›é˜¶ï¼šScriptableObjectä½¿ç”¨æŒ‡å—","path":"/2023/07/28/Unityè¿›é˜¶ï¼šScriptableObjectä½¿ç”¨æŒ‡å—/","content":"å‰è¨€åœ¨æ¸¸æˆå¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¼šç»å¸¸ä¸æ•°æ®æ‰“äº¤é“ã€‚å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬ä¼šä¸ºæ¸¸æˆå¯¹è±¡é…ç½®æ•°æ®ï¼Œæ¯”å¦‚ç©å®¶åˆå§‹ç”Ÿå‘½å€¼ã€æŠ€èƒ½ä¼¤å®³ç­‰ã€‚é‚£ä¹ˆå°±éœ€è¦æœ‰ä¸ªèƒ½å¤Ÿå­˜å‚¨æ•°æ®çš„ä¸œè¥¿æ¥å’Œæ¸¸æˆå¯¹è±¡è¿›è¡Œäº¤äº’ã€‚ å‡è®¾ç°åœ¨è¦åšä¸€ä¸ªâ€œæ‰“é£æœºâ€çš„æ¸¸æˆï¼Œç©å®¶æ“æ§çš„é£æœºåœ¨åƒäº†ä¸åŒé“å…·åä¼šå‘å°„ä¸åŒç±»å‹çš„å­å¼¹ï¼Œè¿™äº›å­å¼¹çš„é£è¡Œé€Ÿåº¦å’Œä¼¤å®³å„ä¸ç›¸åŒã€‚é‚£ä¹ˆæ˜¾ç„¶æˆ‘ä»¬è¦ä¸ºæ¯ä¸€ç§å­å¼¹é…ç½®å¥½å®ƒçš„å±æ€§å€¼ã€‚ å®ç°æ–¹å¼æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚æˆ‘ä¸ºæ¯ç§å­å¼¹åˆ›å»ºé¢„åˆ¶ä½“ï¼Œç„¶åå†™è„šæœ¬å»å®šä¹‰ä»£è¡¨å­å¼¹å„ä¸ªå±æ€§çš„æˆå‘˜å˜é‡ï¼Œåœ¨é‚£è„šæœ¬æŒ‚è½½åˆ°å­å¼¹é¢„åˆ¶ä½“ä¸Šã€‚ä¸ºäº†æ–¹ä¾¿åœ¨å¼€å‘è°ƒè¯•æˆ‘ä»¬å¯ä»¥å°†è¿™äº›å˜é‡å£°æ˜ä¸ºpublicï¼Œä»¥ä¾¿æˆ‘ä»¬åœ¨ç¼–è¾‘å™¨é¢æ¿ä¸­å¯¹æ•°æ®è¿›è¡Œæ”¹åŠ¨ã€‚","tags":["Unity"]},{"title":"Unityå°æ¡ˆä¾‹ï¼šâ€œè·³ä¸€è·³â€å°æ¸¸æˆçš„ç®€å•å®ç°","path":"/2023/06/12/Unityå°æ¡ˆä¾‹ï¼šâ€œè·³ä¸€è·³â€å°æ¸¸æˆçš„ç®€å•å®ç°/","content":"ä»è¿™ç¯‡å¼€å§‹ï¼Œæˆ‘è¦æŠŠä¸€äº›åšè¿‡çš„unityå°æ¡ˆä¾‹æ¬åˆ°è¿™ä¸Šé¢æ¥^_^ ä¸€ä¸ªæ¨¡ä»¿å¾®ä¿¡è·³ä¸€è·³å°æ¸¸æˆçš„æ¡ˆä¾‹ï¼Œï¼ˆå…¶å®æ˜¯å­¦å§å·æ‡’æ‰¾æˆ‘å¸®åšçš„ç»“è¯¾ä½œä¸šï¼‰ ç‚¹å‡»æŸ¥çœ‹è¯¦ç»†å†…å®¹ å±•å¼€çš„å†…å®¹ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879using System.Collections;using System.Collections.Generic;using UnityEngine;using UnityEngine.UIElements;public class PlayerControl : MonoBehaviour&#123; Rigidbody rb; float timer; public float maxChargeTime; public float jumpPower; public bool doJump; public bool isGround; void Start() &#123; rb = GetComponent&lt;Rigidbody&gt;(); &#125; void Update() &#123; if (Input.GetKey(KeyCode.Mouse0) &amp;&amp; timer &lt; maxChargeTime) &#123; timer += Time.deltaTime; transform.localScale = new Vector3(1, 0.5f + (maxChargeTime - timer) / (2 * maxChargeTime), 1); &#125; if (Input.GetKeyUp(KeyCode.Mouse0)) &#123; doJump = true; transform.localScale = Vector3.one; &#125; if(transform.position.y&lt;-0.5f) &#123; GameManage.S.gameOver = true; &#125; &#125; void FixedUpdate() &#123; if (doJump &amp;&amp; isGround) &#123; Jump(); doJump = false; isGround = false; timer = 0; &#125; &#125; void Jump() &#123; Vector3 dir; if (GameManage.S.playerIsFacingYAxis) &#123; dir = transform.forward; &#125; else &#123; dir = -transform.right; &#125; dir.y = 1; rb.velocity = dir * timer * jumpPower; &#125; void OnCollisionEnter(Collision collision) &#123; if (collision.gameObject.CompareTag(&quot;Ground&quot;)) &#123; if (collision.contacts[0].normal == Vector3.up) &#123; isGround = true; GameManage.S.HitGround(transform.position); &#125; &#125; &#125;&#125; å®Œæ•´ä»£ç ï¼šPlayerControl.cs 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879using System.Collections;using System.Collections.Generic;using UnityEngine;using UnityEngine.UIElements;public class PlayerControl : MonoBehaviour&#123; Rigidbody rb; float timer; public float maxChargeTime; public float jumpPower; public bool doJump; public bool isGround; void Start() &#123; rb = GetComponent&lt;Rigidbody&gt;(); &#125; void Update() &#123; if (Input.GetKey(KeyCode.Mouse0) &amp;&amp; timer &lt; maxChargeTime) &#123; timer += Time.deltaTime; transform.localScale = new Vector3(1, 0.5f + (maxChargeTime - timer) / (2 * maxChargeTime), 1); &#125; if (Input.GetKeyUp(KeyCode.Mouse0)) &#123; doJump = true; transform.localScale = Vector3.one; &#125; if(transform.position.y&lt;-0.5f) &#123; GameManage.S.gameOver = true; &#125; &#125; void FixedUpdate() &#123; if (doJump &amp;&amp; isGround) &#123; Jump(); doJump = false; isGround = false; timer = 0; &#125; &#125; void Jump() &#123; Vector3 dir; if (GameManage.S.playerIsFacingYAxis) &#123; dir = transform.forward; &#125; else &#123; dir = -transform.right; &#125; dir.y = 1; rb.velocity = dir * timer * jumpPower; &#125; void OnCollisionEnter(Collision collision) &#123; if (collision.gameObject.CompareTag(&quot;Ground&quot;)) &#123; if (collision.contacts[0].normal == Vector3.up) &#123; isGround = true; GameManage.S.HitGround(transform.position); &#125; &#125; &#125;&#125;","tags":["Unity"]},{"title":"æµ‹è¯•æ˜¾ç¤ºå›¾ç‰‡é—®é¢˜","path":"/2023/06/10/æµ‹è¯•æ˜¾ç¤ºå›¾ç‰‡é—®é¢˜/","content":"hudieren å¯ç®—æ˜¯æ˜¾ç¤ºäº† ä½†æ˜¯é¢„è§ˆè¿˜æ˜¯ä¸æ˜¾ç¤º0.o è€Œä¸”Typoraé‡Œä¹Ÿä¸æ˜¾ç¤º ï¼ˆå…ˆè¿™æ ·å§èƒ½ç”¨å°±è¡Œï¼Œç­‰ä»¥åå¥½å¥½å›æ¥å­¦ä¹ ï¼‰ ååˆ†æ„Ÿè°¢ Hexo å›¾ç‰‡æ’å…¥æ— æ³•æ˜¾ç¤ºçš„é—®é¢˜ - çŸ¥ä¹ (zhihu.com) ä¸ HEXOæ’å…¥å›¾ç‰‡ï¼ˆè¯¦ç»†ç‰ˆï¼‰ - ç®€ä¹¦ (jianshu.com) ä¸ hexoåšå®¢å¦‚ä½•æ’å…¥å›¾ç‰‡ - çŸ¥ä¹ (zhihu.com) ä¸‰ä½å¤§ä½¬çš„æ•™ç¨‹ï¼ æˆ‘çš„æ”¹åŠ¨æ–¹æ³•ï¼š æ”¹åŠ¨å‰ â†“ â†“ â†“ æ”¹åŠ¨å 2023.8.28 ä¸‹åˆ15 : 15 æ›´æ–°ï¼š æ‰¾åˆ°äº†ä¸€ä¸ªæ›´å¥½ç”¨çš„æ–¹æ³•ï¼š å›¾ç‰‡é™¤äº†å¯ä»¥æ”¾åœ¨ç»Ÿä¸€çš„ images æ–‡ä»¶å¤¹ä¸­ï¼Œè¿˜å¯ä»¥æ”¾åœ¨æ–‡ç« è‡ªå·±çš„ç›®å½•ä¸­ã€‚æ–‡ç« çš„ç›®å½•å¯ä»¥é€šè¿‡é…ç½® _config.yml æ¥ç”Ÿæˆã€‚ æ‰“å¼€é¡¹ç›®æ ¹ç›®å½•ä¸­çš„ _config.yml æ–‡ä»¶ï¼Œå°† _config.ymlæ–‡ä»¶ä¸­çš„é…ç½®é¡¹ post_asset_folder è®¾ä¸º true åï¼Œæ‰§è¡Œå‘½ä»¤ hexo new â€œpost_nameâ€ï¼Œåœ¨ source&#x2F;posts ä¸­ä¼šç”Ÿæˆæ–‡ç«  post_name.md å’ŒåŒåæ–‡ä»¶å¤¹ post_nameã€‚ å°†å›¾ç‰‡èµ„æºæ”¾åœ¨ post_name æ–‡ä»¶å¤¹ä¸­ï¼Œæ–‡ç« å°±å¯ä»¥ä½¿ç”¨ç›¸å¯¹è·¯å¾„å¼•ç”¨å›¾ç‰‡èµ„æºäº†ã€‚ ä½†æ˜¯ä½¿ç”¨è¿™ç§å¼•ç”¨æ–¹å¼ï¼Œå›¾ç‰‡åªèƒ½åœ¨æ–‡ç« ä¸­æ˜¾ç¤ºï¼Œä½†æ— æ³•åœ¨é¦–é¡µä¸­æ­£å¸¸æ˜¾ç¤ºã€‚ å¦‚æœå¸Œæœ›å›¾ç‰‡åœ¨æ–‡ç« å’Œé¦–é¡µä¸­åŒæ—¶æ˜¾ç¤ºï¼Œå¯ä»¥ä½¿ç”¨æ ‡ç­¾æ’ä»¶è¯­æ³•(æ¨èä½¿ç”¨è¿™ç§å¼•ç”¨æ–¹æ³•)ã€‚ 1&#123;% asset_img image.jpg This is an image %&#125; 2022 Hexo åšå®¢æ­å»ºå’Œä½¿ç”¨æ•™ç¨‹(Windows) - çŸ¥ä¹ (zhihu.com)","tags":["æµ‹è¯•"]},{"title":"ç¬¬ä¸€ç¯‡åšå®¢æ^_^","path":"/2023/06/10/ç¬¬ä¸€ç¯‡åšå®¢æ/","content":"ä½ å¥½å•Šï¼Œæˆ‘æ˜¯Zaromeow æˆ‘è¿˜ä¸ä¼šç”¨Markdownå‘€&#x3D;&#x3D; äº® &#x3D;&#x3D; åŠ ç²— å€¾æ–œ å¥½åƒä¸»é¡µçš„é¢„è§ˆé¡µé¢å¤ªé•¿äº† ä¸€ç›´å†™ä¸€ç›´æœ‰ 1 2 3 4 5 ç­‰ä¸‹å»ç ”ç©¶ä¸€ä¸‹ï¼ˆå½“å¤©ï¼šå·²ç»çŸ¥é“äº†ï¼Œåªè¦åœ¨éœ€è¦ç¼©ç•¥çš„åœ°æ–¹å†™ä¸Š&lt;!â€“ more â€“&gt;å°±å¥½äº†ï¼Œæˆ–è€…åœ¨å¼€å¤´çš„Front-Matteré‡Œå†™ä¸Šï¼šdescription: é¢„è§ˆèƒ½çœ‹åˆ°çš„å†…å®¹ï¼‰ å…ˆå»å­¦ä¹ markdownè¯­æ³•å» â€‹ è¯è¯´è¿™é‡Œé¢æœ‰å°è¡¨æƒ…å—âŠ™(ãƒ»â—‡ãƒ»)ï¼Ÿ å¥½åƒæœ‰æ—¶å€™æ›´æ–°ä¸ä¼šåŠæ—¶åŒæ­¥ ä¸€çº§äºŒçº§ä¸‰çº§å“ˆå“ˆ è¯•è¯•å›¾ç‰‡ ! 1642005032081 å¥½åƒæ˜¾ç¤ºä¸å‡ºæ¥ï¼Ÿ æƒ³äº†ä¸€æƒ³è¿˜æ˜¯åœ¨è¿™é‡Œç»ƒä¹ markdownè¯­æ³•å§ï¼ˆæˆ‘æ˜¯å‰ç«¯å°ç™½ï¼Œåªæ˜¯ç•¥å¾®çŸ¥é“ä¸€ç‚¹htmlä¸cssè¯­æ³•ç„¶è€Œåµå…¨ä¸ä¼šç”¨ï¼‰ æ€ä¹ˆæ”¹å­—ä½“é¢œè‰²å‘€ 12345678&lt;font color=red&gt;æˆ‘æ˜¯çº¢è‰²&lt;/font&gt;&lt;font color=#008000&gt;æˆ‘æ˜¯ç»¿è‰²&lt;/font&gt;&lt;font color=yellow&gt;æˆ‘æ˜¯é»„è‰²&lt;/font&gt;&lt;font color=Blue&gt;æˆ‘æ˜¯è“è‰²&lt;/font&gt;&lt;font color= #871F78&gt;æˆ‘æ˜¯ç´«è‰²&lt;/font&gt;&lt;font color= #DCDCDC&gt;æˆ‘æ˜¯æµ…ç°è‰²&lt;/font&gt;&lt;font size=5&gt;æˆ‘æ˜¯å°ºå¯¸&lt;/font&gt;&lt;font face=&quot;é€æµªç«‹æ¥·&quot; color=green size=10&gt;æˆ‘æ˜¯é€æµªç«‹æ¥·ï¼Œç»¿è‰²ï¼Œå°ºå¯¸ä¸º5&lt;/font&gt; æˆ‘æ˜¯çº¢è‰²æˆ‘æ˜¯ç»¿è‰²æˆ‘æ˜¯é»„è‰²æˆ‘æ˜¯è“è‰²æˆ‘æ˜¯ç´«è‰²æˆ‘æ˜¯æµ…ç°è‰²æˆ‘æ˜¯å°ºå¯¸æˆ‘æ˜¯é€æµªç«‹æ¥·ï¼Œç»¿è‰²ï¼Œå°ºå¯¸ä¸º5 ç©ºç™½è¡Œï¼š&lt;br&gt; ä½ ä»¬æœ‰æ²¡æœ‰å‘ç° å¤å¤©çœŸçš„æ¯”å†¬å¤©çƒ­å¾ˆå¤š å•¥éƒ½ä¸æ‡‚å‘€ç°åœ¨ï¼Œç½‘é¡µçš„æ ¼å¼è¿˜æœ‰æƒ³è¦çš„åŠŸèƒ½éƒ½ä¸ä¼šå®ç°ï¼Œå…ˆåŸè°…ä¸€å›å§ ä»£ç è¯­æ³•æµ‹è¯•ï¼š è¿™æ˜¯New Bingç”Ÿæˆçš„ä¸€æ®µä»£ç ï¼š ä½ å¥½ï¼Œè¿™æ˜¯Bingã€‚æˆ‘å¯ä»¥å°è¯•å¸®ä½ å†™ä¸€æ®µæ§åˆ¶è§’è‰²ç§»åŠ¨çš„C#ä»£ç ã€‚ä½ å¯ä»¥å‚è€ƒä»¥ä¸‹ä»£ç ï¼Œå®ƒä½¿ç”¨äº†Rigidbodyç»„ä»¶å’ŒInputç±»æ¥è·å–ç”¨æˆ·çš„è¾“å…¥ï¼Œå¹¶æ ¹æ®ç§»åŠ¨æ–¹å‘å’Œé€Ÿåº¦æ›´æ–°è§’è‰²çš„ä½ç½®(https://stackoverflow.com/questions/67965706/unity-rigidbody)ã€‚ä½ å¯ä»¥æ ¹æ®ä½ çš„éœ€æ±‚ä¿®æ”¹ä»£ç ä¸­çš„å‚æ•°å’Œé€»è¾‘ã€‚ 1234567891011121314151617181920212223242526272829303132using UnityEngine;public class CharacterMovement : MonoBehaviour&#123; // ç§»åŠ¨é€Ÿåº¦ public float speed = 5f; // ç§»åŠ¨æ–¹å‘ private Vector3 direction; // åˆšä½“ç»„ä»¶ private Rigidbody rb; void Start() &#123; // è·å–åˆšä½“ç»„ä»¶ rb = GetComponent&lt;Rigidbody&gt;(); &#125; void Update() &#123; // è·å–æ°´å¹³å’Œå‚ç›´æ–¹å‘çš„è¾“å…¥ float horizontal = Input.GetAxis(&quot;Horizontal&quot;); float vertical = Input.GetAxis(&quot;Vertical&quot;); // è®¡ç®—ç§»åŠ¨æ–¹å‘ direction = new Vector3(horizontal, 0, vertical).normalized; &#125; void FixedUpdate() &#123; // æ ¹æ®ç§»åŠ¨æ–¹å‘å’Œé€Ÿåº¦æ›´æ–°åˆšä½“çš„ä½ç½® rb.MovePosition(transform.position + direction * speed * Time.fixedDeltaTime); &#125;&#125; 2023&#x2F;6&#x2F;22 æ˜¨å¤©æŠŠç”µè„‘æ•´ä¸ªé‡è£…äº†ä¸€éç³»ç»Ÿï¼Œå‘ç°ä»¥å‰çš„åšå®¢ç”¨ä¸äº†äº† äºæ˜¯åˆç…§ç€ä¸‹é¢æ•™ç¨‹è£…äº†ä¸€é æ¢ç”µè„‘åæ€ä¹ˆè¿ç§»hexoåšå®¢ï¼Ÿ_hexoåšå®¢è¿ç§»_Annâ€™s Blogçš„åšå®¢-CSDNåšå®¢ Gitæ•™ç¨‹ SSH keysé…ç½®_Annâ€™s Blogçš„åšå®¢-CSDNåšå®¢ ä¸‹æ¬¡å°±ä»è¿™é‡Œå¼€å§‹å†™å§","tags":["æ¬£å–œè‹¥ç‹‚"]},{"title":"Hello World","path":"/2023/06/09/hello-world/","content":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment"},{"title":"notes","path":"/notes/index.html","content":"æˆ‘çš„ç¬”è®°é¡µé¢ ç ”ç©¶äº†åŠå¤©ï¼Œç¬”è®°è¿˜æ˜¯æ˜¾ç¤ºä¸å‡ºæ¥ã€‚ã€‚ã€‚"},{"title":"C#å…³äºå€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹åœ¨å †æˆ–æ ˆä¸­çš„å­˜å‚¨","path":"/notes/Unityå­¦ä¹ ç¬”è®°/C#å…³äºå€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹åœ¨å †æˆ–æ ˆä¸­çš„å­˜å‚¨.html","content":"å€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹åˆ°åº•å®åœ¨å“ªé‡Œå­˜å‚¨çš„ï¼Œå †ï¼Ÿè¿˜æ˜¯æ ˆï¼Ÿ é¦–å…ˆå€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹ï¼Œæ˜¯C#ä¸­å˜é‡çš„ä¸¤ç§ç±»å‹ã€‚å€¼ç±»å‹åŒ…æ‹¬æˆ‘ä»¬å¸¸ç”¨çš„æ•´å‹ã€æµ®ç‚¹å‹ã€å¸ƒå°”å‹æ•°å€¼ã€æšä¸¾ç­‰ã€‚å¼•ç”¨ç±»å‹åŒ…æ‹¬ç±»ã€æ¥å£ã€æ•°ç»„ã€å§”æ‰˜ç­‰ã€‚ è‡³äºå †å’Œæ ˆï¼Œæ˜¯ä¸¤ç§ä¸åŒçš„å†…å­˜åŒºåŸŸï¼Œå †ï¼ˆheapï¼‰ï¼Œæ ˆï¼ˆå³å †æ ˆï¼ˆstackï¼‰ï¼‰ã€‚ ç®€å•æ¥è¯´ï¼Œå€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹å˜é‡æœ¬èº«åœ¨æ ˆä¸­åˆ†é…å†…å­˜ï¼Œå¼•ç”¨ç±»å‹çš„å®ä¾‹åœ¨å †ä¸­åˆ†é…å†…å­˜ã€‚ï¼ˆè¦æ³¨æ„çš„æ˜¯ï¼Œä¸€å®šè¦ç†è§£æ¸…æ¥šå¼•ç”¨ç±»å‹å˜é‡æœ¬èº«å’Œå¼•ç”¨ç±»å‹çš„å®ä¾‹çš„åŒºåˆ«ï¼Œå¼•ç”¨ç±»å‹å˜é‡å¥½æ¯”ä¸€ä¸ªæŒ‡é’ˆï¼Œå®ƒæ‰€æŒ‡å‘çš„å†…å®¹å³å¼•ç”¨ç±»å‹çš„å®ä¾‹ï¼‰ã€‚æœ‰æ—¶å€™åˆä¼šçœ‹åˆ°ä¸€äº›è¯´æ³•ï¼Œå€¼ç±»å‹åœ¨å…¶æ‰€å®šä¹‰çš„ä½ç½®åˆ†é…å†…å­˜ï¼Œè¿™è®©äººæ„Ÿåˆ°å¾ˆæ··ä¹±å´ä¹Ÿä¸å¾—ä¸åœ¨æ„ï¼Œä¸‹é¢ç®€å•æ‹ä¸€ä¸‹ã€‚ å¦‚ä¸‹é¢ä»£ç ï¼š 12345678910public class TestClass &#123; int a = 0;&#125; public void Function()&#123; int b = 0; TestClass class1 = new TestClass();&#125; æ–¹æ³• Function ä¸­å®šä¹‰çš„å€¼ç±»å‹ï¼ˆæ•´å‹bï¼‰åœ¨æ ˆä¸­åˆ†é…ï¼Œå¼•ç”¨ç±»å‹ï¼ˆç±»class1ï¼‰ä»¥ä¸€ä¸ªç±»ä¼¼äºæŒ‡é’ˆçš„å½¢å¼ä¹Ÿå­˜å‚¨äºæ ˆä¸­ï¼Œè€Œç±»çš„å®ä¾‹å¯¹è±¡å³ä»£ç ä¸­class1æ‰€å¼•ç”¨çš„å®é™…æ•°æ®ï¼ˆæ•´å‹aï¼‰æ˜¯åœ¨å †ä¸Šé¢åˆ†é…çš„ã€‚è¿™å°±å¯ä»¥ç†è§£ï¼Œä¸ºä»€ä¹ˆæœ‰çš„åœ°æ–¹ä¼šè¯´â€œå€¼ç±»å‹åœ¨å…¶æ‰€å®šä¹‰çš„åœ°æ–¹åˆ†é…â€ï¼Œå› ä¸ºä¸Šè¿°ä»£ç ä¸­çš„å€¼ç±»å‹aç”±äºå®šä¹‰åœ¨ç±»ä¸­ï¼Œä½œä¸ºç±»çš„ä¸€ä¸ªæˆå‘˜ï¼Œåœ¨ç±»å®ä¾‹åŒ–æ—¶æ˜¯è¢«åˆ†é…åˆ°å †ä¸­çš„ã€‚ å› æ­¤ï¼Œæ›´è¿›ä¸€æ­¥åœ°ï¼Œå¯ä»¥ç†è§£ä¸ºï¼šå€¼ç±»å‹ä½œä¸ºä¸€ä¸ªæ–¹æ³•ä¸­çš„å±€éƒ¨å˜é‡æ—¶ï¼Œæ˜¯åœ¨æ ˆä¸­åˆ†é…çš„ï¼Œè€Œå½“ä½œä¸ºç±»çš„æˆå‘˜å˜é‡æ—¶ï¼Œæ˜¯åˆ†é…åœ¨å †ä¸­çš„ã€‚ åœ¨ä¸Šé¢ä»£ç çš„ TestClass ä¸­æ·»åŠ ä¸€ä¸ªRunå‡½æ•°ï¼š 123456789101112131415public class TestClass &#123; int a = 0; public void Run() &#123; int c = 0; &#125;&#125; public void Function()&#123; int b = 0; TestClass class1 = new TestClass(); class1.Run();&#125; æ­¤æ—¶ï¼Œæ•´å‹aæ˜¯åœ¨å †ä¸­åˆ†é…å†…å­˜ï¼Œè€ŒRunå‡½æ•°ä¸­çš„æ•´å‹cåœ¨æ ˆä¸­åˆ†é…å†…å­˜ã€‚ å› æ­¤å…³äºå€¼ç±»å‹ã€å¼•ç”¨ç±»å‹å„è‡ªåœ¨å †æˆ–æ ˆä¸Šçš„å†…å­˜åˆ†é…å¯ä»¥æ€»ç»“ä¸ºï¼š å€¼ç±»å‹ä½œä¸ºæ–¹æ³•ä¸­çš„å±€éƒ¨å˜é‡æ—¶ï¼Œåœ¨æ ˆä¸­åˆ†é…ï¼Œè€Œä½œä¸ºç±»çš„æˆå‘˜å˜é‡æ—¶ï¼Œåœ¨å †ä¸­åˆ†é…ï¼›å¼•ç”¨ç±»å‹å˜é‡åœ¨æ ˆä¸­åˆ†é…ï¼Œå¼•ç”¨ç±»å‹çš„å®ä¾‹åœ¨å †ä¸­åˆ†é…ã€‚ ï¼ˆæ¢³ç†äº†ä¸€ä¸‹è‡ªå·±çš„æ€è·¯ï¼Œå¯¹çŸ¥è¯†ç‚¹çš„ç†è§£æ›´æ¸…æ™°äº†ï¼Œè‹¥æœ‰è¯¯è¿˜æœ›æŒ‡æ­£å•¦ã€‚ï¼‰ C# å…³äºå€¼ç±»å‹å’Œå¼•ç”¨ç±»å‹åœ¨å †æˆ–æ ˆä¸­çš„å­˜å‚¨-CSDNåšå®¢"},{"title":"Unityå­¦ä¹ ç¬”è®°","path":"/notes/Unityå­¦ä¹ ç¬”è®°/index.html","content":"d å¤§æ’’å¤§æ’’å¤§è‹æ‰“ unity"},{"title":"æ¸¸æˆ","path":"/notes/æ¸¸æˆ/index.html","content":"d å¤§æ’’å¤§æ’’å¤§è‹æ‰“ unity"},{"title":"ç”Ÿæ´»","path":"/notes/ç”Ÿæ´»/index.html","content":"d å¤§æ’’å¤§æ’’å¤§è‹æ‰“ unity"},{"path":"/custom/js/ZYDark.js","content":"/** * ç›‘å¬ç³»ç»Ÿä¸»é¢˜ * @type {MediaQueryList} */ var OSTheme = window.matchMedia('(prefers-color-scheme: dark)'); OSTheme.addListener(e => { if (window.localStorage.getItem('ZYI_Theme_Mode') === 'Moss') { ThemeChange('Moss'); } }) /** * ä¿®æ”¹åšå®¢ä¸»é¢˜ * @param theme äº®ä¸ºlight,æš—ä¸ºdark,è‡ªåŠ¨ä¸ºauto * @constructor */ const ThemeChange = (theme) => { if (theme === 'light' || (theme === 'Moss' && !OSTheme.matches)) { document.querySelector(\"html\").id = \"ZYLight\"; document.querySelector(\"#start > aside > footer > div > a:nth-child(3)\").style.filter= 'grayscale(0%)'; document.querySelector(\"#start > aside > footer > div > a:nth-child(2)\").style.filter= 'grayscale(100%)'; } else { document.querySelector(\"html\").id = \"ZYDark\"; document.querySelector(\"#start > aside > footer > div > a:nth-child(2)\").style.filter= 'grayscale(0%)'; document.querySelector(\"#start > aside > footer > div > a:nth-child(3)\").style.filter= 'grayscale(100%)'; } if (theme==='Moss'){document.querySelector(\"#start > aside > footer > div > a:nth-child(4)\").style.filter= 'grayscale(0%)';} else {document.querySelector(\"#start > aside > footer > div > a:nth-child(4)\").style.filter= 'grayscale(100%)';} window.localStorage.setItem('ZYI_Theme_Mode', theme); } /** * åˆå§‹åŒ–åšå®¢ä¸»é¢˜ */ switch (window.localStorage.getItem('ZYI_Theme_Mode')) { case 'light': ThemeChange('light'); break; case 'dark': ThemeChange('dark'); break; default: ThemeChange('dark'); } /** * åˆ‡æ¢ä¸»é¢˜æ¨¡å¼ */ document.querySelector(\"#start > aside > footer > div > a:nth-child(2)\").onclick = () => { ThemeChange('dark'); } document.querySelector(\"#start > aside > footer > div > a:nth-child(3)\").onclick = () => { ThemeChange('light'); } document.querySelector(\"#start > aside > footer > div > a:nth-child(4)\").onclick = () => { ThemeChange('Moss'); }"},{"path":"/custom/css/ZYDark.css","content":"#ZYDark:root { --site-bg: #1c1e21; --card: #373d43; --block: #26292c; --block-border: #383d42; --block-hover: #2f3337; --text-p0: #fff; --text-p1: #ccc; --text-p2: #b3b3b3; --text-p3: #858585; --text-p4: #707070; --text-meta: #4d4d4d; --text-code: #ff6333; } @media screen and (max-width: 667px) { #ZYDark:root { --site-bg: #000; } } #ZYDark:root { --blur-bg: rgba(0,0,0,0.5); } #ZYDark .float-panel { --blur-bg: rgba(0,0,0,0.4); } #ZYDark .tag-plugin.tag { --theme: #ff6333; --theme-bg1: #3d1e14; --theme-bg2: #2f2522; --theme-border: #5c2d1f; --text-p0: #ffc4b3; --text-p1: #dfae9f; --text-p2: #f1997e; } #ZYDark .tag-plugin[color='red'] { --theme: #f44336; --theme-bg1: #3d1714; --theme-bg2: #2f2322; --theme-border: #5c231f; --text-p0: #ffb8b3; --text-p1: #dfa49f; --text-p2: #f1867e; } #ZYDark .tag-plugin[color='orange'] { --theme: #fa6400; --theme-bg1: #3d2514; --theme-bg2: #2f2722; --theme-border: #5c371f; --text-p0: #ffd1b3; --text-p1: #dfb99f; --text-p2: #f1ac7e; } #ZYDark .tag-plugin[color='yellow'] { --theme: #ffbd2b; --theme-bg1: #3d3014; --theme-bg2: #2f2b22; --theme-border: #5c491f; --text-p0: #ffe7b3; --text-p1: #dfcb9f; --text-p2: #f1cd7e; } #ZYDark .tag-plugin[color='green'] { --theme: #3dc550; --theme-bg1: #143d1a; --theme-bg2: #222f24; --theme-border: #1f5c27; --text-p0: #b3ffbd; --text-p1: #9fdfa8; --text-p2: #7ef18e; } #ZYDark .tag-plugin[color='cyan'] { --theme: #1bcdfc; --theme-bg1: #14353d; --theme-bg2: #222d2f; --theme-border: #1f4f5c; --text-p0: #b3efff; --text-p1: #9fd2df; --text-p2: #7ed9f1; } #ZYDark .tag-plugin[color='blue'] { --theme: #2196f3; --theme-bg1: #142b3d; --theme-bg2: #222a2f; --theme-border: #1f415c; --text-p0: #b3ddff; --text-p1: #9fc3df; --text-p2: #7ebef1; } #ZYDark .tag-plugin[color='purple'] { --theme: #9c27b0; --theme-bg1: #37143d; --theme-bg2: #2d222f; --theme-border: #531f5c; --text-p0: #f4b3ff; --text-p1: #d69fdf; --text-p2: #e07ef1; } #ZYDark .tag-plugin[color='light'] { --theme-border: #fff; --theme-bg1: #e0e0e0; --theme-bg2: #fff; --text-p0: #000; --text-p1: #111; --text-p2: #1f1f1f; --text-p3: #555; --text-code: #fff; } #ZYDark .tag-plugin[color='dark'] { --theme-border: #000; --theme-bg1: #1f1f1f; --theme-bg2: #111; --text-p0: #fff; --text-p1: #fff; --text-p2: #e0e0e0; --text-p3: #ddd; --text-code: #fff; } #ZYDark .tag-plugin[color='warning'], #ZYDark .tag-plugin[color='light'] { --text-p0: #000; --text-p1: #111; --text-p2: #1f1f1f; --text-p3: #555; --text-code: #fff; } #ZYDark .social-wrap a.social:hover { box-shadow: none; } /* walineè¯„è®ºæ ·å¼ */ #ZYDark .wl-count{ padding: .375em; font-weight: bold; font-size: 1.25em; color: #fff; } #ZYDark .cmt-body.waline{ --waline-white: #000; --waline-light-grey: #666; --waline-dark-grey: #999; /* å¸ƒå±€é¢œè‰² */ --waline-color: #fff; --waline-bgcolor: var(--block); --waline-bgcolor-light: #272727; --waline-border-color: #333; --waline-disable-bgcolor: #444; --waline-disable-color: #272727; /* ç‰¹æ®Šé¢œè‰² */ --waline-bq-color: #272727; /* å…¶ä»–é¢œè‰² */ --waline-info-bgcolor: #272727; --waline-info-color: #666; }"}]